(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ih={exports:{}},Os={},Dh={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=Symbol.for("react.element"),V0=Symbol.for("react.portal"),K0=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),J0=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),dd=Symbol.iterator;function tg(e){return e===null||typeof e!="object"?null:(e=dd&&e[dd]||e["@@iterator"],typeof e=="function"?e:null)}var Rh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fh=Object.assign,Bh={};function Ki(e,t,i){this.props=e,this.context=t,this.refs=Bh,this.updater=i||Rh}Ki.prototype.isReactComponent={};Ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uh(){}Uh.prototype=Ki.prototype;function su(e,t,i){this.props=e,this.context=t,this.refs=Bh,this.updater=i||Rh}var au=su.prototype=new Uh;au.constructor=su;Fh(au,Ki.prototype);au.isPureReactComponent=!0;var hd=Array.isArray,Zh=Object.prototype.hasOwnProperty,lu={current:null},Hh={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,i){var o,s={},l=null,d=null;if(t!=null)for(o in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)Zh.call(t,o)&&!Hh.hasOwnProperty(o)&&(s[o]=t[o]);var f=arguments.length-2;if(f===1)s.children=i;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];s.children=p}if(e&&e.defaultProps)for(o in f=e.defaultProps,f)s[o]===void 0&&(s[o]=f[o]);return{$$typeof:Qr,type:e,key:l,ref:d,props:s,_owner:lu.current}}function ng(e,t){return{$$typeof:Qr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qr}function ig(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var fd=/\/+/g;function ja(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ig(""+e.key):t.toString(36)}function Ko(e,t,i,o,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Qr:case V0:d=!0}}if(d)return d=e,s=s(d),e=o===""?"."+ja(d,0):o,hd(s)?(i="",e!=null&&(i=e.replace(fd,"$&/")+"/"),Ko(s,t,i,"",function(g){return g})):s!=null&&(uu(s)&&(s=ng(s,i+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(fd,"$&/")+"/")+e)),t.push(s)),1;if(d=0,o=o===""?".":o+":",hd(e))for(var f=0;f<e.length;f++){l=e[f];var p=o+ja(l,f);d+=Ko(l,t,i,p,s)}else if(p=tg(e),typeof p=="function")for(e=p.call(e),f=0;!(l=e.next()).done;)l=l.value,p=o+ja(l,f++),d+=Ko(l,t,i,p,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Po(e,t,i){if(e==null)return e;var o=[],s=0;return Ko(e,o,"","",function(l){return t.call(i,l,s++)}),o}function rg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Go={transition:null},og={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Go,ReactCurrentOwner:lu};function Vh(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Po,forEach:function(e,t,i){Po(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Po(e,function(){t++}),t},toArray:function(e){return Po(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Ki;ce.Fragment=K0;ce.Profiler=J0;ce.PureComponent=su;ce.StrictMode=G0;ce.Suspense=Q0;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;ce.act=Vh;ce.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Fh({},e.props),s=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=lu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Zh.call(t,p)&&!Hh.hasOwnProperty(p)&&(o[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];o.children=f}return{$$typeof:Qr,type:e.type,key:s,ref:l,props:o,_owner:d}};ce.createContext=function(e){return e={$$typeof:Y0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$0,_context:e},e.Consumer=e};ce.createElement=Wh;ce.createFactory=function(e){var t=Wh.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:q0,render:e}};ce.isValidElement=uu;ce.lazy=function(e){return{$$typeof:eg,_payload:{_status:-1,_result:e},_init:rg}};ce.memo=function(e,t){return{$$typeof:X0,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Go.transition;Go.transition={};try{e()}finally{Go.transition=t}};ce.unstable_act=Vh;ce.useCallback=function(e,t){return tt.current.useCallback(e,t)};ce.useContext=function(e){return tt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return tt.current.useEffect(e,t)};ce.useId=function(){return tt.current.useId()};ce.useImperativeHandle=function(e,t,i){return tt.current.useImperativeHandle(e,t,i)};ce.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return tt.current.useMemo(e,t)};ce.useReducer=function(e,t,i){return tt.current.useReducer(e,t,i)};ce.useRef=function(e){return tt.current.useRef(e)};ce.useState=function(e){return tt.current.useState(e)};ce.useSyncExternalStore=function(e,t,i){return tt.current.useSyncExternalStore(e,t,i)};ce.useTransition=function(){return tt.current.useTransition()};ce.version="18.3.1";Dh.exports=ce;var E=Dh.exports;const as=W0(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=E,ag=Symbol.for("react.element"),lg=Symbol.for("react.fragment"),ug=Object.prototype.hasOwnProperty,cg=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dg={key:!0,ref:!0,__self:!0,__source:!0};function Kh(e,t,i){var o,s={},l=null,d=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(o in t)ug.call(t,o)&&!dg.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:ag,type:e,key:l,ref:d,props:s,_owner:cg.current}}Os.Fragment=lg;Os.jsx=Kh;Os.jsxs=Kh;Ih.exports=Os;var c=Ih.exports,ll={},Gh={exports:{}},gt={},Jh={exports:{}},$h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,W){var A=T.length;T.push(W);e:for(;0<A;){var $=A-1>>>1,le=T[$];if(0<s(le,W))T[$]=W,T[A]=le,A=$;else break e}}function i(T){return T.length===0?null:T[0]}function o(T){if(T.length===0)return null;var W=T[0],A=T.pop();if(A!==W){T[0]=A;e:for(var $=0,le=T.length,B=le>>>1;$<B;){var Q=2*($+1)-1,G=T[Q],X=Q+1,be=T[X];if(0>s(G,A))X<le&&0>s(be,G)?(T[$]=be,T[X]=A,$=X):(T[$]=G,T[Q]=A,$=Q);else if(X<le&&0>s(be,A))T[$]=be,T[X]=A,$=X;else break e}}return W}function s(T,W){var A=T.sortIndex-W.sortIndex;return A!==0?A:T.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],g=[],S=1,w=null,b=3,P=!1,z=!1,C=!1,K=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var W=i(g);W!==null;){if(W.callback===null)o(g);else if(W.startTime<=T)o(g),W.sortIndex=W.expirationTime,t(p,W);else break;W=i(g)}}function j(T){if(C=!1,y(T),!z)if(i(p)!==null)z=!0,re(I);else{var W=i(g);W!==null&&ae(j,W.startTime-T)}}function I(T,W){z=!1,C&&(C=!1,v(H),H=-1),P=!0;var A=b;try{for(y(W),w=i(p);w!==null&&(!(w.expirationTime>W)||T&&!J());){var $=w.callback;if(typeof $=="function"){w.callback=null,b=w.priorityLevel;var le=$(w.expirationTime<=W);W=e.unstable_now(),typeof le=="function"?w.callback=le:w===i(p)&&o(p),y(W)}else o(p);w=i(p)}if(w!==null)var B=!0;else{var Q=i(g);Q!==null&&ae(j,Q.startTime-W),B=!1}return B}finally{w=null,b=A,P=!1}}var F=!1,D=null,H=-1,Z=5,R=-1;function J(){return!(e.unstable_now()-R<Z)}function q(){if(D!==null){var T=e.unstable_now();R=T;var W=!0;try{W=D(!0,T)}finally{W?me():(F=!1,D=null)}}else F=!1}var me;if(typeof _=="function")me=function(){_(q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,te=fe.port2;fe.port1.onmessage=q,me=function(){te.postMessage(null)}}else me=function(){K(q,0)};function re(T){D=T,F||(F=!0,me())}function ae(T,W){H=K(function(){T(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){z||P||(z=!0,re(I))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return i(p)},e.unstable_next=function(T){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var A=b;b=W;try{return T()}finally{b=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,W){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=b;b=T;try{return W()}finally{b=A}},e.unstable_scheduleCallback=function(T,W,A){var $=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?$+A:$):A=$,T){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=A+le,T={id:S++,callback:W,priorityLevel:T,startTime:A,expirationTime:le,sortIndex:-1},A>$?(T.sortIndex=A,t(g,T),i(p)===null&&T===i(g)&&(C?(v(H),H=-1):C=!0,ae(j,A-$))):(T.sortIndex=le,t(p,T),z||P||(z=!0,re(I))),T},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(T){var W=b;return function(){var A=b;b=W;try{return T.apply(this,arguments)}finally{b=A}}}})($h);Jh.exports=$h;var hg=Jh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=E,mt=hg;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yh=new Set,jr={};function ti(e,t){Ai(e,t),Ai(e+"Capture",t)}function Ai(e,t){for(jr[e]=t,e=0;e<t.length;e++)Yh.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=Object.prototype.hasOwnProperty,pg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pd={},md={};function mg(e){return ul.call(md,e)?!0:ul.call(pd,e)?!1:pg.test(e)?md[e]=!0:(pd[e]=!0,!1)}function gg(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vg(e,t,i,o){if(t===null||typeof t>"u"||gg(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,i,o,s,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function du(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cu,du);Ke[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cu,du);Ke[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cu,du);Ke[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function hu(e,t,i,o){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vg(t,i,s,o)&&(i=null),o||s===null?mg(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=i===null?s.type===3?!1:"":i:(t=s.attributeName,o=s.attributeNamespace,i===null?e.removeAttribute(t):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var un=fg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,No=Symbol.for("react.element"),pi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),cl=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Qh=Symbol.for("react.context"),pu=Symbol.for("react.forward_ref"),dl=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Xh=Symbol.for("react.offscreen"),gd=Symbol.iterator;function dr(e){return e===null||typeof e!="object"?null:(e=gd&&e[gd]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Ma;function yr(e){if(Ma===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ma=t&&t[1]||""}return`
`+Ma+e}var Aa=!1;function Oa(e,t){if(!e||Aa)return"";Aa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),l=o.stack.split(`
`),d=s.length-1,f=l.length-1;1<=d&&0<=f&&s[d]!==l[f];)f--;for(;1<=d&&0<=f;d--,f--)if(s[d]!==l[f]){if(d!==1||f!==1)do if(d--,f--,0>f||s[d]!==l[f]){var p=`
`+s[d].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=d&&0<=f);break}}}finally{Aa=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?yr(e):""}function _g(e){switch(e.tag){case 5:return yr(e.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function fl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mi:return"Fragment";case pi:return"Portal";case cl:return"Profiler";case fu:return"StrictMode";case dl:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qh:return(e.displayName||"Context")+".Consumer";case qh:return(e._context.displayName||"Context")+".Provider";case pu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mu:return t=e.displayName||null,t!==null?t:fl(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return fl(e(t))}catch{}}return null}function yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fl(t);case 8:return t===fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ef(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xg(e){var t=ef(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){o=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Co(e){e._valueTracker||(e._valueTracker=xg(e))}function tf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=ef(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pl(e,t){var i=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function vd(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=zn(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nf(e,t){t=t.checked,t!=null&&hu(e,"checked",t,!1)}function ml(e,t){nf(e,t);var i=zn(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gl(e,t.type,i):t.hasOwnProperty("defaultValue")&&gl(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _d(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function gl(e,t,i){(t!=="number"||ls(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var xr=Array.isArray;function Ni(e,t,i,o){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&o&&(e[i].defaultSelected=!0)}else{for(i=""+zn(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yd(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(O(92));if(xr(i)){if(1<i.length)throw Error(O(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:zn(i)}}function rf(e,t){var i=zn(t.value),o=zn(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function xd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function of(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _l(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?of(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,sf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wg=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(e){wg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),br[t]=br[e]})});function af(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||br.hasOwnProperty(e)&&br[e]?(""+t).trim():t+"px"}function lf(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,s=af(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,s):e[i]=s}}var Sg=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yl(e,t){if(t){if(Sg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function xl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wl=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sl=null,Ci=null,Ei=null;function wd(e){if(e=to(e)){if(typeof Sl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Bs(t),Sl(e.stateNode,e.type,t))}}function uf(e){Ci?Ei?Ei.push(e):Ei=[e]:Ci=e}function cf(){if(Ci){var e=Ci,t=Ei;if(Ei=Ci=null,wd(e),t)for(e=0;e<t.length;e++)wd(t[e])}}function df(e,t){return e(t)}function hf(){}var Ia=!1;function ff(e,t,i){if(Ia)return e(t,i);Ia=!0;try{return df(e,t,i)}finally{Ia=!1,(Ci!==null||Ei!==null)&&(hf(),cf())}}function Ar(e,t){var i=e.stateNode;if(i===null)return null;var o=Bs(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(O(231,t,typeof i));return i}var bl=!1;if(on)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){bl=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{bl=!1}function bg(e,t,i,o,s,l,d,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(S){this.onError(S)}}var kr=!1,us=null,cs=!1,kl=null,kg={onError:function(e){kr=!0,us=e}};function Pg(e,t,i,o,s,l,d,f,p){kr=!1,us=null,bg.apply(kg,arguments)}function Ng(e,t,i,o,s,l,d,f,p){if(Pg.apply(this,arguments),kr){if(kr){var g=us;kr=!1,us=null}else throw Error(O(198));cs||(cs=!0,kl=g)}}function ni(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function pf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sd(e){if(ni(e)!==e)throw Error(O(188))}function Cg(e){var t=e.alternate;if(!t){if(t=ni(e),t===null)throw Error(O(188));return t!==e?null:e}for(var i=e,o=t;;){var s=i.return;if(s===null)break;var l=s.alternate;if(l===null){if(o=s.return,o!==null){i=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===i)return Sd(s),e;if(l===o)return Sd(s),t;l=l.sibling}throw Error(O(188))}if(i.return!==o.return)i=s,o=l;else{for(var d=!1,f=s.child;f;){if(f===i){d=!0,i=s,o=l;break}if(f===o){d=!0,o=s,i=l;break}f=f.sibling}if(!d){for(f=l.child;f;){if(f===i){d=!0,i=l,o=s;break}if(f===o){d=!0,o=l,i=s;break}f=f.sibling}if(!d)throw Error(O(189))}}if(i.alternate!==o)throw Error(O(190))}if(i.tag!==3)throw Error(O(188));return i.stateNode.current===i?e:t}function mf(e){return e=Cg(e),e!==null?gf(e):null}function gf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gf(e);if(t!==null)return t;e=e.sibling}return null}var vf=mt.unstable_scheduleCallback,bd=mt.unstable_cancelCallback,Eg=mt.unstable_shouldYield,Tg=mt.unstable_requestPaint,je=mt.unstable_now,zg=mt.unstable_getCurrentPriorityLevel,vu=mt.unstable_ImmediatePriority,_f=mt.unstable_UserBlockingPriority,ds=mt.unstable_NormalPriority,Lg=mt.unstable_LowPriority,yf=mt.unstable_IdlePriority,Is=null,Gt=null;function jg(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Og,Mg=Math.log,Ag=Math.LN2;function Og(e){return e>>>=0,e===0?32:31-(Mg(e)/Ag|0)|0}var To=64,zo=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hs(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,s=e.suspendedLanes,l=e.pingedLanes,d=i&268435455;if(d!==0){var f=d&~s;f!==0?o=wr(f):(l&=d,l!==0&&(o=wr(l)))}else d=i&~s,d!==0?o=wr(d):l!==0&&(o=wr(l));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-At(t),s=1<<i,o|=e[i],t&=~s;return o}function Ig(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dg(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-At(l),f=1<<d,p=s[d];p===-1?(!(f&i)||f&o)&&(s[d]=Ig(f,t)):p<=t&&(e.expiredLanes|=f),l&=~f}}function Pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xf(){var e=To;return To<<=1,!(To&4194240)&&(To=64),e}function Da(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Xr(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=i}function Rg(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-At(i),l=1<<s;t[s]=0,o[s]=-1,e[s]=-1,i&=~l}}function _u(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-At(i),s=1<<o;s&t|e[o]&t&&(e[o]|=t),i&=~s}}var ge=0;function wf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sf,yu,bf,kf,Pf,Nl=!1,Lo=[],Sn=null,bn=null,kn=null,Or=new Map,Ir=new Map,vn=[],Fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(e,t){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function fr(e,t,i,o,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:l,targetContainers:[s]},t!==null&&(t=to(t),t!==null&&yu(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Bg(e,t,i,o,s){switch(t){case"focusin":return Sn=fr(Sn,e,t,i,o,s),!0;case"dragenter":return bn=fr(bn,e,t,i,o,s),!0;case"mouseover":return kn=fr(kn,e,t,i,o,s),!0;case"pointerover":var l=s.pointerId;return Or.set(l,fr(Or.get(l)||null,e,t,i,o,s)),!0;case"gotpointercapture":return l=s.pointerId,Ir.set(l,fr(Ir.get(l)||null,e,t,i,o,s)),!0}return!1}function Nf(e){var t=Hn(e.target);if(t!==null){var i=ni(t);if(i!==null){if(t=i.tag,t===13){if(t=pf(i),t!==null){e.blockedOn=t,Pf(e.priority,function(){bf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);wl=o,i.target.dispatchEvent(o),wl=null}else return t=to(i),t!==null&&yu(t),e.blockedOn=i,!1;t.shift()}return!0}function Pd(e,t,i){Jo(e)&&i.delete(t)}function Ug(){Nl=!1,Sn!==null&&Jo(Sn)&&(Sn=null),bn!==null&&Jo(bn)&&(bn=null),kn!==null&&Jo(kn)&&(kn=null),Or.forEach(Pd),Ir.forEach(Pd)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Nl||(Nl=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Ug)))}function Dr(e){function t(s){return pr(s,e)}if(0<Lo.length){pr(Lo[0],e);for(var i=1;i<Lo.length;i++){var o=Lo[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Sn!==null&&pr(Sn,e),bn!==null&&pr(bn,e),kn!==null&&pr(kn,e),Or.forEach(t),Ir.forEach(t),i=0;i<vn.length;i++)o=vn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<vn.length&&(i=vn[0],i.blockedOn===null);)Nf(i),i.blockedOn===null&&vn.shift()}var Ti=un.ReactCurrentBatchConfig,fs=!0;function Zg(e,t,i,o){var s=ge,l=Ti.transition;Ti.transition=null;try{ge=1,xu(e,t,i,o)}finally{ge=s,Ti.transition=l}}function Hg(e,t,i,o){var s=ge,l=Ti.transition;Ti.transition=null;try{ge=4,xu(e,t,i,o)}finally{ge=s,Ti.transition=l}}function xu(e,t,i,o){if(fs){var s=Cl(e,t,i,o);if(s===null)Ga(e,t,o,ps,i),kd(e,o);else if(Bg(s,e,t,i,o))o.stopPropagation();else if(kd(e,o),t&4&&-1<Fg.indexOf(e)){for(;s!==null;){var l=to(s);if(l!==null&&Sf(l),l=Cl(e,t,i,o),l===null&&Ga(e,t,o,ps,i),l===s)break;s=l}s!==null&&o.stopPropagation()}else Ga(e,t,o,null,i)}}var ps=null;function Cl(e,t,i,o){if(ps=null,e=gu(o),e=Hn(e),e!==null)if(t=ni(e),t===null)e=null;else if(i=t.tag,i===13){if(e=pf(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ps=e,null}function Cf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case vu:return 1;case _f:return 4;case ds:case Lg:return 16;case yf:return 536870912;default:return 16}default:return 16}}var xn=null,wu=null,$o=null;function Ef(){if($o)return $o;var e,t=wu,i=t.length,o,s="value"in xn?xn.value:xn.textContent,l=s.length;for(e=0;e<i&&t[e]===s[e];e++);var d=i-e;for(o=1;o<=d&&t[i-o]===s[l-o];o++);return $o=s.slice(e,1<o?1-o:void 0)}function Yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Nd(){return!1}function vt(e){function t(i,o,s,l,d){this._reactName=i,this._targetInst=s,this.type=o,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(i=e[f],this[f]=i?i(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?jo:Nd,this.isPropagationStopped=Nd,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=vt(Gi),eo=Ce({},Gi,{view:0,detail:0}),Wg=vt(eo),Ra,Fa,mr,Ds=Ce({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(Ra=e.screenX-mr.screenX,Fa=e.screenY-mr.screenY):Fa=Ra=0,mr=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Fa}}),Cd=vt(Ds),Vg=Ce({},Ds,{dataTransfer:0}),Kg=vt(Vg),Gg=Ce({},eo,{relatedTarget:0}),Ba=vt(Gg),Jg=Ce({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),$g=vt(Jg),Yg=Ce({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=vt(Yg),Qg=Ce({},Gi,{data:0}),Ed=vt(Qg),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tv[e])?!!t[e]:!1}function bu(){return nv}var iv=Ce({},eo,{key:function(e){if(e.key){var t=Xg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(e){return e.type==="keypress"?Yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rv=vt(iv),ov=Ce({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=vt(ov),sv=Ce({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),av=vt(sv),lv=Ce({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=vt(lv),cv=Ce({},Ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dv=vt(cv),hv=[9,13,27,32],ku=on&&"CompositionEvent"in window,Pr=null;on&&"documentMode"in document&&(Pr=document.documentMode);var fv=on&&"TextEvent"in window&&!Pr,Tf=on&&(!ku||Pr&&8<Pr&&11>=Pr),zd=" ",Ld=!1;function zf(e,t){switch(e){case"keyup":return hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gi=!1;function pv(e,t){switch(e){case"compositionend":return Lf(t);case"keypress":return t.which!==32?null:(Ld=!0,zd);case"textInput":return e=t.data,e===zd&&Ld?null:e;default:return null}}function mv(e,t){if(gi)return e==="compositionend"||!ku&&zf(e,t)?(e=Ef(),$o=wu=xn=null,gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tf&&t.locale!=="ko"?null:t.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gv[e.type]:t==="textarea"}function jf(e,t,i,o){uf(o),t=ms(t,"onChange"),0<t.length&&(i=new Su("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Nr=null,Rr=null;function vv(e){Hf(e,0)}function Rs(e){var t=yi(e);if(tf(t))return e}function _v(e,t){if(e==="change")return t}var Mf=!1;if(on){var Ua;if(on){var Za="oninput"in document;if(!Za){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Za=typeof Md.oninput=="function"}Ua=Za}else Ua=!1;Mf=Ua&&(!document.documentMode||9<document.documentMode)}function Ad(){Nr&&(Nr.detachEvent("onpropertychange",Af),Rr=Nr=null)}function Af(e){if(e.propertyName==="value"&&Rs(Rr)){var t=[];jf(t,Rr,e,gu(e)),ff(vv,t)}}function yv(e,t,i){e==="focusin"?(Ad(),Nr=t,Rr=i,Nr.attachEvent("onpropertychange",Af)):e==="focusout"&&Ad()}function xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(Rr)}function wv(e,t){if(e==="click")return Rs(t)}function Sv(e,t){if(e==="input"||e==="change")return Rs(t)}function bv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:bv;function Fr(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var s=i[o];if(!ul.call(t,s)||!It(e[s],t[s]))return!1}return!0}function Od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Id(e,t){var i=Od(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Od(i)}}function Of(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Of(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function If(){for(var e=window,t=ls();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ls(e.document)}return t}function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kv(e){var t=If(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Of(i.ownerDocument.documentElement,i)){if(o!==null&&Pu(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=i.textContent.length,l=Math.min(o.start,s);o=o.end===void 0?l:Math.min(o.end,s),!e.extend&&l>o&&(s=o,o=l,l=s),s=Id(i,l);var d=Id(i,o);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pv=on&&"documentMode"in document&&11>=document.documentMode,vi=null,El=null,Cr=null,Tl=!1;function Dd(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Tl||vi==null||vi!==ls(o)||(o=vi,"selectionStart"in o&&Pu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Cr&&Fr(Cr,o)||(Cr=o,o=ms(El,"onSelect"),0<o.length&&(t=new Su("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=vi)))}function Mo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var _i={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},Ha={},Df={};on&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Fs(e){if(Ha[e])return Ha[e];if(!_i[e])return e;var t=_i[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Df)return Ha[e]=t[i];return e}var Rf=Fs("animationend"),Ff=Fs("animationiteration"),Bf=Fs("animationstart"),Uf=Fs("transitionend"),Zf=new Map,Rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Zf.set(e,t),ti(t,[e])}for(var Wa=0;Wa<Rd.length;Wa++){var Va=Rd[Wa],Nv=Va.toLowerCase(),Cv=Va[0].toUpperCase()+Va.slice(1);Mn(Nv,"on"+Cv)}Mn(Rf,"onAnimationEnd");Mn(Ff,"onAnimationIteration");Mn(Bf,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Uf,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Fd(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Ng(o,t,void 0,e),e.currentTarget=null}function Hf(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],s=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var d=o.length-1;0<=d;d--){var f=o[d],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==l&&s.isPropagationStopped())break e;Fd(s,f,g),l=p}else for(d=0;d<o.length;d++){if(f=o[d],p=f.instance,g=f.currentTarget,f=f.listener,p!==l&&s.isPropagationStopped())break e;Fd(s,f,g),l=p}}}if(cs)throw e=kl,cs=!1,kl=null,e}function xe(e,t){var i=t[Al];i===void 0&&(i=t[Al]=new Set);var o=e+"__bubble";i.has(o)||(Wf(t,e,2,!1),i.add(o))}function Ka(e,t,i){var o=0;t&&(o|=4),Wf(i,e,o,t)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ao]){e[Ao]=!0,Yh.forEach(function(i){i!=="selectionchange"&&(Ev.has(i)||Ka(i,!1,e),Ka(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ao]||(t[Ao]=!0,Ka("selectionchange",!1,t))}}function Wf(e,t,i,o){switch(Cf(t)){case 1:var s=Zg;break;case 4:s=Hg;break;default:s=xu}i=s.bind(null,t,i,e),s=void 0,!bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Ga(e,t,i,o,s){var l=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var f=o.stateNode.containerInfo;if(f===s||f.nodeType===8&&f.parentNode===s)break;if(d===4)for(d=o.return;d!==null;){var p=d.tag;if((p===3||p===4)&&(p=d.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;d=d.return}for(;f!==null;){if(d=Hn(f),d===null)return;if(p=d.tag,p===5||p===6){o=l=d;continue e}f=f.parentNode}}o=o.return}ff(function(){var g=l,S=gu(i),w=[];e:{var b=Zf.get(e);if(b!==void 0){var P=Su,z=e;switch(e){case"keypress":if(Yo(i)===0)break e;case"keydown":case"keyup":P=rv;break;case"focusin":z="focus",P=Ba;break;case"focusout":z="blur",P=Ba;break;case"beforeblur":case"afterblur":P=Ba;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=av;break;case Rf:case Ff:case Bf:P=$g;break;case Uf:P=uv;break;case"scroll":P=Wg;break;case"wheel":P=dv;break;case"copy":case"cut":case"paste":P=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Td}var C=(t&4)!==0,K=!C&&e==="scroll",v=C?b!==null?b+"Capture":null:b;C=[];for(var _=g,y;_!==null;){y=_;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,v!==null&&(j=Ar(_,v),j!=null&&C.push(Ur(_,j,y)))),K)break;_=_.return}0<C.length&&(b=new P(b,z,null,i,S),w.push({event:b,listeners:C}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",b&&i!==wl&&(z=i.relatedTarget||i.fromElement)&&(Hn(z)||z[sn]))break e;if((P||b)&&(b=S.window===S?S:(b=S.ownerDocument)?b.defaultView||b.parentWindow:window,P?(z=i.relatedTarget||i.toElement,P=g,z=z?Hn(z):null,z!==null&&(K=ni(z),z!==K||z.tag!==5&&z.tag!==6)&&(z=null)):(P=null,z=g),P!==z)){if(C=Cd,j="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(C=Td,j="onPointerLeave",v="onPointerEnter",_="pointer"),K=P==null?b:yi(P),y=z==null?b:yi(z),b=new C(j,_+"leave",P,i,S),b.target=K,b.relatedTarget=y,j=null,Hn(S)===g&&(C=new C(v,_+"enter",z,i,S),C.target=y,C.relatedTarget=K,j=C),K=j,P&&z)t:{for(C=P,v=z,_=0,y=C;y;y=fi(y))_++;for(y=0,j=v;j;j=fi(j))y++;for(;0<_-y;)C=fi(C),_--;for(;0<y-_;)v=fi(v),y--;for(;_--;){if(C===v||v!==null&&C===v.alternate)break t;C=fi(C),v=fi(v)}C=null}else C=null;P!==null&&Bd(w,b,P,C,!1),z!==null&&K!==null&&Bd(w,K,z,C,!0)}}e:{if(b=g?yi(g):window,P=b.nodeName&&b.nodeName.toLowerCase(),P==="select"||P==="input"&&b.type==="file")var I=_v;else if(jd(b))if(Mf)I=Sv;else{I=xv;var F=yv}else(P=b.nodeName)&&P.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(I=wv);if(I&&(I=I(e,g))){jf(w,I,i,S);break e}F&&F(e,b,g),e==="focusout"&&(F=b._wrapperState)&&F.controlled&&b.type==="number"&&gl(b,"number",b.value)}switch(F=g?yi(g):window,e){case"focusin":(jd(F)||F.contentEditable==="true")&&(vi=F,El=g,Cr=null);break;case"focusout":Cr=El=vi=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Dd(w,i,S);break;case"selectionchange":if(Pv)break;case"keydown":case"keyup":Dd(w,i,S)}var D;if(ku)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else gi?zf(e,i)&&(H="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(H="onCompositionStart");H&&(Tf&&i.locale!=="ko"&&(gi||H!=="onCompositionStart"?H==="onCompositionEnd"&&gi&&(D=Ef()):(xn=S,wu="value"in xn?xn.value:xn.textContent,gi=!0)),F=ms(g,H),0<F.length&&(H=new Ed(H,e,null,i,S),w.push({event:H,listeners:F}),D?H.data=D:(D=Lf(i),D!==null&&(H.data=D)))),(D=fv?pv(e,i):mv(e,i))&&(g=ms(g,"onBeforeInput"),0<g.length&&(S=new Ed("onBeforeInput","beforeinput",null,i,S),w.push({event:S,listeners:g}),S.data=D))}Hf(w,t)})}function Ur(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ms(e,t){for(var i=t+"Capture",o=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Ar(e,i),l!=null&&o.unshift(Ur(e,l,s)),l=Ar(e,t),l!=null&&o.push(Ur(e,l,s))),e=e.return}return o}function fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bd(e,t,i,o,s){for(var l=t._reactName,d=[];i!==null&&i!==o;){var f=i,p=f.alternate,g=f.stateNode;if(p!==null&&p===o)break;f.tag===5&&g!==null&&(f=g,s?(p=Ar(i,l),p!=null&&d.unshift(Ur(i,p,f))):s||(p=Ar(i,l),p!=null&&d.push(Ur(i,p,f)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var Tv=/\r\n?/g,zv=/\u0000|\uFFFD/g;function Ud(e){return(typeof e=="string"?e:""+e).replace(Tv,`
`).replace(zv,"")}function Oo(e,t,i){if(t=Ud(t),Ud(e)!==t&&i)throw Error(O(425))}function gs(){}var zl=null,Ll=null;function jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,Lv=typeof clearTimeout=="function"?clearTimeout:void 0,Zd=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Zd<"u"?function(e){return Zd.resolve(null).then(e).catch(Mv)}:Ml;function Mv(e){setTimeout(function(){throw e})}function Ja(e,t){var i=t,o=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(o===0){e.removeChild(s),Dr(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=s}while(i);Dr(t)}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ji,Zr="__reactProps$"+Ji,sn="__reactContainer$"+Ji,Al="__reactEvents$"+Ji,Av="__reactListeners$"+Ji,Ov="__reactHandles$"+Ji;function Hn(e){var t=e[Kt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[sn]||i[Kt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Hd(e);e!==null;){if(i=e[Kt])return i;e=Hd(e)}return t}e=i,i=e.parentNode}return null}function to(e){return e=e[Kt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Bs(e){return e[Zr]||null}var Ol=[],xi=-1;function An(e){return{current:e}}function we(e){0>xi||(e.current=Ol[xi],Ol[xi]=null,xi--)}function ye(e,t){xi++,Ol[xi]=e.current,e.current=t}var Ln={},qe=An(Ln),at=An(!1),Jn=Ln;function Oi(e,t){var i=e.type.contextTypes;if(!i)return Ln;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in i)s[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function vs(){we(at),we(qe)}function Wd(e,t,i){if(qe.current!==Ln)throw Error(O(168));ye(qe,t),ye(at,i)}function Vf(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(O(108,yg(e)||"Unknown",s));return Ce({},i,o)}function _s(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Jn=qe.current,ye(qe,e),ye(at,at.current),!0}function Vd(e,t,i){var o=e.stateNode;if(!o)throw Error(O(169));i?(e=Vf(e,t,Jn),o.__reactInternalMemoizedMergedChildContext=e,we(at),we(qe),ye(qe,e)):we(at),ye(at,i)}var en=null,Us=!1,$a=!1;function Kf(e){en===null?en=[e]:en.push(e)}function Iv(e){Us=!0,Kf(e)}function On(){if(!$a&&en!==null){$a=!0;var e=0,t=ge;try{var i=en;for(ge=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}en=null,Us=!1}catch(s){throw en!==null&&(en=en.slice(e+1)),vf(vu,On),s}finally{ge=t,$a=!1}}return null}var wi=[],Si=0,ys=null,xs=0,St=[],bt=0,$n=null,tn=1,nn="";function Un(e,t){wi[Si++]=xs,wi[Si++]=ys,ys=e,xs=t}function Gf(e,t,i){St[bt++]=tn,St[bt++]=nn,St[bt++]=$n,$n=e;var o=tn;e=nn;var s=32-At(o)-1;o&=~(1<<s),i+=1;var l=32-At(t)+s;if(30<l){var d=s-s%5;l=(o&(1<<d)-1).toString(32),o>>=d,s-=d,tn=1<<32-At(t)+s|i<<s|o,nn=l+e}else tn=1<<l|i<<s|o,nn=e}function Nu(e){e.return!==null&&(Un(e,1),Gf(e,1,0))}function Cu(e){for(;e===ys;)ys=wi[--Si],wi[Si]=null,xs=wi[--Si],wi[Si]=null;for(;e===$n;)$n=St[--bt],St[bt]=null,nn=St[--bt],St[bt]=null,tn=St[--bt],St[bt]=null}var ft=null,ht=null,Se=!1,Mt=null;function Jf(e,t){var i=kt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Kd(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,ht=Pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=$n!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=kt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ft=e,ht=null,!0):!1;default:return!1}}function Il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(Se){var t=ht;if(t){var i=t;if(!Kd(e,t)){if(Il(e))throw Error(O(418));t=Pn(i.nextSibling);var o=ft;t&&Kd(e,t)?Jf(o,i):(e.flags=e.flags&-4097|2,Se=!1,ft=e)}}else{if(Il(e))throw Error(O(418));e.flags=e.flags&-4097|2,Se=!1,ft=e}}}function Gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Io(e){if(e!==ft)return!1;if(!Se)return Gd(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jl(e.type,e.memoizedProps)),t&&(t=ht)){if(Il(e))throw $f(),Error(O(418));for(;t;)Jf(e,t),t=Pn(t.nextSibling)}if(Gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ht=Pn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=ft?Pn(e.stateNode.nextSibling):null;return!0}function $f(){for(var e=ht;e;)e=Pn(e.nextSibling)}function Ii(){ht=ft=null,Se=!1}function Eu(e){Mt===null?Mt=[e]:Mt.push(e)}var Dv=un.ReactCurrentBatchConfig;function gr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(O(309));var o=i.stateNode}if(!o)throw Error(O(147,e));var s=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var f=s.refs;d===null?delete f[l]:f[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!i._owner)throw Error(O(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jd(e){var t=e._init;return t(e._payload)}function Yf(e){function t(v,_){if(e){var y=v.deletions;y===null?(v.deletions=[_],v.flags|=16):y.push(_)}}function i(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function o(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Tn(v,_),v.index=0,v.sibling=null,v}function l(v,_,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<_?(v.flags|=2,_):y):(v.flags|=2,_)):(v.flags|=1048576,_)}function d(v){return e&&v.alternate===null&&(v.flags|=2),v}function f(v,_,y,j){return _===null||_.tag!==6?(_=nl(y,v.mode,j),_.return=v,_):(_=s(_,y),_.return=v,_)}function p(v,_,y,j){var I=y.type;return I===mi?S(v,_,y.props.children,j,y.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===mn&&Jd(I)===_.type)?(j=s(_,y.props),j.ref=gr(v,_,y),j.return=v,j):(j=is(y.type,y.key,y.props,null,v.mode,j),j.ref=gr(v,_,y),j.return=v,j)}function g(v,_,y,j){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=il(y,v.mode,j),_.return=v,_):(_=s(_,y.children||[]),_.return=v,_)}function S(v,_,y,j,I){return _===null||_.tag!==7?(_=Gn(y,v.mode,j,I),_.return=v,_):(_=s(_,y),_.return=v,_)}function w(v,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=nl(""+_,v.mode,y),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case No:return y=is(_.type,_.key,_.props,null,v.mode,y),y.ref=gr(v,null,_),y.return=v,y;case pi:return _=il(_,v.mode,y),_.return=v,_;case mn:var j=_._init;return w(v,j(_._payload),y)}if(xr(_)||dr(_))return _=Gn(_,v.mode,y,null),_.return=v,_;Do(v,_)}return null}function b(v,_,y,j){var I=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:f(v,_,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case No:return y.key===I?p(v,_,y,j):null;case pi:return y.key===I?g(v,_,y,j):null;case mn:return I=y._init,b(v,_,I(y._payload),j)}if(xr(y)||dr(y))return I!==null?null:S(v,_,y,j,null);Do(v,y)}return null}function P(v,_,y,j,I){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(y)||null,f(_,v,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case No:return v=v.get(j.key===null?y:j.key)||null,p(_,v,j,I);case pi:return v=v.get(j.key===null?y:j.key)||null,g(_,v,j,I);case mn:var F=j._init;return P(v,_,y,F(j._payload),I)}if(xr(j)||dr(j))return v=v.get(y)||null,S(_,v,j,I,null);Do(_,j)}return null}function z(v,_,y,j){for(var I=null,F=null,D=_,H=_=0,Z=null;D!==null&&H<y.length;H++){D.index>H?(Z=D,D=null):Z=D.sibling;var R=b(v,D,y[H],j);if(R===null){D===null&&(D=Z);break}e&&D&&R.alternate===null&&t(v,D),_=l(R,_,H),F===null?I=R:F.sibling=R,F=R,D=Z}if(H===y.length)return i(v,D),Se&&Un(v,H),I;if(D===null){for(;H<y.length;H++)D=w(v,y[H],j),D!==null&&(_=l(D,_,H),F===null?I=D:F.sibling=D,F=D);return Se&&Un(v,H),I}for(D=o(v,D);H<y.length;H++)Z=P(D,v,H,y[H],j),Z!==null&&(e&&Z.alternate!==null&&D.delete(Z.key===null?H:Z.key),_=l(Z,_,H),F===null?I=Z:F.sibling=Z,F=Z);return e&&D.forEach(function(J){return t(v,J)}),Se&&Un(v,H),I}function C(v,_,y,j){var I=dr(y);if(typeof I!="function")throw Error(O(150));if(y=I.call(y),y==null)throw Error(O(151));for(var F=I=null,D=_,H=_=0,Z=null,R=y.next();D!==null&&!R.done;H++,R=y.next()){D.index>H?(Z=D,D=null):Z=D.sibling;var J=b(v,D,R.value,j);if(J===null){D===null&&(D=Z);break}e&&D&&J.alternate===null&&t(v,D),_=l(J,_,H),F===null?I=J:F.sibling=J,F=J,D=Z}if(R.done)return i(v,D),Se&&Un(v,H),I;if(D===null){for(;!R.done;H++,R=y.next())R=w(v,R.value,j),R!==null&&(_=l(R,_,H),F===null?I=R:F.sibling=R,F=R);return Se&&Un(v,H),I}for(D=o(v,D);!R.done;H++,R=y.next())R=P(D,v,H,R.value,j),R!==null&&(e&&R.alternate!==null&&D.delete(R.key===null?H:R.key),_=l(R,_,H),F===null?I=R:F.sibling=R,F=R);return e&&D.forEach(function(q){return t(v,q)}),Se&&Un(v,H),I}function K(v,_,y,j){if(typeof y=="object"&&y!==null&&y.type===mi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case No:e:{for(var I=y.key,F=_;F!==null;){if(F.key===I){if(I=y.type,I===mi){if(F.tag===7){i(v,F.sibling),_=s(F,y.props.children),_.return=v,v=_;break e}}else if(F.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===mn&&Jd(I)===F.type){i(v,F.sibling),_=s(F,y.props),_.ref=gr(v,F,y),_.return=v,v=_;break e}i(v,F);break}else t(v,F);F=F.sibling}y.type===mi?(_=Gn(y.props.children,v.mode,j,y.key),_.return=v,v=_):(j=is(y.type,y.key,y.props,null,v.mode,j),j.ref=gr(v,_,y),j.return=v,v=j)}return d(v);case pi:e:{for(F=y.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){i(v,_.sibling),_=s(_,y.children||[]),_.return=v,v=_;break e}else{i(v,_);break}else t(v,_);_=_.sibling}_=il(y,v.mode,j),_.return=v,v=_}return d(v);case mn:return F=y._init,K(v,_,F(y._payload),j)}if(xr(y))return z(v,_,y,j);if(dr(y))return C(v,_,y,j);Do(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(i(v,_.sibling),_=s(_,y),_.return=v,v=_):(i(v,_),_=nl(y,v.mode,j),_.return=v,v=_),d(v)):i(v,_)}return K}var Di=Yf(!0),qf=Yf(!1),ws=An(null),Ss=null,bi=null,Tu=null;function zu(){Tu=bi=Ss=null}function Lu(e){var t=ws.current;we(ws),e._currentValue=t}function Rl(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function zi(e,t){Ss=e,Tu=bi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:t,next:null},bi===null){if(Ss===null)throw Error(O(308));bi=e,Ss.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Wn=null;function ju(e){Wn===null?Wn=[e]:Wn.push(e)}function Qf(e,t,i,o){var s=t.interleaved;return s===null?(i.next=i,ju(t)):(i.next=s.next,s.next=i),t.interleaved=i,an(e,o)}function an(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var gn=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,he&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,an(e,i)}return s=o.interleaved,s===null?(t.next=t,ju(o)):(t.next=s.next,s.next=t),o.interleaved=t,an(e,i)}function qo(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,_u(e,i)}}function $d(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var s=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?s=l=d:l=l.next=d,i=i.next}while(i!==null);l===null?s=l=t:l=l.next=t}else s=l=t;i={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function bs(e,t,i,o){var s=e.updateQueue;gn=!1;var l=s.firstBaseUpdate,d=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var p=f,g=p.next;p.next=null,d===null?l=g:d.next=g,d=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==d&&(f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=p))}if(l!==null){var w=s.baseState;d=0,S=g=p=null,f=l;do{var b=f.lane,P=f.eventTime;if((o&b)===b){S!==null&&(S=S.next={eventTime:P,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var z=e,C=f;switch(b=t,P=i,C.tag){case 1:if(z=C.payload,typeof z=="function"){w=z.call(P,w,b);break e}w=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=C.payload,b=typeof z=="function"?z.call(P,w,b):z,b==null)break e;w=Ce({},w,b);break e;case 2:gn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,b=s.effects,b===null?s.effects=[f]:b.push(f))}else P={eventTime:P,lane:b,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(g=S=P,p=w):S=S.next=P,d|=b;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;b=f,f=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(S===null&&(p=w),s.baseState=p,s.firstBaseUpdate=g,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);qn|=d,e.lanes=d,e.memoizedState=w}}function Yd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=i,typeof s!="function")throw Error(O(191,s));s.call(o)}}}var no={},Jt=An(no),Hr=An(no),Wr=An(no);function Vn(e){if(e===no)throw Error(O(174));return e}function Au(e,t){switch(ye(Wr,t),ye(Hr,e),ye(Jt,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_l(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_l(t,e)}we(Jt),ye(Jt,t)}function Ri(){we(Jt),we(Hr),we(Wr)}function ep(e){Vn(Wr.current);var t=Vn(Jt.current),i=_l(t,e.type);t!==i&&(ye(Hr,e),ye(Jt,i))}function Ou(e){Hr.current===e&&(we(Jt),we(Hr))}var Pe=An(0);function ks(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=[];function Iu(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Qo=un.ReactCurrentDispatcher,qa=un.ReactCurrentBatchConfig,Yn=0,Ne=null,Re=null,Ue=null,Ps=!1,Er=!1,Vr=0,Rv=0;function Je(){throw Error(O(321))}function Du(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!It(e[i],t[i]))return!1;return!0}function Ru(e,t,i,o,s,l){if(Yn=l,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=e===null||e.memoizedState===null?Zv:Hv,e=i(o,s),Er){l=0;do{if(Er=!1,Vr=0,25<=l)throw Error(O(301));l+=1,Ue=Re=null,t.updateQueue=null,Qo.current=Wv,e=i(o,s)}while(Er)}if(Qo.current=Ns,t=Re!==null&&Re.next!==null,Yn=0,Ue=Re=Ne=null,Ps=!1,t)throw Error(O(300));return e}function Fu(){var e=Vr!==0;return Vr=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ne.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Ct(){if(Re===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ue===null?Ne.memoizedState:Ue.next;if(t!==null)Ue=t,Re=e;else{if(e===null)throw Error(O(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ue===null?Ne.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Kr(e,t){return typeof t=="function"?t(e):t}function Qa(e){var t=Ct(),i=t.queue;if(i===null)throw Error(O(311));i.lastRenderedReducer=e;var o=Re,s=o.baseQueue,l=i.pending;if(l!==null){if(s!==null){var d=s.next;s.next=l.next,l.next=d}o.baseQueue=s=l,i.pending=null}if(s!==null){l=s.next,o=o.baseState;var f=d=null,p=null,g=l;do{var S=g.lane;if((Yn&S)===S)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var w={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=w,d=o):p=p.next=w,Ne.lanes|=S,qn|=S}g=g.next}while(g!==null&&g!==l);p===null?d=o:p.next=f,It(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseState=d,t.baseQueue=p,i.lastRenderedState=o}if(e=i.interleaved,e!==null){s=e;do l=s.lane,Ne.lanes|=l,qn|=l,s=s.next;while(s!==e)}else s===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Xa(e){var t=Ct(),i=t.queue;if(i===null)throw Error(O(311));i.lastRenderedReducer=e;var o=i.dispatch,s=i.pending,l=t.memoizedState;if(s!==null){i.pending=null;var d=s=s.next;do l=e(l,d.action),d=d.next;while(d!==s);It(l,t.memoizedState)||(st=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,o]}function tp(){}function np(e,t){var i=Ne,o=Ct(),s=t(),l=!It(o.memoizedState,s);if(l&&(o.memoizedState=s,st=!0),o=o.queue,Bu(op.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||Ue!==null&&Ue.memoizedState.tag&1){if(i.flags|=2048,Gr(9,rp.bind(null,i,o,s,t),void 0,null),Ze===null)throw Error(O(349));Yn&30||ip(i,t,s)}return s}function ip(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function rp(e,t,i,o){t.value=i,t.getSnapshot=o,sp(t)&&ap(e)}function op(e,t,i){return i(function(){sp(t)&&ap(e)})}function sp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!It(e,i)}catch{return!0}}function ap(e){var t=an(e,1);t!==null&&Ot(t,e,1,-1)}function qd(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e},t.queue=e,e=e.dispatch=Uv.bind(null,Ne,e),[t.memoizedState,e]}function Gr(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function lp(){return Ct().memoizedState}function Xo(e,t,i,o){var s=Vt();Ne.flags|=e,s.memoizedState=Gr(1|t,i,void 0,o===void 0?null:o)}function Zs(e,t,i,o){var s=Ct();o=o===void 0?null:o;var l=void 0;if(Re!==null){var d=Re.memoizedState;if(l=d.destroy,o!==null&&Du(o,d.deps)){s.memoizedState=Gr(t,i,l,o);return}}Ne.flags|=e,s.memoizedState=Gr(1|t,i,l,o)}function Qd(e,t){return Xo(8390656,8,e,t)}function Bu(e,t){return Zs(2048,8,e,t)}function up(e,t){return Zs(4,2,e,t)}function cp(e,t){return Zs(4,4,e,t)}function dp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hp(e,t,i){return i=i!=null?i.concat([e]):null,Zs(4,4,dp.bind(null,t,e),i)}function Uu(){}function fp(e,t){var i=Ct();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Du(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function pp(e,t){var i=Ct();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Du(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function mp(e,t,i){return Yn&21?(It(i,t)||(i=xf(),Ne.lanes|=i,qn|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=i)}function Fv(e,t){var i=ge;ge=i!==0&&4>i?i:4,e(!0);var o=qa.transition;qa.transition={};try{e(!1),t()}finally{ge=i,qa.transition=o}}function gp(){return Ct().memoizedState}function Bv(e,t,i){var o=En(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},vp(e))_p(t,i);else if(i=Qf(e,t,i,o),i!==null){var s=et();Ot(i,e,o,s),yp(i,t,o)}}function Uv(e,t,i){var o=En(e),s={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(vp(e))_p(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,f=l(d,i);if(s.hasEagerState=!0,s.eagerState=f,It(f,d)){var p=t.interleaved;p===null?(s.next=s,ju(t)):(s.next=p.next,p.next=s),t.interleaved=s;return}}catch{}finally{}i=Qf(e,t,s,o),i!==null&&(s=et(),Ot(i,e,o,s),yp(i,t,o))}}function vp(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function _p(e,t){Er=Ps=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function yp(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,_u(e,i)}}var Ns={readContext:Nt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Zv={readContext:Nt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Qd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Xo(4194308,4,dp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xo(4,2,e,t)},useMemo:function(e,t){var i=Vt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Vt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Bv.bind(null,Ne,e),[o.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:qd,useDebugValue:Uu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=qd(!1),t=e[0];return e=Fv.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Ne,s=Vt();if(Se){if(i===void 0)throw Error(O(407));i=i()}else{if(i=t(),Ze===null)throw Error(O(349));Yn&30||ip(o,t,i)}s.memoizedState=i;var l={value:i,getSnapshot:t};return s.queue=l,Qd(op.bind(null,o,l,e),[e]),o.flags|=2048,Gr(9,rp.bind(null,o,l,i,t),void 0,null),i},useId:function(){var e=Vt(),t=Ze.identifierPrefix;if(Se){var i=nn,o=tn;i=(o&~(1<<32-At(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Vr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Rv++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hv={readContext:Nt,useCallback:fp,useContext:Nt,useEffect:Bu,useImperativeHandle:hp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:Qa,useRef:lp,useState:function(){return Qa(Kr)},useDebugValue:Uu,useDeferredValue:function(e){var t=Ct();return mp(t,Re.memoizedState,e)},useTransition:function(){var e=Qa(Kr)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1},Wv={readContext:Nt,useCallback:fp,useContext:Nt,useEffect:Bu,useImperativeHandle:hp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:Xa,useRef:lp,useState:function(){return Xa(Kr)},useDebugValue:Uu,useDeferredValue:function(e){var t=Ct();return Re===null?t.memoizedState=e:mp(t,Re.memoizedState,e)},useTransition:function(){var e=Xa(Kr)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Fl(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:Ce({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Hs={isMounted:function(e){return(e=e._reactInternals)?ni(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=et(),s=En(e),l=rn(o,s);l.payload=t,i!=null&&(l.callback=i),t=Nn(e,l,s),t!==null&&(Ot(t,e,s,o),qo(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=et(),s=En(e),l=rn(o,s);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=Nn(e,l,s),t!==null&&(Ot(t,e,s,o),qo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=et(),o=En(e),s=rn(i,o);s.tag=2,t!=null&&(s.callback=t),t=Nn(e,s,o),t!==null&&(Ot(t,e,o,i),qo(t,e,o))}};function Xd(e,t,i,o,s,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,d):t.prototype&&t.prototype.isPureReactComponent?!Fr(i,o)||!Fr(s,l):!0}function xp(e,t,i){var o=!1,s=Ln,l=t.contextType;return typeof l=="object"&&l!==null?l=Nt(l):(s=lt(t)?Jn:qe.current,o=t.contextTypes,l=(o=o!=null)?Oi(e,s):Ln),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function eh(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function Bl(e,t,i,o){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs={},Mu(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Nt(l):(l=lt(t)?Jn:qe.current,s.context=Oi(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Fl(e,t,l,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hs.enqueueReplaceState(s,s.state,null),bs(e,i,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fi(e,t){try{var i="",o=t;do i+=_g(o),o=o.return;while(o);var s=i}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function el(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Ul(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Vv=typeof WeakMap=="function"?WeakMap:Map;function wp(e,t,i){i=rn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Es||(Es=!0,ql=o),Ul(e,t)},i}function Sp(e,t,i){i=rn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;i.payload=function(){return o(s)},i.callback=function(){Ul(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){Ul(e,t),typeof o!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),i}function th(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Vv;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(i)||(s.add(i),e=o_.bind(null,e,t,i),t.then(e,e))}function nh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ih(e,t,i,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=rn(-1,1),t.tag=2,Nn(i,t,1))),i.lanes|=1),e)}var Kv=un.ReactCurrentOwner,st=!1;function Xe(e,t,i,o){t.child=e===null?qf(t,null,i,o):Di(t,e.child,i,o)}function rh(e,t,i,o,s){i=i.render;var l=t.ref;return zi(t,s),o=Ru(e,t,i,o,l,s),i=Fu(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(Se&&i&&Nu(t),t.flags|=1,Xe(e,t,o,s),t.child)}function oh(e,t,i,o,s){if(e===null){var l=i.type;return typeof l=="function"&&!$u(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,bp(e,t,l,o,s)):(e=is(i.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var d=l.memoizedProps;if(i=i.compare,i=i!==null?i:Fr,i(d,o)&&e.ref===t.ref)return ln(e,t,s)}return t.flags|=1,e=Tn(l,o),e.ref=t.ref,e.return=t,t.child=e}function bp(e,t,i,o,s){if(e!==null){var l=e.memoizedProps;if(Fr(l,o)&&e.ref===t.ref)if(st=!1,t.pendingProps=o=l,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,ln(e,t,s)}return Zl(e,t,i,o,s)}function kp(e,t,i){var o=t.pendingProps,s=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Pi,dt),dt|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Pi,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:i,ye(Pi,dt),dt|=o}else l!==null?(o=l.baseLanes|i,t.memoizedState=null):o=i,ye(Pi,dt),dt|=o;return Xe(e,t,s,i),t.child}function Pp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Zl(e,t,i,o,s){var l=lt(i)?Jn:qe.current;return l=Oi(t,l),zi(t,s),i=Ru(e,t,i,o,l,s),o=Fu(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(Se&&o&&Nu(t),t.flags|=1,Xe(e,t,i,s),t.child)}function sh(e,t,i,o,s){if(lt(i)){var l=!0;_s(t)}else l=!1;if(zi(t,s),t.stateNode===null)es(e,t),xp(t,i,o),Bl(t,i,o,s),o=!0;else if(e===null){var d=t.stateNode,f=t.memoizedProps;d.props=f;var p=d.context,g=i.contextType;typeof g=="object"&&g!==null?g=Nt(g):(g=lt(i)?Jn:qe.current,g=Oi(t,g));var S=i.getDerivedStateFromProps,w=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function";w||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(f!==o||p!==g)&&eh(t,d,o,g),gn=!1;var b=t.memoizedState;d.state=b,bs(t,o,d,s),p=t.memoizedState,f!==o||b!==p||at.current||gn?(typeof S=="function"&&(Fl(t,i,S,o),p=t.memoizedState),(f=gn||Xd(t,i,f,o,b,p,g))?(w||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=p),d.props=o,d.state=p,d.context=g,o=f):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,Xf(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:Lt(t.type,f),d.props=g,w=t.pendingProps,b=d.context,p=i.contextType,typeof p=="object"&&p!==null?p=Nt(p):(p=lt(i)?Jn:qe.current,p=Oi(t,p));var P=i.getDerivedStateFromProps;(S=typeof P=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(f!==w||b!==p)&&eh(t,d,o,p),gn=!1,b=t.memoizedState,d.state=b,bs(t,o,d,s);var z=t.memoizedState;f!==w||b!==z||at.current||gn?(typeof P=="function"&&(Fl(t,i,P,o),z=t.memoizedState),(g=gn||Xd(t,i,g,o,b,z,p)||!1)?(S||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,z,p),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,z,p)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=z),d.props=o,d.state=z,d.context=p,o=g):(typeof d.componentDidUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),o=!1)}return Hl(e,t,i,o,l,s)}function Hl(e,t,i,o,s,l){Pp(e,t);var d=(t.flags&128)!==0;if(!o&&!d)return s&&Vd(t,i,!1),ln(e,t,l);o=t.stateNode,Kv.current=t;var f=d&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&d?(t.child=Di(t,e.child,null,l),t.child=Di(t,null,f,l)):Xe(e,t,f,l),t.memoizedState=o.state,s&&Vd(t,i,!0),t.child}function Np(e){var t=e.stateNode;t.pendingContext?Wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wd(e,t.context,!1),Au(e,t.containerInfo)}function ah(e,t,i,o,s){return Ii(),Eu(s),t.flags|=256,Xe(e,t,i,o),t.child}var Wl={dehydrated:null,treeContext:null,retryLane:0};function Vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cp(e,t,i){var o=t.pendingProps,s=Pe.current,l=!1,d=(t.flags&128)!==0,f;if((f=d)||(f=e!==null&&e.memoizedState===null?!1:(s&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Pe,s&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=o.children,e=o.fallback,l?(o=t.mode,l=t.child,d={mode:"hidden",children:d},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=Ks(d,o,0,null),e=Gn(e,o,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Vl(i),t.memoizedState=Wl,e):Zu(t,d));if(s=e.memoizedState,s!==null&&(f=s.dehydrated,f!==null))return Gv(e,t,d,o,f,s,i);if(l){l=o.fallback,d=t.mode,s=e.child,f=s.sibling;var p={mode:"hidden",children:o.children};return!(d&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=p,t.deletions=null):(o=Tn(s,p),o.subtreeFlags=s.subtreeFlags&14680064),f!==null?l=Tn(f,l):(l=Gn(l,d,i,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,d=e.child.memoizedState,d=d===null?Vl(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~i,t.memoizedState=Wl,o}return l=e.child,e=l.sibling,o=Tn(l,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Zu(e,t){return t=Ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ro(e,t,i,o){return o!==null&&Eu(o),Di(t,e.child,null,i),e=Zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gv(e,t,i,o,s,l,d){if(i)return t.flags&256?(t.flags&=-257,o=el(Error(O(422))),Ro(e,t,d,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,s=t.mode,o=Ks({mode:"visible",children:o.children},s,0,null),l=Gn(l,s,d,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,t.mode&1&&Di(t,e.child,null,d),t.child.memoizedState=Vl(d),t.memoizedState=Wl,l);if(!(t.mode&1))return Ro(e,t,d,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var f=o.dgst;return o=f,l=Error(O(419)),o=el(l,o,void 0),Ro(e,t,d,o)}if(f=(d&e.childLanes)!==0,st||f){if(o=Ze,o!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|d)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,an(e,s),Ot(o,e,s,-1))}return Ju(),o=el(Error(O(421))),Ro(e,t,d,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=s_.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ht=Pn(s.nextSibling),ft=t,Se=!0,Mt=null,e!==null&&(St[bt++]=tn,St[bt++]=nn,St[bt++]=$n,tn=e.id,nn=e.overflow,$n=t),t=Zu(t,o.children),t.flags|=4096,t)}function lh(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Rl(e.return,t,i)}function tl(e,t,i,o,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=i,l.tailMode=s)}function Ep(e,t,i){var o=t.pendingProps,s=o.revealOrder,l=o.tail;if(Xe(e,t,o.children,i),o=Pe.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lh(e,i,t);else if(e.tag===19)lh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ye(Pe,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&ks(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),tl(t,!1,s,i,l);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ks(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}tl(t,!0,i,null,l);break;case"together":tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function es(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,i=Tn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Tn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Jv(e,t,i){switch(t.tag){case 3:Np(t),Ii();break;case 5:ep(t);break;case 1:lt(t.type)&&_s(t);break;case 4:Au(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;ye(ws,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ye(Pe,Pe.current&1),t.flags|=128,null):i&t.child.childLanes?Cp(e,t,i):(ye(Pe,Pe.current&1),e=ln(e,t,i),e!==null?e.sibling:null);ye(Pe,Pe.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return Ep(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Pe,Pe.current),o)break;return null;case 22:case 23:return t.lanes=0,kp(e,t,i)}return ln(e,t,i)}var Tp,Kl,zp,Lp;Tp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Kl=function(){};zp=function(e,t,i,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,Vn(Jt.current);var l=null;switch(i){case"input":s=pl(e,s),o=pl(e,o),l=[];break;case"select":s=Ce({},s,{value:void 0}),o=Ce({},o,{value:void 0}),l=[];break;case"textarea":s=vl(e,s),o=vl(e,o),l=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=gs)}yl(i,o);var d;i=null;for(g in s)if(!o.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var f=s[g];for(d in f)f.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(jr.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in o){var p=o[g];if(f=s!=null?s[g]:void 0,o.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(d in f)!f.hasOwnProperty(d)||p&&p.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in p)p.hasOwnProperty(d)&&f[d]!==p[d]&&(i||(i={}),i[d]=p[d])}else i||(l||(l=[]),l.push(g,i)),i=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(l=l||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(l=l||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(jr.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&xe("scroll",e),l||f===p||(l=[])):(l=l||[]).push(g,p))}i&&(l=l||[]).push("style",i);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Lp=function(e,t,i,o){i!==o&&(t.flags|=4)};function vr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function $v(e,t,i){var o=t.pendingProps;switch(Cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return lt(t.type)&&vs(),$e(t),null;case 3:return o=t.stateNode,Ri(),we(at),we(qe),Iu(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(eu(Mt),Mt=null))),Kl(e,t),$e(t),null;case 5:Ou(t);var s=Vn(Wr.current);if(i=t.type,e!==null&&t.stateNode!=null)zp(e,t,i,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(O(166));return $e(t),null}if(e=Vn(Jt.current),Io(t)){o=t.stateNode,i=t.type;var l=t.memoizedProps;switch(o[Kt]=t,o[Zr]=l,e=(t.mode&1)!==0,i){case"dialog":xe("cancel",o),xe("close",o);break;case"iframe":case"object":case"embed":xe("load",o);break;case"video":case"audio":for(s=0;s<Sr.length;s++)xe(Sr[s],o);break;case"source":xe("error",o);break;case"img":case"image":case"link":xe("error",o),xe("load",o);break;case"details":xe("toggle",o);break;case"input":vd(o,l),xe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},xe("invalid",o);break;case"textarea":yd(o,l),xe("invalid",o)}yl(i,l),s=null;for(var d in l)if(l.hasOwnProperty(d)){var f=l[d];d==="children"?typeof f=="string"?o.textContent!==f&&(l.suppressHydrationWarning!==!0&&Oo(o.textContent,f,e),s=["children",f]):typeof f=="number"&&o.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&Oo(o.textContent,f,e),s=["children",""+f]):jr.hasOwnProperty(d)&&f!=null&&d==="onScroll"&&xe("scroll",o)}switch(i){case"input":Co(o),_d(o,l,!0);break;case"textarea":Co(o),xd(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=gs)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=of(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(i,{is:o.is}):(e=d.createElement(i),i==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,i),e[Kt]=t,e[Zr]=o,Tp(e,t,!1,!1),t.stateNode=e;e:{switch(d=xl(i,o),i){case"dialog":xe("cancel",e),xe("close",e),s=o;break;case"iframe":case"object":case"embed":xe("load",e),s=o;break;case"video":case"audio":for(s=0;s<Sr.length;s++)xe(Sr[s],e);s=o;break;case"source":xe("error",e),s=o;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=o;break;case"details":xe("toggle",e),s=o;break;case"input":vd(e,o),s=pl(e,o),xe("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=Ce({},o,{value:void 0}),xe("invalid",e);break;case"textarea":yd(e,o),s=vl(e,o),xe("invalid",e);break;default:s=o}yl(i,s),f=s;for(l in f)if(f.hasOwnProperty(l)){var p=f[l];l==="style"?lf(e,p):l==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&sf(e,p)):l==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&Mr(e,p):typeof p=="number"&&Mr(e,""+p):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(jr.hasOwnProperty(l)?p!=null&&l==="onScroll"&&xe("scroll",e):p!=null&&hu(e,l,p,d))}switch(i){case"input":Co(e),_d(e,o,!1);break;case"textarea":Co(e),xd(e);break;case"option":o.value!=null&&e.setAttribute("value",""+zn(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?Ni(e,!!o.multiple,l,!1):o.defaultValue!=null&&Ni(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gs)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Lp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(O(166));if(i=Vn(Wr.current),Vn(Jt.current),Io(t)){if(o=t.stateNode,i=t.memoizedProps,o[Kt]=t,(l=o.nodeValue!==i)&&(e=ft,e!==null))switch(e.tag){case 3:Oo(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oo(o.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Kt]=t,t.stateNode=o}return $e(t),null;case 13:if(we(Pe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&ht!==null&&t.mode&1&&!(t.flags&128))$f(),Ii(),t.flags|=98560,l=!1;else if(l=Io(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[Kt]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),l=!1}else Mt!==null&&(eu(Mt),Mt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?Fe===0&&(Fe=3):Ju())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return Ri(),Kl(e,t),e===null&&Br(t.stateNode.containerInfo),$e(t),null;case 10:return Lu(t.type._context),$e(t),null;case 17:return lt(t.type)&&vs(),$e(t),null;case 19:if(we(Pe),l=t.memoizedState,l===null)return $e(t),null;if(o=(t.flags&128)!==0,d=l.rendering,d===null)if(o)vr(l,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=ks(e),d!==null){for(t.flags|=128,vr(l,!1),o=d.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)l=i,e=o,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ye(Pe,Pe.current&1|2),t.child}e=e.sibling}l.tail!==null&&je()>Bi&&(t.flags|=128,o=!0,vr(l,!1),t.lanes=4194304)}else{if(!o)if(e=ks(d),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),vr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Se)return $e(t),null}else 2*je()-l.renderingStartTime>Bi&&i!==1073741824&&(t.flags|=128,o=!0,vr(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(i=l.last,i!==null?i.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=je(),t.sibling=null,i=Pe.current,ye(Pe,o?i&1|2:i&1),t):($e(t),null);case 22:case 23:return Gu(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?dt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Yv(e,t){switch(Cu(t),t.tag){case 1:return lt(t.type)&&vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ri(),we(at),we(qe),Iu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ou(t),null;case 13:if(we(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Pe),null;case 4:return Ri(),null;case 10:return Lu(t.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Fo=!1,Ye=!1,qv=typeof WeakSet=="function"?WeakSet:Set,V=null;function ki(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ee(e,t,o)}else i.current=null}function Gl(e,t,i){try{i()}catch(o){Ee(e,t,o)}}var uh=!1;function Qv(e,t){if(zl=fs,e=If(),Pu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var s=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var d=0,f=-1,p=-1,g=0,S=0,w=e,b=null;t:for(;;){for(var P;w!==i||s!==0&&w.nodeType!==3||(f=d+s),w!==l||o!==0&&w.nodeType!==3||(p=d+o),w.nodeType===3&&(d+=w.nodeValue.length),(P=w.firstChild)!==null;)b=w,w=P;for(;;){if(w===e)break t;if(b===i&&++g===s&&(f=d),b===l&&++S===o&&(p=d),(P=w.nextSibling)!==null)break;w=b,b=w.parentNode}w=P}i=f===-1||p===-1?null:{start:f,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ll={focusedElem:e,selectionRange:i},fs=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var C=z.memoizedProps,K=z.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?C:Lt(t.type,C),K);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(j){Ee(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return z=uh,uh=!1,z}function Tr(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Gl(t,i,l)}s=s.next}while(s!==o)}}function Ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Jl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function jp(e){var t=e.alternate;t!==null&&(e.alternate=null,jp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Zr],delete t[Al],delete t[Av],delete t[Ov])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mp(e){return e.tag===5||e.tag===3||e.tag===4}function ch(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $l(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=gs));else if(o!==4&&(e=e.child,e!==null))for($l(e,t,i),e=e.sibling;e!==null;)$l(e,t,i),e=e.sibling}function Yl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Yl(e,t,i),e=e.sibling;e!==null;)Yl(e,t,i),e=e.sibling}var We=null,jt=!1;function fn(e,t,i){for(i=i.child;i!==null;)Ap(e,t,i),i=i.sibling}function Ap(e,t,i){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Is,i)}catch{}switch(i.tag){case 5:Ye||ki(i,t);case 6:var o=We,s=jt;We=null,fn(e,t,i),We=o,jt=s,We!==null&&(jt?(e=We,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):We.removeChild(i.stateNode));break;case 18:We!==null&&(jt?(e=We,i=i.stateNode,e.nodeType===8?Ja(e.parentNode,i):e.nodeType===1&&Ja(e,i),Dr(e)):Ja(We,i.stateNode));break;case 4:o=We,s=jt,We=i.stateNode.containerInfo,jt=!0,fn(e,t,i),We=o,jt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var l=s,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&Gl(i,t,d),s=s.next}while(s!==o)}fn(e,t,i);break;case 1:if(!Ye&&(ki(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(f){Ee(i,t,f)}fn(e,t,i);break;case 21:fn(e,t,i);break;case 22:i.mode&1?(Ye=(o=Ye)||i.memoizedState!==null,fn(e,t,i),Ye=o):fn(e,t,i);break;default:fn(e,t,i)}}function dh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new qv),t.forEach(function(o){var s=a_.bind(null,e,o);i.has(o)||(i.add(o),o.then(s,s))})}}function zt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];try{var l=e,d=t,f=d;e:for(;f!==null;){switch(f.tag){case 5:We=f.stateNode,jt=!1;break e;case 3:We=f.stateNode.containerInfo,jt=!0;break e;case 4:We=f.stateNode.containerInfo,jt=!0;break e}f=f.return}if(We===null)throw Error(O(160));Ap(l,d,s),We=null,jt=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(g){Ee(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Op(t,e),t=t.sibling}function Op(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Wt(e),o&4){try{Tr(3,e,e.return),Ws(3,e)}catch(C){Ee(e,e.return,C)}try{Tr(5,e,e.return)}catch(C){Ee(e,e.return,C)}}break;case 1:zt(t,e),Wt(e),o&512&&i!==null&&ki(i,i.return);break;case 5:if(zt(t,e),Wt(e),o&512&&i!==null&&ki(i,i.return),e.flags&32){var s=e.stateNode;try{Mr(s,"")}catch(C){Ee(e,e.return,C)}}if(o&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,d=i!==null?i.memoizedProps:l,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&nf(s,l),xl(f,d);var g=xl(f,l);for(d=0;d<p.length;d+=2){var S=p[d],w=p[d+1];S==="style"?lf(s,w):S==="dangerouslySetInnerHTML"?sf(s,w):S==="children"?Mr(s,w):hu(s,S,w,g)}switch(f){case"input":ml(s,l);break;case"textarea":rf(s,l);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var P=l.value;P!=null?Ni(s,!!l.multiple,P,!1):b!==!!l.multiple&&(l.defaultValue!=null?Ni(s,!!l.multiple,l.defaultValue,!0):Ni(s,!!l.multiple,l.multiple?[]:"",!1))}s[Zr]=l}catch(C){Ee(e,e.return,C)}}break;case 6:if(zt(t,e),Wt(e),o&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(C){Ee(e,e.return,C)}}break;case 3:if(zt(t,e),Wt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(C){Ee(e,e.return,C)}break;case 4:zt(t,e),Wt(e);break;case 13:zt(t,e),Wt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Vu=je())),o&4&&dh(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(Ye=(g=Ye)||S,zt(t,e),Ye=g):zt(t,e),Wt(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(V=e,S=e.child;S!==null;){for(w=V=S;V!==null;){switch(b=V,P=b.child,b.tag){case 0:case 11:case 14:case 15:Tr(4,b,b.return);break;case 1:ki(b,b.return);var z=b.stateNode;if(typeof z.componentWillUnmount=="function"){o=b,i=b.return;try{t=o,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(C){Ee(o,i,C)}}break;case 5:ki(b,b.return);break;case 22:if(b.memoizedState!==null){fh(w);continue}}P!==null?(P.return=b,V=P):fh(w)}S=S.sibling}e:for(S=null,w=e;;){if(w.tag===5){if(S===null){S=w;try{s=w.stateNode,g?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=w.stateNode,p=w.memoizedProps.style,d=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=af("display",d))}catch(C){Ee(e,e.return,C)}}}else if(w.tag===6){if(S===null)try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(C){Ee(e,e.return,C)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;S===w&&(S=null),w=w.return}S===w&&(S=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:zt(t,e),Wt(e),o&4&&dh(e);break;case 21:break;default:zt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Mp(i)){var o=i;break e}i=i.return}throw Error(O(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(Mr(s,""),o.flags&=-33);var l=ch(e);Yl(e,l,s);break;case 3:case 4:var d=o.stateNode.containerInfo,f=ch(e);$l(e,f,d);break;default:throw Error(O(161))}}catch(p){Ee(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xv(e,t,i){V=e,Ip(e)}function Ip(e,t,i){for(var o=(e.mode&1)!==0;V!==null;){var s=V,l=s.child;if(s.tag===22&&o){var d=s.memoizedState!==null||Fo;if(!d){var f=s.alternate,p=f!==null&&f.memoizedState!==null||Ye;f=Fo;var g=Ye;if(Fo=d,(Ye=p)&&!g)for(V=s;V!==null;)d=V,p=d.child,d.tag===22&&d.memoizedState!==null?ph(s):p!==null?(p.return=d,V=p):ph(s);for(;l!==null;)V=l,Ip(l),l=l.sibling;V=s,Fo=f,Ye=g}hh(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,V=l):hh(e)}}function hh(e){for(;V!==null;){var t=V;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||Ws(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ye)if(i===null)o.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:Lt(t.type,i.memoizedProps);o.componentDidUpdate(s,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Yd(t,l,o);break;case 3:var d=t.updateQueue;if(d!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Yd(t,d,i)}break;case 5:var f=t.stateNode;if(i===null&&t.flags&4){i=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var w=S.dehydrated;w!==null&&Dr(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ye||t.flags&512&&Jl(t)}catch(b){Ee(t,t.return,b)}}if(t===e){V=null;break}if(i=t.sibling,i!==null){i.return=t.return,V=i;break}V=t.return}}function fh(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var i=t.sibling;if(i!==null){i.return=t.return,V=i;break}V=t.return}}function ph(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ws(4,t)}catch(p){Ee(t,i,p)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(p){Ee(t,s,p)}}var l=t.return;try{Jl(t)}catch(p){Ee(t,l,p)}break;case 5:var d=t.return;try{Jl(t)}catch(p){Ee(t,d,p)}}}catch(p){Ee(t,t.return,p)}if(t===e){V=null;break}var f=t.sibling;if(f!==null){f.return=t.return,V=f;break}V=t.return}}var e_=Math.ceil,Cs=un.ReactCurrentDispatcher,Hu=un.ReactCurrentOwner,Pt=un.ReactCurrentBatchConfig,he=0,Ze=null,Ie=null,Ve=0,dt=0,Pi=An(0),Fe=0,Jr=null,qn=0,Vs=0,Wu=0,zr=null,ot=null,Vu=0,Bi=1/0,Xt=null,Es=!1,ql=null,Cn=null,Bo=!1,wn=null,Ts=0,Lr=0,Ql=null,ts=-1,ns=0;function et(){return he&6?je():ts!==-1?ts:ts=je()}function En(e){return e.mode&1?he&2&&Ve!==0?Ve&-Ve:Dv.transition!==null?(ns===0&&(ns=xf()),ns):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Cf(e.type)),e):1}function Ot(e,t,i,o){if(50<Lr)throw Lr=0,Ql=null,Error(O(185));Xr(e,i,o),(!(he&2)||e!==Ze)&&(e===Ze&&(!(he&2)&&(Vs|=i),Fe===4&&_n(e,Ve)),ut(e,o),i===1&&he===0&&!(t.mode&1)&&(Bi=je()+500,Us&&On()))}function ut(e,t){var i=e.callbackNode;Dg(e,t);var o=hs(e,e===Ze?Ve:0);if(o===0)i!==null&&bd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&bd(i),t===1)e.tag===0?Iv(mh.bind(null,e)):Kf(mh.bind(null,e)),jv(function(){!(he&6)&&On()}),i=null;else{switch(wf(o)){case 1:i=vu;break;case 4:i=_f;break;case 16:i=ds;break;case 536870912:i=yf;break;default:i=ds}i=Wp(i,Dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Dp(e,t){if(ts=-1,ns=0,he&6)throw Error(O(327));var i=e.callbackNode;if(Li()&&e.callbackNode!==i)return null;var o=hs(e,e===Ze?Ve:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=zs(e,o);else{t=o;var s=he;he|=2;var l=Fp();(Ze!==e||Ve!==t)&&(Xt=null,Bi=je()+500,Kn(e,t));do try{i_();break}catch(f){Rp(e,f)}while(!0);zu(),Cs.current=l,he=s,Ie!==null?t=0:(Ze=null,Ve=0,t=Fe)}if(t!==0){if(t===2&&(s=Pl(e),s!==0&&(o=s,t=Xl(e,s))),t===1)throw i=Jr,Kn(e,0),_n(e,o),ut(e,je()),i;if(t===6)_n(e,o);else{if(s=e.current.alternate,!(o&30)&&!t_(s)&&(t=zs(e,o),t===2&&(l=Pl(e),l!==0&&(o=l,t=Xl(e,l))),t===1))throw i=Jr,Kn(e,0),_n(e,o),ut(e,je()),i;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(O(345));case 2:Zn(e,ot,Xt);break;case 3:if(_n(e,o),(o&130023424)===o&&(t=Vu+500-je(),10<t)){if(hs(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ml(Zn.bind(null,e,ot,Xt),t);break}Zn(e,ot,Xt);break;case 4:if(_n(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var d=31-At(o);l=1<<d,d=t[d],d>s&&(s=d),o&=~l}if(o=s,o=je()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*e_(o/1960))-o,10<o){e.timeoutHandle=Ml(Zn.bind(null,e,ot,Xt),o);break}Zn(e,ot,Xt);break;case 5:Zn(e,ot,Xt);break;default:throw Error(O(329))}}}return ut(e,je()),e.callbackNode===i?Dp.bind(null,e):null}function Xl(e,t){var i=zr;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=zs(e,t),e!==2&&(t=ot,ot=i,t!==null&&eu(t)),e}function eu(e){ot===null?ot=e:ot.push.apply(ot,e)}function t_(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var s=i[o],l=s.getSnapshot;s=s.value;try{if(!It(l(),s))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~Wu,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-At(t),o=1<<i;e[i]=-1,t&=~o}}function mh(e){if(he&6)throw Error(O(327));Li();var t=hs(e,0);if(!(t&1))return ut(e,je()),null;var i=zs(e,t);if(e.tag!==0&&i===2){var o=Pl(e);o!==0&&(t=o,i=Xl(e,o))}if(i===1)throw i=Jr,Kn(e,0),_n(e,t),ut(e,je()),i;if(i===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,ot,Xt),ut(e,je()),null}function Ku(e,t){var i=he;he|=1;try{return e(t)}finally{he=i,he===0&&(Bi=je()+500,Us&&On())}}function Qn(e){wn!==null&&wn.tag===0&&!(he&6)&&Li();var t=he;he|=1;var i=Pt.transition,o=ge;try{if(Pt.transition=null,ge=1,e)return e()}finally{ge=o,Pt.transition=i,he=t,!(he&6)&&On()}}function Gu(){dt=Pi.current,we(Pi)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Lv(i)),Ie!==null)for(i=Ie.return;i!==null;){var o=i;switch(Cu(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&vs();break;case 3:Ri(),we(at),we(qe),Iu();break;case 5:Ou(o);break;case 4:Ri();break;case 13:we(Pe);break;case 19:we(Pe);break;case 10:Lu(o.type._context);break;case 22:case 23:Gu()}i=i.return}if(Ze=e,Ie=e=Tn(e.current,null),Ve=dt=t,Fe=0,Jr=null,Wu=Vs=qn=0,ot=zr=null,Wn!==null){for(t=0;t<Wn.length;t++)if(i=Wn[t],o=i.interleaved,o!==null){i.interleaved=null;var s=o.next,l=i.pending;if(l!==null){var d=l.next;l.next=s,o.next=d}i.pending=o}Wn=null}return e}function Rp(e,t){do{var i=Ie;try{if(zu(),Qo.current=Ns,Ps){for(var o=Ne.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Ps=!1}if(Yn=0,Ue=Re=Ne=null,Er=!1,Vr=0,Hu.current=null,i===null||i.return===null){Fe=1,Jr=t,Ie=null;break}e:{var l=e,d=i.return,f=i,p=t;if(t=Ve,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,S=f,w=S.tag;if(!(S.mode&1)&&(w===0||w===11||w===15)){var b=S.alternate;b?(S.updateQueue=b.updateQueue,S.memoizedState=b.memoizedState,S.lanes=b.lanes):(S.updateQueue=null,S.memoizedState=null)}var P=nh(d);if(P!==null){P.flags&=-257,ih(P,d,f,l,t),P.mode&1&&th(l,g,t),t=P,p=g;var z=t.updateQueue;if(z===null){var C=new Set;C.add(p),t.updateQueue=C}else z.add(p);break e}else{if(!(t&1)){th(l,g,t),Ju();break e}p=Error(O(426))}}else if(Se&&f.mode&1){var K=nh(d);if(K!==null){!(K.flags&65536)&&(K.flags|=256),ih(K,d,f,l,t),Eu(Fi(p,f));break e}}l=p=Fi(p,f),Fe!==4&&(Fe=2),zr===null?zr=[l]:zr.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var v=wp(l,p,t);$d(l,v);break e;case 1:f=p;var _=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Cn===null||!Cn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=Sp(l,f,t);$d(l,j);break e}}l=l.return}while(l!==null)}Up(i)}catch(I){t=I,Ie===i&&i!==null&&(Ie=i=i.return);continue}break}while(!0)}function Fp(){var e=Cs.current;return Cs.current=Ns,e===null?Ns:e}function Ju(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ze===null||!(qn&268435455)&&!(Vs&268435455)||_n(Ze,Ve)}function zs(e,t){var i=he;he|=2;var o=Fp();(Ze!==e||Ve!==t)&&(Xt=null,Kn(e,t));do try{n_();break}catch(s){Rp(e,s)}while(!0);if(zu(),he=i,Cs.current=o,Ie!==null)throw Error(O(261));return Ze=null,Ve=0,Fe}function n_(){for(;Ie!==null;)Bp(Ie)}function i_(){for(;Ie!==null&&!Eg();)Bp(Ie)}function Bp(e){var t=Hp(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Up(e):Ie=t,Hu.current=null}function Up(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Yv(i,t),i!==null){i.flags&=32767,Ie=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Ie=null;return}}else if(i=$v(i,t,dt),i!==null){Ie=i;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Fe===0&&(Fe=5)}function Zn(e,t,i){var o=ge,s=Pt.transition;try{Pt.transition=null,ge=1,r_(e,t,i,o)}finally{Pt.transition=s,ge=o}return null}function r_(e,t,i,o){do Li();while(wn!==null);if(he&6)throw Error(O(327));i=e.finishedWork;var s=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(Rg(e,l),e===Ze&&(Ie=Ze=null,Ve=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Bo||(Bo=!0,Wp(ds,function(){return Li(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=Pt.transition,Pt.transition=null;var d=ge;ge=1;var f=he;he|=4,Hu.current=null,Qv(e,i),Op(i,e),kv(Ll),fs=!!zl,Ll=zl=null,e.current=i,Xv(i),Tg(),he=f,ge=d,Pt.transition=l}else e.current=i;if(Bo&&(Bo=!1,wn=e,Ts=s),l=e.pendingLanes,l===0&&(Cn=null),jg(i.stateNode),ut(e,je()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],o(s.value,{componentStack:s.stack,digest:s.digest});if(Es)throw Es=!1,e=ql,ql=null,e;return Ts&1&&e.tag!==0&&Li(),l=e.pendingLanes,l&1?e===Ql?Lr++:(Lr=0,Ql=e):Lr=0,On(),null}function Li(){if(wn!==null){var e=wf(Ts),t=Pt.transition,i=ge;try{if(Pt.transition=null,ge=16>e?16:e,wn===null)var o=!1;else{if(e=wn,wn=null,Ts=0,he&6)throw Error(O(331));var s=he;for(he|=4,V=e.current;V!==null;){var l=V,d=l.child;if(V.flags&16){var f=l.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(V=g;V!==null;){var S=V;switch(S.tag){case 0:case 11:case 15:Tr(8,S,l)}var w=S.child;if(w!==null)w.return=S,V=w;else for(;V!==null;){S=V;var b=S.sibling,P=S.return;if(jp(S),S===g){V=null;break}if(b!==null){b.return=P,V=b;break}V=P}}}var z=l.alternate;if(z!==null){var C=z.child;if(C!==null){z.child=null;do{var K=C.sibling;C.sibling=null,C=K}while(C!==null)}}V=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,V=d;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Tr(9,l,l.return)}var v=l.sibling;if(v!==null){v.return=l.return,V=v;break e}V=l.return}}var _=e.current;for(V=_;V!==null;){d=V;var y=d.child;if(d.subtreeFlags&2064&&y!==null)y.return=d,V=y;else e:for(d=_;V!==null;){if(f=V,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Ws(9,f)}}catch(I){Ee(f,f.return,I)}if(f===d){V=null;break e}var j=f.sibling;if(j!==null){j.return=f.return,V=j;break e}V=f.return}}if(he=s,On(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Is,e)}catch{}o=!0}return o}finally{ge=i,Pt.transition=t}}return!1}function gh(e,t,i){t=Fi(i,t),t=wp(e,t,1),e=Nn(e,t,1),t=et(),e!==null&&(Xr(e,1,t),ut(e,t))}function Ee(e,t,i){if(e.tag===3)gh(e,e,i);else for(;t!==null;){if(t.tag===3){gh(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cn===null||!Cn.has(o))){e=Fi(i,e),e=Sp(t,e,1),t=Nn(t,e,1),e=et(),t!==null&&(Xr(t,1,e),ut(t,e));break}}t=t.return}}function o_(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&i,Ze===e&&(Ve&i)===i&&(Fe===4||Fe===3&&(Ve&130023424)===Ve&&500>je()-Vu?Kn(e,0):Wu|=i),ut(e,t)}function Zp(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var i=et();e=an(e,t),e!==null&&(Xr(e,t,i),ut(e,i))}function s_(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Zp(e,i)}function a_(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(O(314))}o!==null&&o.delete(t),Zp(e,i)}var Hp;Hp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return st=!1,Jv(e,t,i);st=!!(e.flags&131072)}else st=!1,Se&&t.flags&1048576&&Gf(t,xs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;es(e,t),e=t.pendingProps;var s=Oi(t,qe.current);zi(t,i),s=Ru(null,t,o,e,s,i);var l=Fu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(o)?(l=!0,_s(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mu(t),s.updater=Hs,t.stateNode=s,s._reactInternals=t,Bl(t,o,e,i),t=Hl(null,t,o,!0,l,i)):(t.tag=0,Se&&l&&Nu(t),Xe(null,t,s,i),t=t.child),t;case 16:o=t.elementType;e:{switch(es(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=u_(o),e=Lt(o,e),s){case 0:t=Zl(null,t,o,e,i);break e;case 1:t=sh(null,t,o,e,i);break e;case 11:t=rh(null,t,o,e,i);break e;case 14:t=oh(null,t,o,Lt(o.type,e),i);break e}throw Error(O(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Lt(o,s),Zl(e,t,o,s,i);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Lt(o,s),sh(e,t,o,s,i);case 3:e:{if(Np(t),e===null)throw Error(O(387));o=t.pendingProps,l=t.memoizedState,s=l.element,Xf(e,t),bs(t,o,null,i);var d=t.memoizedState;if(o=d.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Fi(Error(O(423)),t),t=ah(e,t,o,i,s);break e}else if(o!==s){s=Fi(Error(O(424)),t),t=ah(e,t,o,i,s);break e}else for(ht=Pn(t.stateNode.containerInfo.firstChild),ft=t,Se=!0,Mt=null,i=qf(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ii(),o===s){t=ln(e,t,i);break e}Xe(e,t,o,i)}t=t.child}return t;case 5:return ep(t),e===null&&Dl(t),o=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,d=s.children,jl(o,s)?d=null:l!==null&&jl(o,l)&&(t.flags|=32),Pp(e,t),Xe(e,t,d,i),t.child;case 6:return e===null&&Dl(t),null;case 13:return Cp(e,t,i);case 4:return Au(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Di(t,null,o,i):Xe(e,t,o,i),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Lt(o,s),rh(e,t,o,s,i);case 7:return Xe(e,t,t.pendingProps,i),t.child;case 8:return Xe(e,t,t.pendingProps.children,i),t.child;case 12:return Xe(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,l=t.memoizedProps,d=s.value,ye(ws,o._currentValue),o._currentValue=d,l!==null)if(It(l.value,d)){if(l.children===s.children&&!at.current){t=ln(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){d=l.child;for(var p=f.firstContext;p!==null;){if(p.context===o){if(l.tag===1){p=rn(-1,i&-i),p.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?p.next=p:(p.next=S.next,S.next=p),g.pending=p}}l.lanes|=i,p=l.alternate,p!==null&&(p.lanes|=i),Rl(l.return,i,t),f.lanes|=i;break}p=p.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(O(341));d.lanes|=i,f=d.alternate,f!==null&&(f.lanes|=i),Rl(d,i,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}Xe(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,zi(t,i),s=Nt(s),o=o(s),t.flags|=1,Xe(e,t,o,i),t.child;case 14:return o=t.type,s=Lt(o,t.pendingProps),s=Lt(o.type,s),oh(e,t,o,s,i);case 15:return bp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Lt(o,s),es(e,t),t.tag=1,lt(o)?(e=!0,_s(t)):e=!1,zi(t,i),xp(t,o,s),Bl(t,o,s,i),Hl(null,t,o,!0,e,i);case 19:return Ep(e,t,i);case 22:return kp(e,t,i)}throw Error(O(156,t.tag))};function Wp(e,t){return vf(e,t)}function l_(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,i,o){return new l_(e,t,i,o)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u_(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pu)return 11;if(e===mu)return 14}return 2}function Tn(e,t){var i=e.alternate;return i===null?(i=kt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function is(e,t,i,o,s,l){var d=2;if(o=e,typeof e=="function")$u(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case mi:return Gn(i.children,s,l,t);case fu:d=8,s|=8;break;case cl:return e=kt(12,i,t,s|2),e.elementType=cl,e.lanes=l,e;case dl:return e=kt(13,i,t,s),e.elementType=dl,e.lanes=l,e;case hl:return e=kt(19,i,t,s),e.elementType=hl,e.lanes=l,e;case Xh:return Ks(i,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qh:d=10;break e;case Qh:d=9;break e;case pu:d=11;break e;case mu:d=14;break e;case mn:d=16,o=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=kt(d,i,t,s),t.elementType=e,t.type=o,t.lanes=l,t}function Gn(e,t,i,o){return e=kt(7,e,o,t),e.lanes=i,e}function Ks(e,t,i,o){return e=kt(22,e,o,t),e.elementType=Xh,e.lanes=i,e.stateNode={isHidden:!1},e}function nl(e,t,i){return e=kt(6,e,null,t),e.lanes=i,e}function il(e,t,i){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function c_(e,t,i,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yu(e,t,i,o,s,l,d,f,p){return e=new c_(e,t,i,f,p),t===1?(t=1,l===!0&&(t|=8)):t=0,l=kt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(l),e}function d_(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Vp(e){if(!e)return Ln;e=e._reactInternals;e:{if(ni(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var i=e.type;if(lt(i))return Vf(e,i,t)}return t}function Kp(e,t,i,o,s,l,d,f,p){return e=Yu(i,o,!0,e,s,l,d,f,p),e.context=Vp(null),i=e.current,o=et(),s=En(i),l=rn(o,s),l.callback=t??null,Nn(i,l,s),e.current.lanes=s,Xr(e,s,o),ut(e,o),e}function Gs(e,t,i,o){var s=t.current,l=et(),d=En(s);return i=Vp(i),t.context===null?t.context=i:t.pendingContext=i,t=rn(l,d),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Nn(s,t,d),e!==null&&(Ot(e,s,d,l),qo(e,s,d)),d}function Ls(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function qu(e,t){vh(e,t),(e=e.alternate)&&vh(e,t)}function h_(){return null}var Gp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}Js.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Gs(e,t,null,null)};Js.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){Gs(null,e,null,null)}),t[sn]=null}};function Js(e){this._internalRoot=e}Js.prototype.unstable_scheduleHydration=function(e){if(e){var t=kf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<vn.length&&t!==0&&t<vn[i].priority;i++);vn.splice(i,0,e),i===0&&Nf(e)}};function Xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _h(){}function f_(e,t,i,o,s){if(s){if(typeof o=="function"){var l=o;o=function(){var g=Ls(d);l.call(g)}}var d=Kp(t,o,e,0,null,!1,!1,"",_h);return e._reactRootContainer=d,e[sn]=d.current,Br(e.nodeType===8?e.parentNode:e),Qn(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var f=o;o=function(){var g=Ls(p);f.call(g)}}var p=Yu(e,0,!1,null,null,!1,!1,"",_h);return e._reactRootContainer=p,e[sn]=p.current,Br(e.nodeType===8?e.parentNode:e),Qn(function(){Gs(t,p,i,o)}),p}function Ys(e,t,i,o,s){var l=i._reactRootContainer;if(l){var d=l;if(typeof s=="function"){var f=s;s=function(){var p=Ls(d);f.call(p)}}Gs(t,d,e,s)}else d=f_(i,t,e,s,o);return Ls(d)}Sf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=wr(t.pendingLanes);i!==0&&(_u(t,i|1),ut(t,je()),!(he&6)&&(Bi=je()+500,On()))}break;case 13:Qn(function(){var o=an(e,1);if(o!==null){var s=et();Ot(o,e,1,s)}}),qu(e,1)}};yu=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var i=et();Ot(t,e,134217728,i)}qu(e,134217728)}};bf=function(e){if(e.tag===13){var t=En(e),i=an(e,t);if(i!==null){var o=et();Ot(i,e,t,o)}qu(e,t)}};kf=function(){return ge};Pf=function(e,t){var i=ge;try{return ge=e,t()}finally{ge=i}};Sl=function(e,t,i){switch(t){case"input":if(ml(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var s=Bs(o);if(!s)throw Error(O(90));tf(o),ml(o,s)}}}break;case"textarea":rf(e,i);break;case"select":t=i.value,t!=null&&Ni(e,!!i.multiple,t,!1)}};df=Ku;hf=Qn;var p_={usingClientEntryPoint:!1,Events:[to,yi,Bs,uf,cf,Ku]},_r={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m_={bundleType:_r.bundleType,version:_r.version,rendererPackageName:_r.rendererPackageName,rendererConfig:_r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mf(e),e===null?null:e.stateNode},findFiberByHostInstance:_r.findFiberByHostInstance||h_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Is=Uo.inject(m_),Gt=Uo}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p_;gt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(t))throw Error(O(200));return d_(e,t,null,i)};gt.createRoot=function(e,t){if(!Xu(e))throw Error(O(299));var i=!1,o="",s=Gp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yu(e,1,!1,null,null,i,!1,o,s),e[sn]=t.current,Br(e.nodeType===8?e.parentNode:e),new Qu(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=mf(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return Qn(e)};gt.hydrate=function(e,t,i){if(!$s(t))throw Error(O(200));return Ys(null,e,t,!0,i)};gt.hydrateRoot=function(e,t,i){if(!Xu(e))throw Error(O(405));var o=i!=null&&i.hydratedSources||null,s=!1,l="",d=Gp;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),t=Kp(t,null,e,1,i??null,s,!1,l,d),e[sn]=t.current,Br(e),o)for(e=0;e<o.length;e++)i=o[e],s=i._getVersion,s=s(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new Js(t)};gt.render=function(e,t,i){if(!$s(t))throw Error(O(200));return Ys(null,e,t,!1,i)};gt.unmountComponentAtNode=function(e){if(!$s(e))throw Error(O(40));return e._reactRootContainer?(Qn(function(){Ys(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};gt.unstable_batchedUpdates=Ku;gt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!$s(i))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Ys(e,t,i,!1,o)};gt.version="18.3.1-next-f1338f8080-20240426";function Jp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jp)}catch(e){console.error(e)}}Jp(),Gh.exports=gt;var $p=Gh.exports,yh=$p;ll.createRoot=yh.createRoot,ll.hydrateRoot=yh.hydrateRoot;var g_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),__=(e,t)=>{const i=E.forwardRef(({color:o="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:d,children:f,...p},g)=>E.createElement("svg",{ref:g,...g_,width:s,height:s,stroke:o,strokeWidth:d?Number(l)*24/Number(s):l,className:`lucide lucide-${v_(e)}`,...p},[...t.map(([S,w])=>E.createElement(S,w)),...(Array.isArray(f)?f:[f])||[]]));return i.displayName=`${e}`,i};var ie=__;const $r=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),rs=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),y_=ie("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 11v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1ed1m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]),x_=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Yp=ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),js=ie("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),xh=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Ui=ie("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ii=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$i=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),w_=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Xn=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),S_=ie("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Zi=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),wh=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),qp=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),b_=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),jn=ie("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),k_=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),P_=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),N_=ie("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),C_=ie("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),E_=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Sh=ie("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),T_=ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Qp=ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),z_=ie("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),ec=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),pt=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Xp=ie("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),L_=ie("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]),bh=ie("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Hi=ie("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),tu=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),kh=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),j_=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),M_=ie("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),A_=ie("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),em=ie("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),O_=ie("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),ei=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ms=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),I_=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),D_=ie("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),R_=ie("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),F_=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Wi=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),B_="Philippines & Japan Trip 2026",U_={total:3500,currency:"USD"},Z_=[{name:"Earl Cameron",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",dob:"January 21, 1992"}],H_=[{name:"Travel to Philippines",region:"US  PH",segments:[{id:"seg-001",date:"2026-01-30",dateDisplay:"Fri Jan 30, 2026",timeStart:"6:10 PM",timeEnd:"9:43 PM",tz:"US",tzFrom:"ET",tzTo:"PT",route:"FLL  SFO",type:"Flight",airline:"United",flight:"UA249",cabinClass:"Economy S",details:"UA249 (United Economy S)",departureAirport:"FLL - Fort Lauderdale-Hollywood Intl.",arrivalAirport:"SFO - San Francisco Intl.",duration:"5h 33m",status:"BOOKED",estimatedCost:320,currency:"USD"},{id:"seg-002",date:"2026-01-30",dateEnd:"2026-02-01",dateDisplay:"Fri Jan 30  Sun Feb 1, 2026",timeStart:"11:45 PM",timeEnd:"6:50 AM +2",tz:"US",tzFrom:"PT",tzTo:"PHT",route:"SFO  MNL",type:"Flight",airline:"United",flight:"UA189",cabinClass:"Economy S",details:"UA189 (United Economy S) - Crosses International Date Line",departureAirport:"SFO - San Francisco Intl.",arrivalAirport:"MNL - Ninoy Aquino Intl. T1",duration:"~14h",status:"BOOKED",estimatedCost:580,currency:"USD",crossesDateline:!0,note:"Departs Jan 30 11:45 PM PT, arrives Feb 1 6:50 AM PHT (skips Jan 31)"}]},{name:"Philippines Stay",region:"PH",segments:[{id:"seg-003",date:"2026-02-01",dateDisplay:"Sun Feb 1, 2026",timeStart:"6:50 AM",timeEnd:"12:30 PM",tz:"PH",tzLabel:"PHT",location:"MNL - Ninoy Aquino Intl.",type:"Airport",details:"Immigration / baggage claim / buffer time",status:"BUFFER"},{id:"seg-004",date:"2026-02-01",dateDisplay:"Sun Feb 1, 2026",timeStart:"10:35 AM",timeEnd:"12:00 PM",tz:"PH",tzLabel:"PHT",route:"MNL  BCD",type:"Flight",airline:"Cebu Pacific",flight:"5J483",aircraft:"Airbus A321",cabinClass:"Economy",details:"Cebu Pacific 5J483",departureAirport:"MNL - Ninoy Aquino International Airport T3",arrivalAirport:"BCD - Bacolod-Silay International Airport",duration:"1h 25m",status:"BOOKED",estimatedCost:2500,currency:"PHP"},{id:"seg-005",date:"2026-02-01",dateEnd:"2026-02-06",dateDisplay:"Sun Feb 1  Fri Feb 6",tz:"PH",tzLabel:"PHT",location:"Bacolod (BCD)",type:"Stay",details:"Home stay in Bacolod - prep for Japan trip",status:"PLANNED",shelter:{name:"Home - Bacolod",address:"Bacolod City, Negros Occidental, Philippines",type:"Personal residence",notes:"Family home",coordinates:{lat:10.6765,lng:122.9509}}},{id:"seg-005a",date:"2026-02-02",dateDisplay:"Mon Feb 2, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Rest & Recovery Day",status:"PLANNED",activities:[]},{id:"seg-005b",date:"2026-02-03",dateDisplay:"Tue Feb 3, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Explore Bacolod",status:"PLANNED",activities:[]},{id:"seg-005c",date:"2026-02-04",dateDisplay:"Wed Feb 4, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Family Day",status:"PLANNED",activities:[]},{id:"seg-005d",date:"2026-02-05",dateDisplay:"Thu Feb 5, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Japan Trip Prep Day",status:"PLANNED",activities:[]}]},{name:"Japan Trip",region:"JP",passengers:["Earl Cameron","Paula Mariz Yumul"],segments:[{id:"seg-006",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"6:20 AM",timeEnd:"7:45 AM",tz:"PH",tzLabel:"PHT",route:"BCD  MNL",type:"Flight",airline:"Cebu Pacific / Cebgo",flight:"5J 474",cabinClass:"GO Easy",details:"5J 474 (Cebu Pacific)",departureAirport:"BCD - New Bacolod Silay Airport",arrivalAirport:"MNL - Ninoy Aquino Intl. T3",duration:"1h 25m",status:"BOOKED",estimatedCost:50,currency:"USD",bookingRef:"ALBB7N",passengers:[{name:"Earl Cameron",seat:"19B",baggage:"20kg checked"},{name:"Paula Mariz Yumul",seat:"19C",baggage:"20kg checked"}]},{id:"seg-008",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"12:35 PM",timeEnd:"6:00 PM",tz:"PH",tzFrom:"PHT",tzTo:"JST",route:"MNL  NRT",type:"Flight",airline:"Cebu Pacific",flight:"5J 5056",cabinClass:"GO Easy",details:"5J 5056 (Cebu Pacific)",departureAirport:"MNL - Ninoy Aquino Intl. T3",arrivalAirport:"NRT - Narita Intl. T2",duration:"4h 25m",status:"BOOKED",estimatedCost:50,currency:"USD",bookingRef:"ALBB7N",passengers:[{name:"Earl Cameron",seat:"47C",baggage:"20kg checked"},{name:"Paula Mariz Yumul",seat:"47D",baggage:"20kg checked"}]},{id:"seg-009",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"6:30 PM",timeEnd:"8:00 PM",tz:"JP",tzLabel:"JST",route:"NRT  Tokyo",type:"Transit",details:"Train/bus to Tokyo city center",status:"PLANNED"},{id:"seg-010",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"4:00 PM",tz:"JP",tzLabel:"JST",location:"Taito City, Tokyo",type:"Check-in",details:"Airbnb check-in (1 night before Joetsu)",status:"BOOKED",estimatedCost:53.66,currency:"USD",shelter:{name:"Home in Taito City (501)",type:"Airbnb",host:"Tomson",address:"5 Chome-8 Asakusabashi, Taito City, Tokyo 111-0053, Japan",checkIn:"After 4:00 PM (self check-in with lockbox)",checkOut:"By 10:00 AM",guests:"2 adults",pricePerNight:53.66,notes:"Entire home/apt - Near Yamanote line, direct access to Narita/Haneda",cancellation:"Free for 24hrs; partial refund if cancelled before Feb 2 4:00 PM",amenities:["Carbon monoxide alarm","Smoke alarm"],coordinates:{lat:35.6986,lng:139.7828}}},{id:"seg-011",date:"2026-02-07",dateDisplay:"Sat Feb 7, 2026",timeStart:"10:27 AM",timeEnd:"12:31 PM",tz:"JP",tzLabel:"JST",route:"Taito City  Joetsu-Myoko",type:"Travel",details:"Hokuriku Shinkansen Hakutaka 559 to Joetsu (2h 4m total)",status:"PLANNED",estimatedCost:9230,currency:"JPY",legs:[{type:"Walk",from:"Taito City (Airbnb)",to:"Ueno Station",duration:"12 min",distance:"550 m",timeStart:"10:27 AM"},{type:"Shinkansen",train:"Hokuriku Shinkansen Hakutaka 559",from:"Ueno Station",to:"Jetsumyk Station",platform:"19",duration:"1h 49m",stops:7,timeStart:"10:39 AM",timeEnd:"12:28 PM"},{type:"Walk",from:"Jetsumyk Station",to:"APA Hotel Joetsu Myoko-Ekimae",duration:"3 min",distance:"280 m",timeEnd:"12:31 PM"}]},{id:"seg-012",date:"2026-02-07",dateEnd:"2026-02-09",dateDisplay:"Sat Feb 7  Mon Feb 9, 2026",timeStart:"3:00 PM",tz:"JP",tzLabel:"JST",location:"Joetsu",type:"Check-in",details:"Hotel check-in (2 nights, Double Room - Non-Smoking)",status:"BOOKED",estimatedCost:26300,currency:"JPY",shelter:{name:"APA Hotel Joetsu Myoko-Ekimae",type:"Hotel",address:"Niigata, Joetsu, Yamato 2-3-1, Japan",phone:"+81 25-527-5810",checkIn:"3:00 PM - 12:00 AM",checkOut:"10:00 AM",confirmationNumber:"6033468060",pin:"0467",roomType:"Double Room - Non-Smoking",notes:"2 adults, 2 nights - Payment scheduled Feb 4 (card ending 5797)",cancellation:"Free until Feb 5; 15,500 from Feb 6; 26,300 from Feb 8",coordinates:{lat:37.1033,lng:138.2531}}},{id:"seg-013",date:"2026-02-07",dateDisplay:"Sat Feb 7, 2026",timeStart:"1:30 PM",timeEnd:"5:00 PM",tz:"JP",tzLabel:"JST",location:"Myoko Kogen",type:"Activity",details:"Ski rental setup + warm-up runs",status:"PLANNED",activities:[]},{id:"seg-014",date:"2026-02-08",dateDisplay:"Sun Feb 8, 2026",timeStart:"9:00 AM",timeEnd:"3:30 PM",tz:"JP",tzLabel:"JST",location:"Myoko Kogen",type:"Activity",details:"Full ski day",status:"PLANNED",activities:[]},{id:"seg-015",date:"2026-02-09",dateDisplay:"Mon Feb 9, 2026",timeStart:"12:00 PM",timeEnd:"2:04 PM",tz:"JP",tzLabel:"JST",route:"Joetsu-Myoko  Tokyo (Taito City)",type:"Travel",details:"Hokuriku Shinkansen Hakutaka to Ueno (2h 4m total)",status:"PLANNED",estimatedCost:9230,currency:"JPY",legs:[{type:"Walk",from:"APA Hotel Joetsu Myoko-Ekimae",to:"Jetsumyk Station",duration:"3 min",distance:"280 m",timeStart:"12:00 PM"},{type:"Shinkansen",train:"Hokuriku Shinkansen Hakutaka",from:"Jetsumyk Station",to:"Ueno Station",duration:"1h 49m",stops:7,timeStart:"12:12 PM",timeEnd:"2:01 PM",note:"Same line as outbound, reverse direction"},{type:"Walk",from:"Ueno Station",to:"Taito City (Airbnb)",duration:"12 min",distance:"550 m",timeEnd:"2:15 PM"}]},{id:"seg-016",date:"2026-02-09",dateEnd:"2026-02-12",dateDisplay:"Mon Feb 9  Thu Feb 12, 2026",timeStart:"4:00 PM",tz:"JP",tzLabel:"JST",location:"Taito City, Tokyo",type:"Check-in",details:"Airbnb check-in (3 nights)",status:"BOOKED",estimatedCost:160.97,currency:"USD",shelter:{name:"Home in Taito City (501)",type:"Airbnb",host:"Tomson",address:"5 Chome-8 Asakusabashi, Taito City, Tokyo 111-0053, Japan",checkIn:"After 4:00 PM (self check-in with lockbox)",checkOut:"By 10:00 AM",guests:"2 adults",pricePerNight:53.66,notes:"Entire home/apt - Near Yamanote line, direct access to Narita/Haneda",cancellation:"Free for 24hrs; partial refund if cancelled before Feb 2 4:00 PM",amenities:["Carbon monoxide alarm","Smoke alarm"],coordinates:{lat:35.6986,lng:139.7828}}},{id:"seg-017",date:"2026-02-09",dateDisplay:"Mon Feb 9, 2026",timeStart:"3:00 PM",timeEnd:"10:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Explore Tokyo - Arrival Day",status:"PLANNED",activities:[]},{id:"seg-018",date:"2026-02-10",dateDisplay:"Tue Feb 10, 2026",timeStart:"10:00 AM",timeEnd:"10:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Full day exploring Tokyo",status:"PLANNED",activities:[]},{id:"seg-019",date:"2026-02-11",dateDisplay:"Wed Feb 11, 2026",timeStart:"10:00 AM",timeEnd:"9:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Last day in Tokyo - Shopping & Packing",status:"PLANNED",activities:[]},{id:"seg-020",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"05:00 AM",timeEnd:"06:00 AM",tz:"JP",tzLabel:"JST",route:"Tokyo  NRT",type:"Transit",details:"Early morning airport transfer (arrive 3hrs before 8:55 AM flight)",status:"PLANNED"},{id:"seg-021",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"08:55 AM",timeEnd:"01:00 PM",tz:"JP",tzFrom:"JST",tzTo:"PHT",route:"NRT  MNL",type:"Flight",details:"Zipair Tokyo ZG095 (5h 5m)",flightNumber:"ZG095",airline:"Zipair Tokyo",departureAirport:"NRT - Narita International Airport",arrivalAirport:"MNL - Ninoy Aquino International Airport",status:"BOOKED",estimatedCost:286.2,currency:"USD",costNote:"2 adult tickets incl. taxes $26.30",passengers:[{name:"Earl Cameron",gender:"Male",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",gender:"Female",dob:"January 21, 1992"}]},{id:"seg-022",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"05:25 PM",timeEnd:"06:45 PM",tz:"PH",tzLabel:"PHT",route:"MNL  BCD",type:"Flight",details:"Philippines AirAsia Z2605 (1h 20m) - Self-transfer from ZG095 (4h 25m layover)",flightNumber:"Z2605",airline:"Philippines AirAsia",departureAirport:"MNL - Ninoy Aquino International Airport",arrivalAirport:"BCD - Bacolod-Silay International Airport",status:"BOOKED",estimatedCost:46.6,currency:"USD",costNote:"2 adult tickets incl. taxes $18.10",passengers:[{name:"Earl Cameron",gender:"Male",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",gender:"Female",dob:"January 21, 1992"}]}]},{name:"Back in Philippines",region:"PH",segments:[{id:"seg-023",date:"2026-02-12",dateEnd:"2026-02-13",dateDisplay:"Thu Feb 12  Fri Feb 13",tz:"PH",tzLabel:"PHT",location:"Bacolod (BCD)",type:"Stay",details:"Home buffer days before return to US",status:"PLANNED",shelter:{name:"Home - Bacolod",address:"Bacolod City, Negros Occidental, Philippines",type:"Personal residence",notes:"Family home",coordinates:{lat:10.6765,lng:122.9509}}}]},{name:"Return to Florida",region:"PH  US",segments:[{id:"seg-024",date:"2026-02-14",dateDisplay:"Sat Feb 14, 2026",timeStart:"07:30 PM",timeEnd:"08:45 PM",tz:"PH",tzLabel:"PHT",route:"BCD  MNL",type:"Flight",details:"Philippines AirAsia Z2606 (1h 15m) - Airbus A320",flightNumber:"Z2606",airline:"Philippines AirAsia",departureAirport:"BCD - Bacolod-Silay Intl.",arrivalAirport:"MNL - Ninoy Aquino Intl. T2",cabinClass:"Economy",status:"BOOKED",estimatedCost:50,currency:"USD"},{id:"seg-024b",date:"2026-02-14",dateEnd:"2026-02-15",dateDisplay:"Sat Feb 14  Sun Feb 15",tz:"PH",tzLabel:"PHT",location:"Pasay, Manila",type:"Stay",details:"Overnight in Manila before late flight to US",status:"BOOKED",estimatedCost:33.64,currency:"USD",shelter:{name:"AAH Residences C1-7W-Studio A @ 81 Newport Blvd",type:"Airbnb",host:"Grace",checkIn:"After 2:00 PM",checkOut:"By 12:00 PM",guests:"1 adult (2 max)",pricePerNight:33.64,notes:"Entire home/apt - Near Newport/MNL airport area. Exact address sent 25 days before.",houseRules:"No pets, Quiet hours 10PM-8AM",cancellation:"Free before Feb 9 2:00 PM; non-refundable after",amenities:["Exterior security cameras","Smoke alarm"],coordinates:{lat:14.5095,lng:121.0195}}},{id:"seg-025",date:"2026-02-15",dateDisplay:"Sun Feb 15, 2026",timeStart:"11:25 PM",timeEnd:"7:55 PM",tz:"PH",tzFrom:"PHT",tzTo:"PT",route:"MNL  SFO",type:"Flight",airline:"United",flight:"UA810",cabinClass:"Economy W",details:"UA810 (United Economy W) - Same calendar day arrival",departureAirport:"MNL - Ninoy Aquino Intl.",arrivalAirport:"SFO - San Francisco Intl.",duration:"~12h",status:"BOOKED",estimatedCost:580,currency:"USD",note:"Departs Feb 15 11:25 PM PHT, arrives Feb 15 7:55 PM PT (gains time)"},{id:"seg-026",date:"2026-02-15",dateEnd:"2026-02-16",dateDisplay:"Sun Feb 15  Mon Feb 16, 2026",timeStart:"9:20 PM",timeEnd:"12:58 AM +1",tz:"US",tzFrom:"PT",tzTo:"MT",route:"SFO  DEN",type:"Flight",airline:"United",flight:"UA301",cabinClass:"Economy W",details:"UA301 (United Economy W)",departureAirport:"SFO - San Francisco Intl.",arrivalAirport:"DEN - Denver Intl.",duration:"2h 38m",status:"BOOKED",estimatedCost:280,currency:"USD"},{id:"seg-027",date:"2026-02-16",dateDisplay:"Mon Feb 16, 2026",timeStart:"8:05 AM",timeEnd:"1:59 PM",tz:"US",tzFrom:"MT",tzTo:"ET",route:"DEN  FLL",type:"Flight",airline:"United",flight:"UA1469",cabinClass:"Economy W",details:"UA1469 (United Economy W)",departureAirport:"DEN - Denver Intl.",arrivalAirport:"FLL - Fort Lauderdale-Hollywood Intl.",duration:"3h 54m",status:"BOOKED",estimatedCost:320,currency:"USD"}]}],io={tripName:B_,budget:U_,travelers:Z_,trips:H_},W_=365,V_={BOOKED:"BOOKED",PLANNED:"PLANNED",PLANNED_WARN:"PLANNED_WARN",BUFFER:"BUFFER",TO_BOOK:"TO_BOOK",WEEKEND_SKI:"WEEKEND_SKI",OPTIONAL:"OPTIONAL",IF_CONDITIONAL:"IF_CONDITIONAL",UNSET:"UNSET"},K_=["flight","travel","transit","bus","airport"],G_=io.budget||{total:0,currency:"USD"},J_=io.tripName||"Travel Itinerary";io.travelers;function $_(e){if(!e)return null;const t=e.match(/([A-Z]{2})(\d+)/);return t?t[1]:null}function Y_(e){if(!e)return null;const t=e.match(/([A-Z]{2})(\d+)/);return t?t[0]:null}function q_(e){if(!e)return null;const t=e.match(/\s*(.+?)(?:\s*|$)/);return t?t[1].trim():null}function nu(e){var t;return e.location?e.location:e.route&&((t=e.route.split("")[1])==null?void 0:t.trim())||null}function Q_(e){if(!e)return null;const t=e.match(/\b([A-Z]{3})\b/);if(t)return t[1];const i={Tokyo:" Tokyo",Joetsu:" Joetsu",Myoko:" Myoko",Manila:" Manila",MNL:" Manila",Bacolod:" Bacolod",BCD:" Bacolod","San Francisco":" San Francisco",SFO:" San Francisco",Denver:" Denver",DEN:" Denver",Miami:" Miami",FLL:" Miami"};for(const[o,s]of Object.entries(i))if(e.includes(o))return s;return e}function Vi(e,t){return e?t&&t!==e?`${e}  ${t}`:e:null}function X_(e){const[t,i,o]=e.split("-").map(Number),s=new Date(t,i-1,o,12,0,0),l={weekday:"short",month:"short",day:"numeric",year:"numeric"};return s.toLocaleDateString("en-US",l)}function ey(e,t){const i=[],[o,s,l]=e.split("-").map(Number),[d,f,p]=t.split("-").map(Number),g=new Date(o,s-1,l,12,0,0),S=new Date(d,f-1,p,12,0,0);let w=0;for(;g<=S&&w<W_;){const b=g.getFullYear(),P=String(g.getMonth()+1).padStart(2,"0"),z=String(g.getDate()).padStart(2,"0");i.push(`${b}-${P}-${z}`),g.setDate(g.getDate()+1),w++}return i}function ty(e=io){return{tripName:e.tripName||"Travel Itinerary",budget:e.budget||{total:0,currency:"USD"},travelers:e.travelers||[]}}function ny(e){return!e.status||e.status==="BOOKED"||e.status==="TO_BOOK"?{trigger:"Flight delay (>2 hrs) or cancellation",options:[{id:`bp-${e.id}-1`,priority:1,title:"Next available flight same route",description:"Rebook on next available flight to same destination",status:"TO_BOOK",contact:"Airline customer service / online rebooking"},{id:`bp-${e.id}-2`,priority:2,title:"Alternate route via different hub",description:"Consider booking via alternate routing if available",status:"TO_BOOK",contact:"Airline customer service"},{id:`bp-${e.id}-3`,priority:3,title:"Ground transportation alternative",description:"Use ground transport if delay < 24hrs and destination reachable",status:"TO_BOOK",contact:"Local transportation providers"}]}:null}function iy(e,t,i){return{dateKey:e,dateDisplay:X_(e),timezone:(i==null?void 0:i.tzLabel)||(i==null?void 0:i.tzFrom)||(i==null?void 0:i.tz)||"UTC",tz:(i==null?void 0:i.tz)||null,region:(t==null?void 0:t.region)||null,summary:t.name,location:nu(i),travel:[],shelter:{},meals:[],activities:[],metadata:{hasTravel:!1,locationFlags:[],estimatedCost:0,costCurrencies:new Set,unbootedCount:0,hasUnbooked:!1,isContinuationDay:!1}}}function ry(e,t,i){return{id:e.id,type:e.type,route:e.route||null,time:Vi(e.timeStart,e.timeEnd),duration:e.duration||null,status:V_[e.status]||"UNSET",details:e.details,airline:e.airline||$_(e.details),flight:e.flight||Y_(e.details),aircraft:e.aircraft||null,cabinClass:e.cabinClass||null,departureAirport:e.departureAirport||null,arrivalAirport:e.arrivalAirport||null,location:e.location,name:e.details,estimatedCost:e.estimatedCost||null,currency:e.currency||null,isMultiDay:i>1,dayOfSpan:t+1,totalDays:i}}function tm(e=io){const t=new Map;function i(o,s,l){return t.has(o)||t.set(o,iy(o,s,l)),t.get(o)}for(const o of e.trips)for(const s of o.segments){const l=s.date,d=s.dateEnd||s.date,f=s.type.toLowerCase(),p=ey(l,d);for(let g=0;g<p.length;g++){const S=p[g],w=i(S,o,s);f==="flight"&&p.length>1&&g>0&&g<p.length-1&&(w.isInFlight=!0,w.inFlightDetails={route:s.route,flight:s.flight||s.details,note:"Crossing International Date Line"}),(s.tz||s.tzFrom)&&(w.timezone=s.tz||s.tzFrom),nu(s)&&!w.location&&(w.location=nu(s));const b=ry(s,g,p.length);oy(w,s,f,g),sy(w,s,b,f,p,g)}}return fy(t)}function oy(e,t,i,o){if(K_.includes(i)&&(e.metadata.hasTravel=!0),t.status==="TO_BOOK"&&o===0&&(e.metadata.unbootedCount+=1,e.metadata.hasUnbooked=!0),t.estimatedCost&&o===0&&(e.metadata.estimatedCost+=t.estimatedCost,e.metadata.costCurrencies.add(t.currency)),t.location){const s=Q_(t.location);s&&!e.metadata.locationFlags.includes(s)&&e.metadata.locationFlags.push(s)}}function sy(e,t,i,o,s,l){const d=l===0,f=l===s.length-1,p=s.length>1;switch(o){case"flight":case"travel":case"transit":case"bus":case"airport":ay(e,t,i,o,d,f,p);break;case"stay":case"check-in":ly(e,t,s,l);break;case"meal":d&&uy(e,t);break;case"activity":case"explore":case"prep":case"ski setup":case"activities":d&&cy(e,t);break;case"layover":d&&dy(e,t);break;default:t.details&&d&&hy(e,t)}}function ay(e,t,i,o,s,l,d){if(s||d&&l){const f={...i,isDeparture:s,isArrival:!s&&l,crossesDateline:d&&o==="flight"};o==="flight"&&s&&(f.backupPlan=ny(t)),e.travel.push(f)}}function ly(e,t,i,o){if(t.dateEnd&&o===i.length-1||e.shelter.name)return;const l=o===0,d=i.length-1;t.shelter?e.shelter={name:t.shelter.name,address:t.shelter.address,type:t.shelter.type||null,notes:t.shelter.notes||null,host:t.shelter.host||null,checkIn:l&&(t.timeStart||t.shelter.checkIn)||null,checkOut:t.shelter.checkOut||null,isMultiDayStay:i.length>1,dayOfStay:o+1,totalStayDays:d,estimatedCost:t.estimatedCost||null,currency:t.currency||null,coordinates:t.shelter.coordinates||null}:e.shelter={name:t.location||t.details,address:q_(t.details),checkIn:l&&t.timeStart||null,checkOut:null,notes:t.note||null,isMultiDayStay:i.length>1,dayOfStay:o+1,totalStayDays:d,estimatedCost:t.estimatedCost||null,currency:t.currency||null,coordinates:null}}function uy(e,t){e.meals.push({id:t.id,type:t.details,location:t.location,time:Vi(t.timeStart,t.timeEnd),details:t.details})}function cy(e,t){if(t.activities&&Array.isArray(t.activities))for(const i of t.activities)e.activities.push({id:`${t.id}-${i.name}`,name:i.name,location:i.location||t.location,time:Vi(i.timeStart,i.timeEnd),timeStart:i.timeStart,timeEnd:i.timeEnd,description:i.notes||i.name,type:i.category||t.type,icon:i.icon,priority:i.priority,category:i.category,estimatedCost:i.estimatedCost,currency:i.currency,notes:i.notes,coordinates:i.coordinates||null});else e.activities.push({id:t.id,name:t.details,location:t.location,time:Vi(t.timeStart,t.timeEnd),description:t.details,type:t.type})}function dy(e,t){e.activities.push({id:t.id,name:`Layover: ${t.details}`,location:t.location,time:Vi(t.timeStart,t.timeEnd),description:t.details,type:"layover"})}function hy(e,t){e.activities.push({id:t.id,name:t.details,location:t.location,time:Vi(t.timeStart,t.timeEnd),description:t.details,type:t.type})}function fy(e){return Array.from(e.values()).sort((t,i)=>new Date(t.dateKey)-new Date(i.dateKey)).map(t=>({...t,metadata:{...t.metadata,costCurrencies:Array.from(t.metadata.costCurrencies)}}))}const py=tm();function my(e){return tm(e)}const nm="TravelItineraryDB",iu=3,gy=365,ee={TRIP_META:"tripMeta",TRIPS:"trips",USER_ACTIVITIES:"userActivities",DELETED_ACTIVITIES:"deletedActivities",SETTINGS:"settings",BOARDING_PASSES:"boardingPasses"};let ze=null;function Te(e,t){const i=new Error(`${e}: ${t.message}`);return i.cause=t,i}function vy(e){const t=new Set;for(const i of e){const o=i.segments||[];for(const s of o)if(s.date&&t.add(s.date),s.dateEnd&&s.date){const l=new Date(s.date),d=new Date(s.dateEnd);if(d>=l){const f=new Date(l);let p=0;for(;f<=d&&p<gy;)t.add(f.toISOString().split("T")[0]),f.setDate(f.getDate()+1),p++}}}return t}function _y(e){return{id:"main",tripName:e.tripName||"My Trip",budget:e.budget||{total:0,currency:"USD"},travelers:e.travelers||[]}}function yy(e){return{name:e.name,region:e.region,segments:e.segments||[]}}function im(e,t){const i={};for(const o of e){const s=o[t];s&&s.length>0&&(i[o.date]=s)}return i}function Ge(){return new Promise(e=>{if(ze){e([ze,null]);return}const t=indexedDB.open(nm,iu);t.onerror=()=>{console.error("IndexedDB error:",t.error),e([null,t.error||new Error("Failed to open IndexedDB")])},t.onsuccess=()=>{ze=t.result,console.log(" IndexedDB initialized"),e([ze,null])},t.onblocked=()=>{console.warn(" IndexedDB blocked - close other tabs using this app")},t.onupgradeneeded=i=>{const o=i.target.result,s=i.oldVersion;console.log(` Upgrading IndexedDB from v${s} to v${iu}...`),s<2&&(o.objectStoreNames.contains("activities")&&o.deleteObjectStore("activities"),o.objectStoreNames.contains("deleted")&&o.deleteObjectStore("deleted")),o.objectStoreNames.contains(ee.TRIP_META)||o.createObjectStore(ee.TRIP_META,{keyPath:"id"}),o.objectStoreNames.contains(ee.TRIPS)||o.createObjectStore(ee.TRIPS,{keyPath:"name"}).createIndex("region","region",{unique:!1}),o.objectStoreNames.contains(ee.USER_ACTIVITIES)||o.createObjectStore(ee.USER_ACTIVITIES,{keyPath:"date"}),o.objectStoreNames.contains(ee.DELETED_ACTIVITIES)||o.createObjectStore(ee.DELETED_ACTIVITIES,{keyPath:"date"}),o.objectStoreNames.contains(ee.SETTINGS)||o.createObjectStore(ee.SETTINGS,{keyPath:"key"}),o.objectStoreNames.contains(ee.BOARDING_PASSES)||o.createObjectStore(ee.BOARDING_PASSES,{keyPath:"id"}).createIndex("segmentId","segmentId",{unique:!1}),console.log(" IndexedDB stores created/updated")}})}async function xy(){const[,e]=await Ge();return e?[null,Te("isDataInitialized",e)]:new Promise(t=>{const s=ze.transaction([ee.SETTINGS],"readonly").objectStore(ee.SETTINGS).get("initialized");s.onsuccess=()=>{var d;const l=((d=s.result)==null?void 0:d.value)===!0;t([l,null])},s.onerror=()=>t([null,s.error||new Error("Failed to check initialization status")])})}async function wy(){const[,e]=await Ge();return e?[null,Te("markInitialized",e)]:new Promise(t=>{const o=ze.transaction([ee.SETTINGS],"readwrite").objectStore(ee.SETTINGS),s={key:"initialized",value:!0,timestamp:Date.now()},l=o.put(s);l.onsuccess=()=>t([void 0,null]),l.onerror=()=>t([null,l.error||new Error("Failed to mark initialized")])})}async function Sy(e){const[,t]=await Ge();return t?[null,Te("importItineraryData",t)]:new Promise(i=>{const o=ze.transaction([ee.TRIP_META,ee.TRIPS,ee.USER_ACTIVITIES,ee.DELETED_ACTIVITIES],"readwrite");o.onerror=()=>i([null,o.error||new Error("Import transaction failed")]),o.oncomplete=()=>{console.log(" Itinerary data imported to IndexedDB"),i([void 0,null])};const s=o.objectStore(ee.TRIP_META),l=_y(e);s.put(l);const d=o.objectStore(ee.TRIPS),f=e.trips||[];for(const w of f){const b=yy(w);d.put(b)}const p=o.objectStore(ee.USER_ACTIVITIES),g=o.objectStore(ee.DELETED_ACTIVITIES),S=vy(f);for(const w of S)p.put({date:w,items:[]}),g.put({date:w,ids:[]})})}async function rm(){const[,e]=await Ge();return e?[null,Te("getTripMeta",e)]:new Promise(t=>{const s=ze.transaction([ee.TRIP_META],"readonly").objectStore(ee.TRIP_META).get("main");s.onsuccess=()=>t([s.result||null,null]),s.onerror=()=>t([null,s.error||new Error("Failed to get trip metadata")])})}async function om(){const[,e]=await Ge();return e?[null,Te("getAllTrips",e)]:new Promise(t=>{const s=ze.transaction([ee.TRIPS],"readonly").objectStore(ee.TRIPS).getAll();s.onsuccess=()=>t([s.result||[],null]),s.onerror=()=>t([null,s.error||new Error("Failed to get trips")])})}async function rl(){const[e,t]=await rm();if(t)return[null,Te("getItineraryData",t)];const[i,o]=await om();return o?[null,Te("getItineraryData",o)]:e?[{tripName:e.tripName,budget:e.budget,travelers:e.travelers,trips:i},null]:[null,null]}async function by(e,t){const[,i]=await Ge();return i?[null,Te("addActivity",i)]:new Promise(o=>{const l=ze.transaction([ee.USER_ACTIVITIES],"readwrite").objectStore(ee.USER_ACTIVITIES),d=l.get(e);d.onsuccess=()=>{const f=d.result||{date:e,items:[]};f.items.push(t);const p=l.put(f);p.onsuccess=()=>o([t,null]),p.onerror=()=>o([null,p.error||new Error("Failed to add activity")])},d.onerror=()=>o([null,d.error||new Error("Failed to get existing activities")])})}async function ky(e,t,i){const[,o]=await Ge();return o?[null,Te("updateActivity",o)]:new Promise(s=>{const d=ze.transaction([ee.USER_ACTIVITIES],"readwrite").objectStore(ee.USER_ACTIVITIES),f=d.get(e);f.onsuccess=()=>{const p=f.result||{date:e,items:[]},g=p.items.findIndex(w=>w.id===t);g!==-1&&(p.items[g]={...p.items[g],...i});const S=d.put(p);S.onsuccess=()=>s([p.items[g],null]),S.onerror=()=>s([null,S.error||new Error("Failed to update activity")])},f.onerror=()=>s([null,f.error||new Error("Failed to get existing activities")])})}async function Py(e,t){const[,i]=await Ge();return i?[null,Te("removeActivity",i)]:new Promise(o=>{const l=ze.transaction([ee.USER_ACTIVITIES],"readwrite").objectStore(ee.USER_ACTIVITIES),d=l.get(e);d.onsuccess=()=>{const f=d.result||{date:e,items:[]};f.items=f.items.filter(g=>g.id!==t);const p=l.put(f);p.onsuccess=()=>o([void 0,null]),p.onerror=()=>o([null,p.error||new Error("Failed to remove activity")])},d.onerror=()=>o([null,d.error||new Error("Failed to get existing activities")])})}async function Ny(e,t){const[,i]=await Ge();return i?[null,Te("markActivityDeleted",i)]:new Promise(o=>{const l=ze.transaction([ee.DELETED_ACTIVITIES],"readwrite").objectStore(ee.DELETED_ACTIVITIES),d=l.get(e);d.onsuccess=()=>{const f=d.result||{date:e,ids:[]};f.ids.includes(t)||f.ids.push(t);const g=l.put(f);g.onsuccess=()=>o([void 0,null]),g.onerror=()=>o([null,g.error||new Error("Failed to mark activity deleted")])},d.onerror=()=>o([null,d.error||new Error("Failed to get deleted records")])})}async function os(){const[,e]=await Ge();return e?[null,Te("getAllManualActivities",e)]:new Promise(t=>{const s=ze.transaction([ee.USER_ACTIVITIES],"readonly").objectStore(ee.USER_ACTIVITIES).getAll();s.onsuccess=()=>{const l=s.result||[],d=im(l,"items");t([d,null])},s.onerror=()=>t([null,s.error||new Error("Failed to get manual activities")])})}async function ss(){const[,e]=await Ge();return e?[null,Te("getAllDeletedActivities",e)]:new Promise(t=>{const s=ze.transaction([ee.DELETED_ACTIVITIES],"readonly").objectStore(ee.DELETED_ACTIVITIES).getAll();s.onsuccess=()=>{const l=s.result||[],d=im(l,"ids");t([d,null])},s.onerror=()=>t([null,s.error||new Error("Failed to get deleted activities")])})}async function Cy(e){const[,t]=await Ge();if(t)return[null,Te("addBoardingPass",t)];const i={...e,id:e.id||`bp-${e.segmentId}-${Date.now()}`,importedAt:Date.now()};return new Promise(o=>{const d=ze.transaction([ee.BOARDING_PASSES],"readwrite").objectStore(ee.BOARDING_PASSES).put(i);d.onsuccess=()=>{console.log(" Boarding pass added:",i.id),o([i,null])},d.onerror=()=>o([null,d.error||new Error("Failed to add boarding pass")])})}async function ol(){const[,e]=await Ge();return e?[null,Te("getAllBoardingPasses",e)]:new Promise(t=>{const s=ze.transaction([ee.BOARDING_PASSES],"readonly").objectStore(ee.BOARDING_PASSES).getAll();s.onsuccess=()=>t([s.result||[],null]),s.onerror=()=>t([null,s.error||new Error("Failed to get all boarding passes")])})}async function Ey(e){const[,t]=await Ge();return t?[null,Te("deleteBoardingPass",t)]:new Promise(i=>{const l=ze.transaction([ee.BOARDING_PASSES],"readwrite").objectStore(ee.BOARDING_PASSES).delete(e);l.onsuccess=()=>{console.log(" Boarding pass deleted:",e),i([void 0,null])},l.onerror=()=>i([null,l.error||new Error("Failed to delete boarding pass")])})}async function sm(){const[,e]=await Ge();if(e)return[null,Te("exportAllUserData",e)];const[t,i]=await os();if(i)return[null,Te("exportAllUserData.manualActivities",i)];const[o,s]=await ss();if(s)return[null,Te("exportAllUserData.deletedActivities",s)];const[l,d]=await rm();if(d)return[null,Te("exportAllUserData.tripMeta",d)];const[f,p]=await om();return p?[null,Te("exportAllUserData.trips",p)]:[{version:iu,exportedAt:new Date().toISOString(),tripMeta:l,trips:f,manualActivities:t,deletedActivities:o},null]}async function am(){const[e,t]=await sm();if(t)return[null,t];const i=JSON.stringify(e,null,2),o=new Blob([i],{type:"application/json"}),s=URL.createObjectURL(o),l=document.createElement("a");return l.href=s,l.download=`travel-itinerary-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s),[void 0,null]}async function As(){const[,e]=await Ge();return e?[null,Te("clearAllData",e)]:new Promise(t=>{const i=[ee.TRIP_META,ee.TRIPS,ee.USER_ACTIVITIES,ee.DELETED_ACTIVITIES,ee.SETTINGS,ee.BOARDING_PASSES],o=ze.transaction(i,"readwrite");o.onerror=()=>t([null,o.error||new Error("Failed to clear data")]),o.oncomplete=()=>{console.log(" All IndexedDB data cleared"),t([void 0,null])};for(const s of i)o.objectStore(s).clear()})}function Ty(){return new Promise(e=>{ze&&(ze.close(),ze=null);const t=indexedDB.deleteDatabase(nm);t.onsuccess=()=>{console.log(" IndexedDB database deleted completely"),e([void 0,null])},t.onerror=()=>{console.error("Failed to delete database:",t.error),e([null,t.error||new Error("Failed to delete database")])},t.onblocked=()=>{console.warn("Database deletion blocked - close other tabs using this app")}})}typeof window<"u"&&(window.__clearTravelDB=As,window.__deleteTravelDB=Ty,window.__exportTravelData=am,window.__exportTravelDataRaw=sm);const zy=365;function Ly(e){if(!(e!=null&&e.trips))return 0;const t=new Set;for(const i of e.trips){const o=i.segments||[];for(const s of o)if(s.date&&(t.add(s.date),s.dateEnd&&s.dateEnd!==s.date)){const l=new Date(s.date),d=new Date(s.dateEnd);if(d>=l){const f=new Date(l);let p=0;for(;f<=d&&p<zy;){const g=f.toISOString().split("T")[0];t.add(g),f.setDate(f.getDate()+1),p++}}}}return t.size}function jy(e){var s,l;const t=((s=e.trips)==null?void 0:s.length)||0,i=((l=e.trips)==null?void 0:l.reduce((d,f)=>{var p;return d+(((p=f.segments)==null?void 0:p.length)||0)},0))||0,o=Ly(e);return{trips:t,segments:i,days:o}}function Ph(e){return e!==null&&e.trips&&e.trips.length>0}function My(e,t,i){const o=e[t]||[];return{...e,[t]:[...o,i]}}function Ay(e,t,i,o){const l=(e[t]||[]).map(d=>d.id===i?{...d,...o}:d);return{...e,[t]:l}}function Oy(e,t,i){const s=(e[t]||[]).filter(l=>l.id!==i);return{...e,[t]:s}}function Iy(e,t,i){const o=e[t]||[];return{...e,[t]:[...o,i]}}function sl(e){const t={};for(const i of e){const o=i.segmentId;t[o]||(t[o]=[]),t[o].push(i)}return t}function Dy(e,t){const i=t.segmentId,o=e[i]||[];return{...e,[i]:[...o,t]}}function Ry(e,t,i){const s=(e[t]||[]).filter(l=>l.id!==i);return{...e,[t]:s}}function Fy(){const[e,t]=E.useState(!0),[i,o]=E.useState(!1),[s,l]=E.useState(!1),[d,f]=E.useState(null),[p,g]=E.useState(null),[S,w]=E.useState({}),[b,P]=E.useState({}),[z,C]=E.useState({});E.useEffect(()=>{async function Z(){t(!0),f(null);const[,R]=await Ge();if(R){console.error(" IndexedDB initialization error:",R),f(R.message),l(!0),t(!1);return}const[J,q]=await xy();if(q){console.error(" Failed to check initialization status:",q),f(q.message),l(!0),t(!1);return}if(!J){console.log(" First launch detected - showing setup wizard"),l(!0),t(!1);return}console.log(" Loading data from IndexedDB...");const[me,fe]=await rl();if(fe){console.error(" Failed to load itinerary data:",fe),f(fe.message),l(!0),t(!1);return}const[te,re]=await os();if(re){console.error(" Failed to load manual activities:",re),f(re.message),l(!0),t(!1);return}const[ae,T]=await ss();if(T){console.error(" Failed to load deleted activities:",T),f(T.message),l(!0),t(!1);return}const[W,A]=await ol();if(A){console.error(" Failed to load boarding passes:",A),f(A.message),l(!0),t(!1);return}if(!Ph(me)){console.warn(" No itinerary data found, showing setup wizard"),l(!0),t(!1);return}g(me),w(te),P(ae),C(sl(W)),o(!0),t(!1),console.log(" Data loaded from IndexedDB")}Z()},[]),E.useCallback(async()=>{const[Z,R]=await rl();if(R)return console.error(" Failed to load data from IndexedDB:",R),f(R.message),l(!0),t(!1),[null,R];const[J,q]=await os();if(q)return console.error(" Failed to load manual activities:",q),f(q.message),l(!0),t(!1),[null,q];const[me,fe]=await ss();if(fe)return console.error(" Failed to load deleted activities:",fe),f(fe.message),l(!0),t(!1),[null,fe];const[te,re]=await ol();return re?(console.error(" Failed to load boarding passes:",re),f(re.message),l(!0),t(!1),[null,re]):Ph(Z)?(g(Z),w(J),P(me),C(sl(te)),o(!0),t(!1),[!0,null]):(console.warn(" No itinerary data found, showing setup wizard"),l(!0),t(!1),[!1,null])},[]);const K=E.useCallback(async Z=>{console.log(" Importing user JSON data to IndexedDB...");const[,R]=await Sy(Z);if(R)return console.error(" Import failed:",R),[null,R];const[,J]=await wy();if(J)return console.error(" Failed to mark initialized:",J),[null,J];console.log(" Data import complete!");const q=jy(Z),[me,fe]=await rl();if(fe)return[null,fe];const[te,re]=await os();if(re)return[null,re];const[ae,T]=await ss();if(T)return[null,T];const[W,A]=await ol();return A?[null,A]:(g(me),w(te),P(ae),C(sl(W)),o(!0),t(!1),l(!1),[q,null])},[]),v=E.useCallback(()=>{l(!1)},[]),_=E.useCallback(async(Z,R)=>{const[,J]=await by(Z,R);return J?(console.error("Failed to add activity:",J),[null,J]):(w(q=>My(q,Z,R)),[R,null])},[]),y=E.useCallback(async(Z,R,J)=>{const[,q]=await ky(Z,R,J);return q?(console.error("Failed to update activity:",q),[null,q]):(w(me=>Ay(me,Z,R,J)),[void 0,null])},[]),j=E.useCallback(async(Z,R)=>{const[,J]=await Py(Z,R);return J?(console.error("Failed to remove activity:",J),[null,J]):(w(q=>Oy(q,Z,R)),[void 0,null])},[]),I=E.useCallback(async(Z,R)=>{const[,J]=await Ny(Z,R);return J?(console.error("Failed to delete activity:",J),[null,J]):(P(q=>Iy(q,Z,R)),[void 0,null])},[]),F=E.useCallback(async()=>{console.log(" Resetting database...");const[,Z]=await As();return Z?(console.error(" Failed to reset database:",Z),[null,Z]):(g(null),w({}),P({}),C({}),o(!1),l(!0),console.log(" Database reset complete"),[void 0,null])},[]),D=E.useCallback(async(Z,R)=>{const J={...R,segmentId:Z},[q,me]=await Cy(J);return me?(console.error("Failed to add boarding pass:",me),[null,me]):(C(fe=>Dy(fe,q)),[q,null])},[]),H=E.useCallback(async(Z,R)=>{const[,J]=await Ey(R);return J?(console.error("Failed to delete boarding pass:",J),[null,J]):(C(q=>Ry(q,Z,R)),[void 0,null])},[]);return{isLoading:e,isReady:i,needsSetup:s,error:d,itineraryData:p,manualActivities:S,deletedActivities:b,boardingPasses:z,addActivity:_,updateActivity:y,removeActivity:j,deleteOriginalActivity:I,importJsonData:K,completeSetup:v,resetDatabase:F,addBoardingPass:D,deleteBoardingPass:H}}const Nh={BOOKED:{label:"Booked",icon:js,cls:"bg-emerald-950/60 text-emerald-200 ring-1 ring-emerald-800/60"},PLANNED:{label:"Planned",icon:js,cls:"bg-sky-950/60 text-sky-200 ring-1 ring-sky-800/60"},PLANNED_WARN:{label:"Planned (check)",icon:rs,cls:"bg-amber-950/60 text-amber-200 ring-1 ring-amber-800/60"},BUFFER:{label:"Buffer",icon:rs,cls:"bg-violet-950/60 text-violet-200 ring-1 ring-violet-800/60"},TO_BOOK:{label:"To book",icon:F_,cls:"bg-rose-950/60 text-rose-200 ring-1 ring-rose-800/60"},WEEKEND_SKI:{label:"Weekend ski",icon:L_,cls:"bg-teal-950/60 text-teal-200 ring-1 ring-teal-800/60"},OPTIONAL:{label:"Optional",icon:rs,cls:"bg-zinc-900/60 text-zinc-200 ring-1 ring-zinc-700/60"},IF_CONDITIONAL:{label:"Conditional",icon:E_,cls:"bg-fuchsia-950/60 text-fuchsia-200 ring-1 ring-fuchsia-800/60"},UNSET:{label:"Unspecified",icon:Xn,cls:"bg-zinc-900/60 text-zinc-300 ring-1 ring-zinc-700/60"}};function ve(...e){return e.filter(Boolean).join(" ")}function By(e){return Nh[e]||Nh.UNSET}function tc({code:e}){const t=By(e),i=t.icon;return c.jsxs("span",{className:ve("inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium",t.cls),title:t.label,children:[c.jsx(i,{className:"h-3.5 w-3.5"}),t.label]})}function lm(e,t){const i=E.useRef(t);E.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const Uy=1;function Zy(e){return Object.freeze({__version:Uy,map:e})}function um(e,t){return Object.freeze({...e,...t})}const cm=E.createContext(null),dm=cm.Provider;function nc(){const e=E.useContext(cm);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function hm(e){function t(i,o){const{instance:s,context:l}=e(i).current;return E.useImperativeHandle(o,()=>s),i.children==null?null:as.createElement(dm,{value:l},i.children)}return E.forwardRef(t)}function Hy(e){function t(i,o){const[s,l]=E.useState(!1),{instance:d}=e(i,l).current;E.useImperativeHandle(o,()=>d),E.useEffect(function(){s&&d.update()},[d,s,i.children]);const f=d._contentNode;return f?$p.createPortal(i.children,f):null}return E.forwardRef(t)}function Wy(e){function t(i,o){const{instance:s}=e(i).current;return E.useImperativeHandle(o,()=>s),null}return E.forwardRef(t)}function ic(e,t){const i=E.useRef();E.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function qs(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function Vy(e,t){return function(o,s){const l=nc(),d=e(qs(o,l),l);return lm(l.map,o.attribution),ic(d.current,o.eventHandlers),t(d.current,l,o,s),d}}var ru={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(H0,function(i){var o="1.9.4";function s(n){var r,a,u,h;for(a=1,u=arguments.length;a<u;a++){h=arguments[a];for(r in h)n[r]=h[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function d(n,r){var a=Array.prototype.slice;if(n.bind)return n.bind.apply(n,a.call(arguments,1));var u=a.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(a.call(arguments)):arguments)}}var f=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function g(n,r,a){var u,h,m,x;return x=function(){u=!1,h&&(m.apply(a,h),h=!1)},m=function(){u?h=arguments:(n.apply(a,arguments),setTimeout(x,r),u=!0)},m}function S(n,r,a){var u=r[1],h=r[0],m=u-h;return n===u&&a?n:((n-h)%m+m)%m+h}function w(){return!1}function b(n,r){if(r===!1)return n;var a=Math.pow(10,r===void 0?6:r);return Math.round(n*a)/a}function P(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function z(n){return P(n).split(/\s+/)}function C(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var a in r)n.options[a]=r[a];return n.options}function K(n,r,a){var u=[];for(var h in n)u.push(encodeURIComponent(a?h.toUpperCase():h)+"="+encodeURIComponent(n[h]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function _(n,r){return n.replace(v,function(a,u){var h=r[u];if(h===void 0)throw new Error("No value provided for variable "+a);return typeof h=="function"&&(h=h(r)),h})}var y=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function j(n,r){for(var a=0;a<n.length;a++)if(n[a]===r)return a;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var D=0;function H(n){var r=+new Date,a=Math.max(0,16-(r-D));return D=r+a,window.setTimeout(n,a)}var Z=window.requestAnimationFrame||F("RequestAnimationFrame")||H,R=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function J(n,r,a){if(a&&Z===H)n.call(r);else return Z.call(window,d(n,r))}function q(n){n&&R.call(window,n)}var me={__proto__:null,extend:s,create:l,bind:d,get lastId(){return f},stamp:p,throttle:g,wrapNum:S,falseFn:w,formatNum:b,trim:P,splitWords:z,setOptions:C,getParamString:K,template:_,isArray:y,indexOf:j,emptyImageUrl:I,requestFn:Z,cancelFn:R,requestAnimFrame:J,cancelAnimFrame:q};function fe(){}fe.extend=function(n){var r=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,u=l(a);u.constructor=r,r.prototype=u;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(r[h]=this[h]);return n.statics&&s(r,n.statics),n.includes&&(te(n.includes),s.apply(null,[u].concat(n.includes))),s(u,n),delete u.statics,delete u.includes,u.options&&(u.options=a.options?l(a.options):{},s(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,x=u._initHooks.length;m<x;m++)u._initHooks[m].call(this)}},r},fe.include=function(n){var r=this.prototype.options;return s(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},fe.mergeOptions=function(n){return s(this.prototype.options,n),this},fe.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),a=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function te(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=y(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=z(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a)}return this},off:function(n,r,a){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=z(n);for(var h=arguments.length===1,m=0,x=n.length;m<x;m++)h?this._off(n[m]):this._off(n[m],r,a)}return this},_on:function(n,r,a,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,a)===!1){a===this&&(a=void 0);var h={fn:r,ctx:a};u&&(h.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(h)}},_off:function(n,r,a){var u,h,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(h=0,m=u.length;h<m;h++)u[h].fn=w;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var x=this._listens(n,r,a);if(x!==!1){var k=u[x];this._firingCount&&(k.fn=w,this._events[n]=u=u.slice()),u.splice(x,1)}}},fire:function(n,r,a){if(!this.listens(n,a))return this;var u=s({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var h=this._events[n];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,x=h.length;m<x;m++){var k=h[m],N=k.fn;k.once&&this.off(n,N,k.ctx),N.call(k.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(n,r,a,u){typeof n!="string"&&console.warn('"string" type argument expected');var h=r;typeof r!="function"&&(u=!!r,h=void 0,a=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,h,a)!==!1)return!0;if(u){for(var x in this._eventParents)if(this._eventParents[x].listens(n,r,a,u))return!0}return!1},_listens:function(n,r,a){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;a===this&&(a=void 0);for(var h=0,m=u.length;h<m;h++)if(u[h].fn===r&&u[h].ctx===a)return h;return!1},once:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=z(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,s({layer:n.target,propagatedFrom:n.target},n),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var ae=fe.extend(re);function T(n,r,a){this.x=a?Math.round(n):n,this.y=a?Math.round(r):r}var W=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};T.prototype={clone:function(){return new T(this.x,this.y)},add:function(n){return this.clone()._add(A(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(A(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new T(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new T(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(n){n=A(n);var r=n.x-this.x,a=n.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(n){return n=A(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=A(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function A(n,r,a){return n instanceof T?n:y(n)?new T(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new T(n.x,n.y):new T(n,r,a)}function $(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}$.prototype={extend:function(n){var r,a;if(!n)return this;if(n instanceof T||typeof n[0]=="number"||"x"in n)r=a=A(n);else if(n=le(n),r=n.min,a=n.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(n){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,a;return typeof n[0]=="number"||n instanceof T?n=A(n):n=le(n),n instanceof $?(r=n.min,a=n.max):r=a=n,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(n){n=le(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>=r.x&&u.x<=a.x,x=h.y>=r.y&&u.y<=a.y;return m&&x},overlaps:function(n){n=le(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>r.x&&u.x<a.x,x=h.y>r.y&&u.y<a.y;return m&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,a=this.max,u=Math.abs(r.x-a.x)*n,h=Math.abs(r.y-a.y)*n;return le(A(r.x-u,r.y-h),A(a.x+u,a.y+h))},equals:function(n){return n?(n=le(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function le(n,r){return!n||n instanceof $?n:new $(n,r)}function B(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}B.prototype={extend:function(n){var r=this._southWest,a=this._northEast,u,h;if(n instanceof G)u=n,h=n;else if(n instanceof B){if(u=n._southWest,h=n._northEast,!u||!h)return this}else return n?this.extend(X(n)||Q(n)):this;return!r&&!a?(this._southWest=new G(u.lat,u.lng),this._northEast=new G(h.lat,h.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),a.lat=Math.max(h.lat,a.lat),a.lng=Math.max(h.lng,a.lng)),this},pad:function(n){var r=this._southWest,a=this._northEast,u=Math.abs(r.lat-a.lat)*n,h=Math.abs(r.lng-a.lng)*n;return new B(new G(r.lat-u,r.lng-h),new G(a.lat+u,a.lng+h))},getCenter:function(){return new G((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new G(this.getNorth(),this.getWest())},getSouthEast:function(){return new G(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof G||"lat"in n?n=X(n):n=Q(n);var r=this._southWest,a=this._northEast,u,h;return n instanceof B?(u=n.getSouthWest(),h=n.getNorthEast()):u=h=n,u.lat>=r.lat&&h.lat<=a.lat&&u.lng>=r.lng&&h.lng<=a.lng},intersects:function(n){n=Q(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>=r.lat&&u.lat<=a.lat,x=h.lng>=r.lng&&u.lng<=a.lng;return m&&x},overlaps:function(n){n=Q(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>r.lat&&u.lat<a.lat,x=h.lng>r.lng&&u.lng<a.lng;return m&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=Q(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(n,r){return n instanceof B?n:new B(n,r)}function G(n,r,a){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,a!==void 0&&(this.alt=+a)}G.prototype={equals:function(n,r){if(!n)return!1;n=X(n);var a=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return a<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+b(this.lat,n)+", "+b(this.lng,n)+")"},distanceTo:function(n){return Rt.distance(this,X(n))},wrap:function(){return Rt.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,a=r/Math.cos(Math.PI/180*this.lat);return Q([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new G(this.lat,this.lng,this.alt)}};function X(n,r,a){return n instanceof G?n:y(n)&&typeof n[0]!="object"?n.length===3?new G(n[0],n[1],n[2]):n.length===2?new G(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new G(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new G(n,r,a)}var be={latLngToPoint:function(n,r){var a=this.projection.project(n),u=this.scale(r);return this.transformation._transform(a,u)},pointToLatLng:function(n,r){var a=this.scale(r),u=this.transformation.untransform(n,a);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(n),u=this.transformation.transform(r.min,a),h=this.transformation.transform(r.max,a);return new $(u,h)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?S(n.lng,this.wrapLng,!0):n.lng,a=this.wrapLat?S(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new G(a,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),a=this.wrapLatLng(r),u=r.lat-a.lat,h=r.lng-a.lng;if(u===0&&h===0)return n;var m=n.getSouthWest(),x=n.getNorthEast(),k=new G(m.lat-u,m.lng-h),N=new G(x.lat-u,x.lng-h);return new B(k,N)}},Rt=s({},be,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var a=Math.PI/180,u=n.lat*a,h=r.lat*a,m=Math.sin((r.lat-n.lat)*a/2),x=Math.sin((r.lng-n.lng)*a/2),k=m*m+Math.cos(u)*Math.cos(h)*x*x,N=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*N}}),ro=6378137,De={R:ro,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,n.lat),-a),h=Math.sin(u*r);return new T(this.R*n.lng*r,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(n){var r=180/Math.PI;return new G((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=ro*Math.PI;return new $([-n,-n],[n,n])}()};function cn(n,r,a,u){if(y(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=a,this._d=u}cn.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new T((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function it(n,r,a,u){return new cn(n,r,a,u)}var Ft=s({},Rt,{code:"EPSG:3857",projection:De,transformation:function(){var n=.5/(Math.PI*De.R);return it(n,.5,-n,.5)}()}),oo=s({},Ft,{code:"EPSG:900913"});function Yi(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Me(n,r){var a="",u,h,m,x,k,N;for(u=0,m=n.length;u<m;u++){for(k=n[u],h=0,x=k.length;h<x;h++)N=k[h],a+=(h?"L":"M")+N.x+" "+N.y;a+=r?Y.svg?"z":"x":""}return a||"M0 0"}var ct=document.documentElement.style,_t="ActiveXObject"in window,qi=_t&&!document.addEventListener,rc="msLaunchUri"in navigator&&!("documentMode"in document),na=Bt("webkit"),oc=Bt("android"),sc=Bt("android 2")||Bt("android 3"),wm=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Sm=oc&&Bt("Google")&&wm<537&&!("AudioNode"in window),ia=!!window.opera,ac=!rc&&Bt("chrome"),lc=Bt("gecko")&&!na&&!ia&&!_t,bm=!ac&&Bt("safari"),uc=Bt("phantom"),cc="OTransition"in ct,km=navigator.platform.indexOf("Win")===0,dc=_t&&"transition"in ct,ra="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!sc,hc="MozPerspective"in ct,Pm=!window.L_DISABLE_3D&&(dc||ra||hc)&&!cc&&!uc,Qi=typeof orientation<"u"||Bt("mobile"),Nm=Qi&&na,Cm=Qi&&ra,fc=!window.PointerEvent&&window.MSPointerEvent,pc=!!(window.PointerEvent||fc),mc="ontouchstart"in window||!!window.TouchEvent,Em=!window.L_NO_TOUCH&&(mc||pc),Tm=Qi&&ia,zm=Qi&&lc,Lm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,jm=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",w,r),window.removeEventListener("testPassiveEventSupport",w,r)}catch{}return n}(),Mm=function(){return!!document.createElement("canvas").getContext}(),oa=!!(document.createElementNS&&Yi("svg").createSVGRect),Am=!!oa&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Om=!oa&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Im=navigator.platform.indexOf("Mac")===0,Dm=navigator.platform.indexOf("Linux")===0;function Bt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Y={ie:_t,ielt9:qi,edge:rc,webkit:na,android:oc,android23:sc,androidStock:Sm,opera:ia,chrome:ac,gecko:lc,safari:bm,phantom:uc,opera12:cc,win:km,ie3d:dc,webkit3d:ra,gecko3d:hc,any3d:Pm,mobile:Qi,mobileWebkit:Nm,mobileWebkit3d:Cm,msPointer:fc,pointer:pc,touch:Em,touchNative:mc,mobileOpera:Tm,mobileGecko:zm,retina:Lm,passiveEvents:jm,canvas:Mm,svg:oa,vml:Om,inlineSvg:Am,mac:Im,linux:Dm},gc=Y.msPointer?"MSPointerDown":"pointerdown",vc=Y.msPointer?"MSPointerMove":"pointermove",_c=Y.msPointer?"MSPointerUp":"pointerup",yc=Y.msPointer?"MSPointerCancel":"pointercancel",sa={touchstart:gc,touchmove:vc,touchend:_c,touchcancel:yc},xc={touchstart:Hm,touchmove:so,touchend:so,touchcancel:so},ri={},wc=!1;function Rm(n,r,a){return r==="touchstart"&&Zm(),xc[r]?(a=xc[r].bind(this,a),n.addEventListener(sa[r],a,!1),a):(console.warn("wrong event specified:",r),w)}function Fm(n,r,a){if(!sa[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(sa[r],a,!1)}function Bm(n){ri[n.pointerId]=n}function Um(n){ri[n.pointerId]&&(ri[n.pointerId]=n)}function Sc(n){delete ri[n.pointerId]}function Zm(){wc||(document.addEventListener(gc,Bm,!0),document.addEventListener(vc,Um,!0),document.addEventListener(_c,Sc,!0),document.addEventListener(yc,Sc,!0),wc=!0)}function so(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in ri)r.touches.push(ri[a]);r.changedTouches=[r],n(r)}}function Hm(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&He(r),so(n,r)}function Wm(n){var r={},a,u;for(u in n)a=n[u],r[u]=a&&a.bind?a.bind(n):a;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Vm=200;function Km(n,r){n.addEventListener("dblclick",r);var a=0,u;function h(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var x=Cc(m);if(!(x.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!x.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var k=Date.now();k-a<=Vm?(u++,u===2&&r(Wm(m))):u=1,a=k}}}return n.addEventListener("click",h),{dblclick:r,simDblclick:h}}function Gm(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var aa=uo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xi=uo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bc=Xi==="webkitTransition"||Xi==="OTransition"?Xi+"End":"transitionend";function kc(n){return typeof n=="string"?document.getElementById(n):n}function er(n,r){var a=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);a=u?u[r]:null}return a==="auto"?null:a}function pe(n,r,a){var u=document.createElement(n);return u.className=r||"",a&&a.appendChild(u),u}function ke(n){var r=n.parentNode;r&&r.removeChild(n)}function ao(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function oi(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function si(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function la(n,r){if(n.classList!==void 0)return n.classList.contains(r);var a=lo(n);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function se(n,r){if(n.classList!==void 0)for(var a=z(r),u=0,h=a.length;u<h;u++)n.classList.add(a[u]);else if(!la(n,r)){var m=lo(n);ua(n,(m?m+" ":"")+r)}}function Le(n,r){n.classList!==void 0?n.classList.remove(r):ua(n,P((" "+lo(n)+" ").replace(" "+r+" "," ")))}function ua(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function lo(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function yt(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&Jm(n,r)}function Jm(n,r){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function uo(n){for(var r=document.documentElement.style,a=0;a<n.length;a++)if(n[a]in r)return n[a];return!1}function In(n,r,a){var u=r||new T(0,0);n.style[aa]=(Y.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function Ae(n,r){n._leaflet_pos=r,Y.any3d?In(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Dn(n){return n._leaflet_pos||new T(0,0)}var tr,nr,ca;if("onselectstart"in document)tr=function(){oe(window,"selectstart",He)},nr=function(){_e(window,"selectstart",He)};else{var ir=uo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);tr=function(){if(ir){var n=document.documentElement.style;ca=n[ir],n[ir]="none"}},nr=function(){ir&&(document.documentElement.style[ir]=ca,ca=void 0)}}function da(){oe(window,"dragstart",He)}function ha(){_e(window,"dragstart",He)}var co,fa;function pa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(ho(),co=n,fa=n.style.outlineStyle,n.style.outlineStyle="none",oe(window,"keydown",ho))}function ho(){co&&(co.style.outlineStyle=fa,co=void 0,fa=void 0,_e(window,"keydown",ho))}function Pc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ma(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var $m={__proto__:null,TRANSFORM:aa,TRANSITION:Xi,TRANSITION_END:bc,get:kc,getStyle:er,create:pe,remove:ke,empty:ao,toFront:oi,toBack:si,hasClass:la,addClass:se,removeClass:Le,setClass:ua,getClass:lo,setOpacity:yt,testProp:uo,setTransform:In,setPosition:Ae,getPosition:Dn,get disableTextSelection(){return tr},get enableTextSelection(){return nr},disableImageDrag:da,enableImageDrag:ha,preventOutline:pa,restoreOutline:ho,getSizedParentNode:Pc,getScale:ma};function oe(n,r,a,u){if(r&&typeof r=="object")for(var h in r)va(n,h,r[h],a);else{r=z(r);for(var m=0,x=r.length;m<x;m++)va(n,r[m],a,u)}return this}var Ut="_leaflet_events";function _e(n,r,a,u){if(arguments.length===1)Nc(n),delete n[Ut];else if(r&&typeof r=="object")for(var h in r)_a(n,h,r[h],a);else if(r=z(r),arguments.length===2)Nc(n,function(k){return j(r,k)!==-1});else for(var m=0,x=r.length;m<x;m++)_a(n,r[m],a,u);return this}function Nc(n,r){for(var a in n[Ut]){var u=a.split(/\d/)[0];(!r||r(u))&&_a(n,u,null,null,a)}}var ga={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function va(n,r,a,u){var h=r+p(a)+(u?"_"+p(u):"");if(n[Ut]&&n[Ut][h])return this;var m=function(k){return a.call(u||n,k||window.event)},x=m;!Y.touchNative&&Y.pointer&&r.indexOf("touch")===0?m=Rm(n,r,m):Y.touch&&r==="dblclick"?m=Km(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(ga[r]||r,m,Y.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(k){k=k||window.event,xa(n,k)&&x(k)},n.addEventListener(ga[r],m,!1)):n.addEventListener(r,x,!1):n.attachEvent("on"+r,m),n[Ut]=n[Ut]||{},n[Ut][h]=m}function _a(n,r,a,u,h){h=h||r+p(a)+(u?"_"+p(u):"");var m=n[Ut]&&n[Ut][h];if(!m)return this;!Y.touchNative&&Y.pointer&&r.indexOf("touch")===0?Fm(n,r,m):Y.touch&&r==="dblclick"?Gm(n,m):"removeEventListener"in n?n.removeEventListener(ga[r]||r,m,!1):n.detachEvent("on"+r,m),n[Ut][h]=null}function Rn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function ya(n){return va(n,"wheel",Rn),this}function rr(n){return oe(n,"mousedown touchstart dblclick contextmenu",Rn),n._leaflet_disable_click=!0,this}function He(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Fn(n){return He(n),Rn(n),this}function Cc(n){if(n.composedPath)return n.composedPath();for(var r=[],a=n.target;a;)r.push(a),a=a.parentNode;return r}function Ec(n,r){if(!r)return new T(n.clientX,n.clientY);var a=ma(r),u=a.boundingClientRect;return new T((n.clientX-u.left)/a.x-r.clientLeft,(n.clientY-u.top)/a.y-r.clientTop)}var Ym=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tc(n){return Y.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Ym:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function xa(n,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==n;)a=a.parentNode}catch{return!1}return a!==n}var qm={__proto__:null,on:oe,off:_e,stopPropagation:Rn,disableScrollPropagation:ya,disableClickPropagation:rr,preventDefault:He,stop:Fn,getPropagationPath:Cc,getMousePosition:Ec,getWheelDelta:Tc,isExternalTarget:xa,addListener:oe,removeListener:_e},zc=ae.extend({run:function(n,r,a,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Dn(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var a=this._startPos.add(this._offset.multiplyBy(n));r&&a._round(),Ae(this._el,a),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),de=ae.extend({options:{crs:Ft,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=C(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(X(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xi&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),oe(this._proxy,bc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(X(n),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=s({animate:a.animate},a.zoom),a.pan=s({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,a.zoom):this._tryAnimatedPan(n,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,a){var u=this.getZoomScale(r),h=this.getSize().divideBy(2),m=n instanceof T?n:this.latLngToContainerPoint(n),x=m.subtract(h).multiplyBy(1-1/u),k=this.containerPointToLatLng(h.add(x));return this.setView(k,r,{zoom:a})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():Q(n);var a=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),h=this.getBoundsZoom(n,!1,a.add(u));if(h=typeof r.maxZoom=="number"?Math.min(r.maxZoom,h):h,h===1/0)return{center:n.getCenter(),zoom:h};var m=u.subtract(a).divideBy(2),x=this.project(n.getSouthWest(),h),k=this.project(n.getNorthEast(),h),N=this.unproject(x.add(k).divideBy(2).add(m),h);return{center:N,zoom:h}},fitBounds:function(n,r){if(n=Q(n),!n.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(n,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=A(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){se(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,a){if(a=a||{},a.animate===!1||!Y.any3d)return this.setView(n,r,a);this._stop();var u=this.project(this.getCenter()),h=this.project(n),m=this.getSize(),x=this._zoom;n=X(n),r=r===void 0?x:r;var k=Math.max(m.x,m.y),N=k*this.getZoomScale(x,r),M=h.distanceTo(u)||1,U=1.42,ne=U*U;function ue(Oe){var ko=Oe?-1:1,F0=Oe?N:k,B0=N*N-k*k+ko*ne*ne*M*M,U0=2*F0*ne*M,La=B0/U0,cd=Math.sqrt(La*La+1)-La,Z0=cd<1e-9?-18:Math.log(cd);return Z0}function Qe(Oe){return(Math.exp(Oe)-Math.exp(-Oe))/2}function Be(Oe){return(Math.exp(Oe)+Math.exp(-Oe))/2}function wt(Oe){return Qe(Oe)/Be(Oe)}var rt=ue(0);function hi(Oe){return k*(Be(rt)/Be(rt+U*Oe))}function O0(Oe){return k*(Be(rt)*wt(rt+U*Oe)-Qe(rt))/ne}function I0(Oe){return 1-Math.pow(1-Oe,1.5)}var D0=Date.now(),ld=(ue(1)-rt)/U,R0=a.duration?1e3*a.duration:1e3*ld*.8;function ud(){var Oe=(Date.now()-D0)/R0,ko=I0(Oe)*ld;Oe<=1?(this._flyToFrame=J(ud,this),this._move(this.unproject(u.add(h.subtract(u).multiplyBy(O0(ko)/M)),x),this.getScaleZoom(k/hi(ko),x),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),ud.call(this),this},flyToBounds:function(n,r){var a=this._getBoundsCenterZoom(n,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(n){return n=Q(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,Q(n));return a.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var a=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(n),x=this.getPixelBounds(),k=le([x.min.add(a),x.max.subtract(u)]),N=k.getSize();if(!k.contains(m)){this._enforcingBounds=!0;var M=m.subtract(k.getCenter()),U=k.extend(m).getSize().subtract(N);h.x+=M.x<0?-U.x:U.x,h.y+=M.y<0?-U.y:U.y,this.panTo(this.unproject(h),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=s({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=r.divideBy(2).round(),h=a.divideBy(2).round(),m=u.subtract(h);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=d(this._handleGeolocationResponse,this),a=d(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,n):navigator.geolocation.getCurrentPosition(r,a,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,a=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,a=n.coords.longitude,u=new G(r,a),h=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var x=this.getBoundsZoom(h);this.setView(u,m.maxZoom?Math.min(x,m.maxZoom):x)}var k={latlng:u,bounds:h,timestamp:n.timestamp};for(var N in n.coords)typeof n.coords[N]=="number"&&(k[N]=n.coords[N]);this.fire("locationfound",k)}},addHandler:function(n,r){if(!r)return this;var a=this[n]=new r(this);return this._handlers.push(a),this.options[n]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ke(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var a="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=pe("div",a,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),a=this.unproject(n.getTopRight());return new B(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,a){n=Q(n),a=A(a||[0,0]);var u=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),x=n.getNorthWest(),k=n.getSouthEast(),N=this.getSize().subtract(a),M=le(this.project(k,u),this.project(x,u)).getSize(),U=Y.any3d?this.options.zoomSnap:1,ne=N.x/M.x,ue=N.y/M.y,Qe=r?Math.max(ne,ue):Math.min(ne,ue);return u=this.getScaleZoom(Qe,u),U&&(u=Math.round(u/(U/100))*(U/100),u=r?Math.ceil(u/U)*U:Math.floor(u/U)*U),Math.max(h,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new T(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var a=this._getTopLeftPoint(n,r);return new $(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(n)/a.scale(r)},getScaleZoom:function(n,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var u=a.zoom(n*a.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(X(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(A(n),r)},layerPointToLatLng:function(n){var r=A(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(X(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(X(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(Q(n))},distance:function(n,r){return this.options.crs.distance(X(n),X(r))},containerPointToLayerPoint:function(n){return A(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return A(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(A(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(n)))},mouseEventToContainerPoint:function(n){return Ec(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=kc(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");oe(r,"scroll",this._onScroll,this),this._containerId=p(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,se(n,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=er(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ae(this._mapPane,new T(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(se(n.markerPane,"leaflet-zoom-hide"),se(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,a){Ae(this._mapPane,new T(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var h=this._zoom!==r;this._moveStart(h,a)._move(n,r)._moveEnd(h),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,a,u){r===void 0&&(r=this._zoom);var h=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?a&&a.pinch&&this.fire("zoom",a):((h||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ae(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var r=n?_e:oe;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var a=[],u,h=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,x=!1;m;){if(u=this._targets[p(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){x=!0;break}if(u&&u.listens(r,!0)&&(h&&!xa(m,n)||(a.push(u),h))||m===this._container)break;m=m.parentNode}return!a.length&&!x&&!h&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var a=n.type;a==="mousedown"&&pa(r),this._fireDOMEvent(n,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,a){if(n.type==="click"){var u=s({},n);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var h=this._findEventTargets(n,r);if(a){for(var m=[],x=0;x<a.length;x++)a[x].listens(r,!0)&&m.push(a[x]);h=m.concat(h)}if(h.length){r==="contextmenu"&&He(n);var k=h[0],N={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var M=k.getLatLng&&(!k._radius||k._radius<=10);N.containerPoint=M?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(n),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=M?k.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(x=0;x<h.length;x++)if(h[x].fire(r,N,!0),N.originalEvent._stopped||h[x].options.bubblingMouseEvents===!1&&j(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Dn(this._mapPane)||new T(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var a=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var a=this.getSize()._divideBy(2);return this.project(n,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return le([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,a){if(!a)return n;var u=this.project(n,r),h=this.getSize().divideBy(2),m=new $(u.subtract(h),u.add(h)),x=this._getBoundsOffset(m,a,r);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?n:this.unproject(u.add(x),r)},_limitOffset:function(n,r){if(!r)return n;var a=this.getPixelBounds(),u=new $(a.min.add(n),a.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,a){var u=le(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),h=u.min.subtract(n.min),m=u.max.subtract(n.max),x=this._rebound(h.x,-m.x),k=this._rebound(h.y,-m.y);return new T(x,k)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),a=this.getMaxZoom(),u=Y.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(a,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var a=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var n=this._proxy=pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var a=aa,u=this._proxy.style[a];In(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();In(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),h=this._getCenterOffset(n)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(h)?!1:(J(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qm(n,r){return new de(n,r)}var Et=fe.extend({options:{position:"topright"},initialize:function(n){C(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),a=this.getPosition(),u=n._controlCorners[a];return se(r,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),or=function(n){return new Et(n)};de.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",a=this._controlContainer=pe("div",r+"control-container",this._container);function u(h,m){var x=r+h+" "+r+m;n[h+m]=pe("div",x,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ke(this._controlCorners[n]);ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Lc=Et.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,a,u){return a<u?-1:u<a?1:0}},initialize:function(n,r,a){C(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Et.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(p(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=pe("div",n),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),rr(r),ya(r);var u=this._section=pe("section",n+"-list");a&&(this._map.on("click",this.collapse,this),oe(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=pe("a",n+"-toggle",r);h.href="#",h.title="Layers",h.setAttribute("role","button"),oe(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){He(m),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=pe("div",n+"-base",u),this._separator=pe("div",n+"-separator",u),this._overlaysList=pe("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&p(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,a){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(d(function(u,h){return this.options.sortFunction(u.layer,h.layer,u.name,h.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ao(this._baseLayersList),ao(this._overlaysList),this._layerControlInputs=[];var n,r,a,u,h=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,h+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&h>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(p(n.target)),a=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(n,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(n){var r=document.createElement("label"),a=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+p(this),a),this._layerControlInputs.push(u),u.layerId=p(n.layer),oe(u,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(h);var x=n.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,a,u=[],h=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],a=this._getLayer(r.layerId).layer,r.checked?u.push(a):r.checked||h.push(a);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,a,u=this._map.getZoom(),h=n.length-1;h>=0;h--)r=n[h],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,oe(n,"click",He),this.expand();var r=this;setTimeout(function(){_e(n,"click",He),r._preventClick=!1})}}),Xm=function(n,r,a){return new Lc(n,r,a)},wa=Et.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",a=pe("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,a,u,h){var m=pe("a",a,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),rr(m),oe(m,"click",Fn),oe(m,"click",h,this),oe(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";Le(this._zoomInButton,r),Le(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(se(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(se(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});de.mergeOptions({zoomControl:!0}),de.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new wa,this.addControl(this.zoomControl))});var e0=function(n){return new wa(n)},jc=Et.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",a=pe("div",r),u=this.options;return this._addScales(u,r+"-line",a),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),a},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,a){n.metric&&(this._mScale=pe("div",r,a)),n.imperial&&(this._iScale=pe("div",r,a))},_update:function(){var n=this._map,r=n.getSize().y/2,a=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/n)},_updateImperial:function(n){var r=n*3.2808399,a,u,h;r>5280?(a=r/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(h=this._getRoundNum(r),this._updateScale(this._iScale,h+" ft",h/r))},_updateScale:function(n,r,a){n.style.width=Math.round(this.options.maxWidth*a)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),a=n/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),t0=function(n){return new jc(n)},n0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Sa=Et.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?n0+" ":"")+"Leaflet</a>"},initialize:function(n){C(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=pe("div","leaflet-control-attribution"),rr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),n.length&&a.push(n.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});de.mergeOptions({attributionControl:!0}),de.addInitHook(function(){this.options.attributionControl&&new Sa().addTo(this)});var i0=function(n){return new Sa(n)};Et.Layers=Lc,Et.Zoom=wa,Et.Scale=jc,Et.Attribution=Sa,or.layers=Xm,or.zoom=e0,or.scale=t0,or.attribution=i0;var Zt=fe.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zt.addTo=function(n,r){return n.addHandler(r,this),this};var r0={Events:re},Mc=Y.touch?"touchstart mousedown":"mousedown",dn=ae.extend({options:{clickTolerance:3},initialize:function(n,r,a,u){C(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=a},enable:function(){this._enabled||(oe(this._dragStartTarget,Mc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(dn._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,Mc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!la(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){dn._dragging===this&&this.finishDrag();return}if(!(dn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(dn._dragging=this,this._preventOutline&&pa(this._element),da(),tr(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,a=Pc(this._element);this._startPoint=new T(r.clientX,r.clientY),this._startPos=Dn(this._element),this._parentScale=ma(a);var u=n.type==="mousedown";oe(document,u?"mousemove":"touchmove",this._onMove,this),oe(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,a=new T(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,He(n),this._moved||(this.fire("dragstart"),this._moved=!0,se(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ae(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),ha(),nr();var r=this._moved&&this._moving;this._moving=!1,dn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Ac(n,r,a){var u,h=[1,4,2,8],m,x,k,N,M,U,ne,ue;for(m=0,U=n.length;m<U;m++)n[m]._code=Bn(n[m],r);for(k=0;k<4;k++){for(ne=h[k],u=[],m=0,U=n.length,x=U-1;m<U;x=m++)N=n[m],M=n[x],N._code&ne?M._code&ne||(ue=fo(M,N,ne,r,a),ue._code=Bn(ue,r),u.push(ue)):(M._code&ne&&(ue=fo(M,N,ne,r,a),ue._code=Bn(ue,r),u.push(ue)),u.push(N));n=u}return n}function Oc(n,r){var a,u,h,m,x,k,N,M,U;if(!n||n.length===0)throw new Error("latlngs not passed");xt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ne=X([0,0]),ue=Q(n),Qe=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());Qe<1700&&(ne=ba(n));var Be=n.length,wt=[];for(a=0;a<Be;a++){var rt=X(n[a]);wt.push(r.project(X([rt.lat-ne.lat,rt.lng-ne.lng])))}for(k=N=M=0,a=0,u=Be-1;a<Be;u=a++)h=wt[a],m=wt[u],x=h.y*m.x-m.y*h.x,N+=(h.x+m.x)*x,M+=(h.y+m.y)*x,k+=x*3;k===0?U=wt[0]:U=[N/k,M/k];var hi=r.unproject(A(U));return X([hi.lat+ne.lat,hi.lng+ne.lng])}function ba(n){for(var r=0,a=0,u=0,h=0;h<n.length;h++){var m=X(n[h]);r+=m.lat,a+=m.lng,u++}return X([r/u,a/u])}var o0={__proto__:null,clipPolygon:Ac,polygonCenter:Oc,centroid:ba};function Ic(n,r){if(!r||!n.length)return n.slice();var a=r*r;return n=l0(n,a),n=a0(n,a),n}function Dc(n,r,a){return Math.sqrt(sr(n,r,a,!0))}function s0(n,r,a){return sr(n,r,a)}function a0(n,r){var a=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,h=new u(a);h[0]=h[a-1]=1,ka(n,h,r,0,a-1);var m,x=[];for(m=0;m<a;m++)h[m]&&x.push(n[m]);return x}function ka(n,r,a,u,h){var m=0,x,k,N;for(k=u+1;k<=h-1;k++)N=sr(n[k],n[u],n[h],!0),N>m&&(x=k,m=N);m>a&&(r[x]=1,ka(n,r,a,u,x),ka(n,r,a,x,h))}function l0(n,r){for(var a=[n[0]],u=1,h=0,m=n.length;u<m;u++)u0(n[u],n[h])>r&&(a.push(n[u]),h=u);return h<m-1&&a.push(n[m-1]),a}var Rc;function Fc(n,r,a,u,h){var m=u?Rc:Bn(n,a),x=Bn(r,a),k,N,M;for(Rc=x;;){if(!(m|x))return[n,r];if(m&x)return!1;k=m||x,N=fo(n,r,k,a,h),M=Bn(N,a),k===m?(n=N,m=M):(r=N,x=M)}}function fo(n,r,a,u,h){var m=r.x-n.x,x=r.y-n.y,k=u.min,N=u.max,M,U;return a&8?(M=n.x+m*(N.y-n.y)/x,U=N.y):a&4?(M=n.x+m*(k.y-n.y)/x,U=k.y):a&2?(M=N.x,U=n.y+x*(N.x-n.x)/m):a&1&&(M=k.x,U=n.y+x*(k.x-n.x)/m),new T(M,U,h)}function Bn(n,r){var a=0;return n.x<r.min.x?a|=1:n.x>r.max.x&&(a|=2),n.y<r.min.y?a|=4:n.y>r.max.y&&(a|=8),a}function u0(n,r){var a=r.x-n.x,u=r.y-n.y;return a*a+u*u}function sr(n,r,a,u){var h=r.x,m=r.y,x=a.x-h,k=a.y-m,N=x*x+k*k,M;return N>0&&(M=((n.x-h)*x+(n.y-m)*k)/N,M>1?(h=a.x,m=a.y):M>0&&(h+=x*M,m+=k*M)),x=n.x-h,k=n.y-m,u?x*x+k*k:new T(h,m)}function xt(n){return!y(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Bc(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xt(n)}function Uc(n,r){var a,u,h,m,x,k,N,M;if(!n||n.length===0)throw new Error("latlngs not passed");xt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var U=X([0,0]),ne=Q(n),ue=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());ue<1700&&(U=ba(n));var Qe=n.length,Be=[];for(a=0;a<Qe;a++){var wt=X(n[a]);Be.push(r.project(X([wt.lat-U.lat,wt.lng-U.lng])))}for(a=0,u=0;a<Qe-1;a++)u+=Be[a].distanceTo(Be[a+1])/2;if(u===0)M=Be[0];else for(a=0,m=0;a<Qe-1;a++)if(x=Be[a],k=Be[a+1],h=x.distanceTo(k),m+=h,m>u){N=(m-u)/h,M=[k.x-N*(k.x-x.x),k.y-N*(k.y-x.y)];break}var rt=r.unproject(A(M));return X([rt.lat+U.lat,rt.lng+U.lng])}var c0={__proto__:null,simplify:Ic,pointToSegmentDistance:Dc,closestPointOnSegment:s0,clipSegment:Fc,_getEdgeIntersection:fo,_getBitCode:Bn,_sqClosestPointOnSegment:sr,isFlat:xt,_flat:Bc,polylineCenter:Uc},Pa={project:function(n){return new T(n.lng,n.lat)},unproject:function(n){return new G(n.y,n.x)},bounds:new $([-180,-90],[180,90])},Na={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,a=this.R,u=n.lat*r,h=this.R_MINOR/a,m=Math.sqrt(1-h*h),x=m*Math.sin(u),k=Math.tan(Math.PI/4-u/2)/Math.pow((1-x)/(1+x),m/2);return u=-a*Math.log(Math.max(k,1e-10)),new T(n.lng*r*a,u)},unproject:function(n){for(var r=180/Math.PI,a=this.R,u=this.R_MINOR/a,h=Math.sqrt(1-u*u),m=Math.exp(-n.y/a),x=Math.PI/2-2*Math.atan(m),k=0,N=.1,M;k<15&&Math.abs(N)>1e-7;k++)M=h*Math.sin(x),M=Math.pow((1-M)/(1+M),h/2),N=Math.PI/2-2*Math.atan(m*M)-x,x+=N;return new G(x*r,n.x*r/a)}},d0={__proto__:null,LonLat:Pa,Mercator:Na,SphericalMercator:De},h0=s({},Rt,{code:"EPSG:3395",projection:Na,transformation:function(){var n=.5/(Math.PI*Na.R);return it(n,.5,-n,.5)}()}),Zc=s({},Rt,{code:"EPSG:4326",projection:Pa,transformation:it(1/180,1,-1/180,.5)}),f0=s({},be,{projection:Pa,transformation:it(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var a=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(a*a+u*u)},infinite:!0});be.Earth=Rt,be.EPSG3395=h0,be.EPSG3857=Ft,be.EPSG900913=oo,be.EPSG4326=Zc,be.Simple=f0;var Tt=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});de.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=p(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=p(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},_addLayers:function(n){n=n?y(n)?n:[n]:[];for(var r=0,a=n.length;r<a;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=p(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var h=this._zoomBoundLayers[u].options;n=h.minZoom===void 0?n:Math.min(n,h.minZoom),r=h.maxZoom===void 0?r:Math.max(r,h.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ai=Tt.extend({initialize:function(n,r){C(this,r),this._layers={};var a,u;if(n)for(a=0,u=n.length;a<u;a++)this.addLayer(n[a])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),p0=function(n,r){return new ai(n,r)},$t=ai.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ai.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ai.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new B;for(var r in this._layers){var a=this._layers[r];n.extend(a.getBounds?a.getBounds():a.getLatLng())}return n}}),m0=function(n,r){return new $t(n,r)},li=fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){C(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var a=this._getIconUrl(n);if(!a){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var a=this.options,u=a[r+"Size"];typeof u=="number"&&(u=[u,u]);var h=A(u),m=A(r==="shadow"&&a.shadowAnchor||a.iconAnchor||h&&h.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(a.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),h&&(n.style.width=h.x+"px",n.style.height=h.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return Y.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function g0(n){return new li(n)}var ar=li.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ar.imagePath!="string"&&(ar.imagePath=this._detectIconPath()),(this.options.imagePath||ar.imagePath)+li.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(a,u,h){var m=u.exec(a);return m&&m[h]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=pe("div","leaflet-default-icon-path",document.body),r=er(n,"background-image")||er(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Hc=Zt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new dn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),se(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,a=r._map,u=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=Dn(r._icon),x=a.getPixelBounds(),k=a.getPixelOrigin(),N=le(x.min._subtract(k).add(h),x.max._subtract(k).subtract(h));if(!N.contains(m)){var M=A((Math.max(N.max.x,m.x)-N.max.x)/(x.max.x-N.max.x)-(Math.min(N.min.x,m.x)-N.min.x)/(x.min.x-N.min.x),(Math.max(N.max.y,m.y)-N.max.y)/(x.max.y-N.max.y)-(Math.min(N.min.y,m.y)-N.min.y)/(x.min.y-N.min.y)).multiplyBy(u);a.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),Ae(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=J(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,a=r._shadow,u=Dn(r._icon),h=r._map.layerPointToLatLng(u);a&&Ae(a,u),r._latlng=h,n.latlng=h,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),po=Tt.extend({options:{icon:new ar,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){C(this,r),this._latlng=X(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=X(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=n.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(a.title=n.title),a.tagName==="IMG"&&(a.alt=n.alt||"")),se(a,r),n.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&oe(a,"focus",this._panOnFocus,this);var h=n.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(se(h,r),h.alt=""),this._shadow=h,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ke(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ae(this._icon,n),this._shadow&&Ae(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&yt(this._icon,n),this._shadow&&yt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,a=r.iconSize?A(r.iconSize):A(0,0),u=r.iconAnchor?A(r.iconAnchor):A(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function v0(n,r){return new po(n,r)}var hn=Tt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return C(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mo=hn.extend({options:{fill:!0,radius:10},initialize:function(n,r){C(this,r),this._latlng=X(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=X(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return hn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,a=this._clickTolerance(),u=[n+a,r+a];this._pxBounds=new $(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _0(n,r){return new mo(n,r)}var Ca=mo.extend({initialize:function(n,r,a){if(typeof r=="number"&&(r=s({},a,{radius:r})),C(this,r),this._latlng=X(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:hn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===Rt.distance){var h=Math.PI/180,m=this._mRadius/Rt.R/h,x=a.project([r+m,n]),k=a.project([r-m,n]),N=x.add(k).divideBy(2),M=a.unproject(N).lat,U=Math.acos((Math.cos(m*h)-Math.sin(r*h)*Math.sin(M*h))/(Math.cos(r*h)*Math.cos(M*h)))/h;(isNaN(U)||U===0)&&(U=m/Math.cos(Math.PI/180*r)),this._point=N.subtract(a.getPixelOrigin()),this._radius=isNaN(U)?0:N.x-a.project([M,n-U]).x,this._radiusY=N.y-x.y}else{var ne=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(ne).x}this._updateBounds()}});function y0(n,r,a){return new Ca(n,r,a)}var Yt=hn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){C(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,a=null,u=sr,h,m,x=0,k=this._parts.length;x<k;x++)for(var N=this._parts[x],M=1,U=N.length;M<U;M++){h=N[M-1],m=N[M];var ne=u(n,h,m,!0);ne<r&&(r=ne,a=u(n,h,m))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Uc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=X(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new B,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],a=xt(n),u=0,h=n.length;u<h;u++)a?(r[u]=X(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new T(n,n);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,a){var u=n[0]instanceof G,h=n.length,m,x;if(u){for(x=[],m=0;m<h;m++)x[m]=this._map.latLngToLayerPoint(n[m]),a.extend(x[m]);r.push(x)}else for(m=0;m<h;m++)this._projectLatlngs(n[m],r,a)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,u,h,m,x,k,N;for(a=0,h=0,m=this._rings.length;a<m;a++)for(N=this._rings[a],u=0,x=N.length;u<x-1;u++)k=Fc(N[u],N[u+1],n,u,!0),k&&(r[h]=r[h]||[],r[h].push(k[0]),(k[1]!==N[u+1]||u===x-2)&&(r[h].push(k[1]),h++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,a=0,u=n.length;a<u;a++)n[a]=Ic(n[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var a,u,h,m,x,k,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,m=this._parts.length;a<m;a++)for(k=this._parts[a],u=0,x=k.length,h=x-1;u<x;h=u++)if(!(!r&&u===0)&&Dc(n,k[h],k[u])<=N)return!0;return!1}});function x0(n,r){return new Yt(n,r)}Yt._flat=Bc;var ui=Yt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Yt.prototype._convertLatLngs.call(this,n),a=r.length;return a>=2&&r[0]instanceof G&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(n){Yt.prototype._setLatLngs.call(this,n),xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,a=new T(r,r);if(n=new $(n.min.subtract(a),n.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,h=this._rings.length,m;u<h;u++)m=Ac(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,a,u,h,m,x,k,N,M;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,N=this._parts.length;m<N;m++)for(a=this._parts[m],x=0,M=a.length,k=M-1;x<M;k=x++)u=a[x],h=a[k],u.y>n.y!=h.y>n.y&&n.x<(h.x-u.x)*(n.y-u.y)/(h.y-u.y)+u.x&&(r=!r);return r||Yt.prototype._containsPoint.call(this,n,!0)}});function w0(n,r){return new ui(n,r)}var qt=$t.extend({initialize:function(n,r){C(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=y(n)?n:n.features,a,u,h;if(r){for(a=0,u=r.length;a<u;a++)h=r[a],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var x=go(n,m);return x?(x.feature=yo(n),x.defaultOptions=x.options,this.resetStyle(x),m.onEachFeature&&m.onEachFeature(n,x),this.addLayer(x)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function go(n,r){var a=n.type==="Feature"?n.geometry:n,u=a?a.coordinates:null,h=[],m=r&&r.pointToLayer,x=r&&r.coordsToLatLng||Ea,k,N,M,U;if(!u&&!a)return null;switch(a.type){case"Point":return k=x(u),Wc(m,n,k,r);case"MultiPoint":for(M=0,U=u.length;M<U;M++)k=x(u[M]),h.push(Wc(m,n,k,r));return new $t(h);case"LineString":case"MultiLineString":return N=vo(u,a.type==="LineString"?0:1,x),new Yt(N,r);case"Polygon":case"MultiPolygon":return N=vo(u,a.type==="Polygon"?1:2,x),new ui(N,r);case"GeometryCollection":for(M=0,U=a.geometries.length;M<U;M++){var ne=go({geometry:a.geometries[M],type:"Feature",properties:n.properties},r);ne&&h.push(ne)}return new $t(h);case"FeatureCollection":for(M=0,U=a.features.length;M<U;M++){var ue=go(a.features[M],r);ue&&h.push(ue)}return new $t(h);default:throw new Error("Invalid GeoJSON object.")}}function Wc(n,r,a,u){return n?n(r,a):new po(a,u&&u.markersInheritOptions&&u)}function Ea(n){return new G(n[1],n[0],n[2])}function vo(n,r,a){for(var u=[],h=0,m=n.length,x;h<m;h++)x=r?vo(n[h],r-1,a):(a||Ea)(n[h]),u.push(x);return u}function Ta(n,r){return n=X(n),n.alt!==void 0?[b(n.lng,r),b(n.lat,r),b(n.alt,r)]:[b(n.lng,r),b(n.lat,r)]}function _o(n,r,a,u){for(var h=[],m=0,x=n.length;m<x;m++)h.push(r?_o(n[m],xt(n[m])?0:r-1,a,u):Ta(n[m],u));return!r&&a&&h.length>0&&h.push(h[0].slice()),h}function ci(n,r){return n.feature?s({},n.feature,{geometry:r}):yo(r)}function yo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var za={toGeoJSON:function(n){return ci(this,{type:"Point",coordinates:Ta(this.getLatLng(),n)})}};po.include(za),Ca.include(za),mo.include(za),Yt.include({toGeoJSON:function(n){var r=!xt(this._latlngs),a=_o(this._latlngs,r?1:0,!1,n);return ci(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),ui.include({toGeoJSON:function(n){var r=!xt(this._latlngs),a=r&&!xt(this._latlngs[0]),u=_o(this._latlngs,a?2:r?1:0,!0,n);return r||(u=[u]),ci(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),ai.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(n).geometry.coordinates)}),ci(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var a=r==="GeometryCollection",u=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(n);if(a)u.push(m.geometry);else{var x=yo(m);x.type==="FeatureCollection"?u.push.apply(u,x.features):u.push(x)}}}),a?ci(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Vc(n,r){return new qt(n,r)}var S0=Vc,xo=Tt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,a){this._url=n,this._bounds=Q(r),C(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&oi(this._image),this},bringToBack:function(){return this._map&&si(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=Q(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:pe("img");if(se(r,"leaflet-image-layer"),this._zoomAnimated&&se(r,"leaflet-zoom-animated"),this.options.className&&se(r,this.options.className),r.onselectstart=w,r.onmousemove=w,r.onload=d(this.fire,this,"load"),r.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;In(this._image,a,r)},_reset:function(){var n=this._image,r=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Ae(n,r.min),n.style.width=a.x+"px",n.style.height=a.y+"px"},_updateOpacity:function(){yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),b0=function(n,r,a){return new xo(n,r,a)},Kc=xo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:pe("video");if(se(r,"leaflet-image-layer"),this._zoomAnimated&&se(r,"leaflet-zoom-animated"),this.options.className&&se(r,this.options.className),r.onselectstart=w,r.onmousemove=w,r.onloadeddata=d(this.fire,this,"load"),n){for(var a=r.getElementsByTagName("source"),u=[],h=0;h<a.length;h++)u.push(a[h].src);this._url=a.length>0?u:[r.src];return}y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var x=pe("source");x.src=this._url[m],r.appendChild(x)}}});function k0(n,r,a){return new Kc(n,r,a)}var Gc=xo.extend({_initImage:function(){var n=this._image=this._url;se(n,"leaflet-image-layer"),this._zoomAnimated&&se(n,"leaflet-zoom-animated"),this.options.className&&se(n,this.options.className),n.onselectstart=w,n.onmousemove=w}});function P0(n,r,a){return new Gc(n,r,a)}var Ht=Tt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof G||y(n))?(this._latlng=X(n),C(this,r)):(C(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&yt(this._container,1),this.bringToFront(),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(yt(this._container,0),this._removeTimeout=setTimeout(d(ke,void 0,this._container),200)):ke(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=X(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&oi(this._container),this},bringToBack:function(){return this._map&&si(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof $t){r=null;var a=this._source._layers;for(var u in a)if(a[u]._map){r=a[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=A(this.options.offset),a=this._getAnchor();this._zoomAnimated?Ae(this._container,n.add(a)):r=r.add(n).add(a);var u=this._containerBottom=-r.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});de.include({_initOverlay:function(n,r,a,u){var h=r;return h instanceof n||(h=new n(u).setContent(r)),a&&h.setLatLng(a),h}}),Tt.include({_initOverlay:function(n,r,a,u){var h=a;return h instanceof n?(C(h,u),h._source=this):(h=r&&!u?r:new n(u,this),h.setContent(a)),h}});var wo=Ht.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ht.prototype.openOn.call(this,n)},onAdd:function(n){Ht.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hn||this._source.on("preclick",Rn))},onRemove:function(n){Ht.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hn||this._source.off("preclick",Rn))},getEvents:function(){var n=Ht.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=pe("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=pe("div",n+"-content-wrapper",r);if(this._contentNode=pe("div",n+"-content",a),rr(r),ya(this._contentNode),oe(r,"contextmenu",Rn),this._tipContainer=pe("div",n+"-tip-container",r),this._tip=pe("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=pe("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',oe(u,"click",function(h){He(h),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var a=n.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&u>h?(r.height=h+"px",se(n,m)):Le(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),a=this._getAnchor();Ae(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(er(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,u=this._containerWidth,h=new T(this._containerLeft,-a-this._containerBottom);h._add(Dn(this._container));var m=n.layerPointToContainerPoint(h),x=A(this.options.autoPanPadding),k=A(this.options.autoPanPaddingTopLeft||x),N=A(this.options.autoPanPaddingBottomRight||x),M=n.getSize(),U=0,ne=0;m.x+u+N.x>M.x&&(U=m.x+u-M.x+N.x),m.x-U-k.x<0&&(U=m.x-k.x),m.y+a+N.y>M.y&&(ne=m.y+a-M.y+N.y),m.y-ne-k.y<0&&(ne=m.y-k.y),(U||ne)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([U,ne]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),N0=function(n,r){return new wo(n,r)};de.mergeOptions({closePopupOnClick:!0}),de.include({openPopup:function(n,r,a){return this._initOverlay(wo,n,r,a).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Tt.include({bindPopup:function(n,r){return this._popup=this._initOverlay(wo,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Fn(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof hn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var So=Ht.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ht.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ht.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ht.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pe("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,a,u=this._map,h=this._container,m=u.latLngToContainerPoint(u.getCenter()),x=u.layerPointToContainerPoint(n),k=this.options.direction,N=h.offsetWidth,M=h.offsetHeight,U=A(this.options.offset),ne=this._getAnchor();k==="top"?(r=N/2,a=M):k==="bottom"?(r=N/2,a=0):k==="center"?(r=N/2,a=M/2):k==="right"?(r=0,a=M/2):k==="left"?(r=N,a=M/2):x.x<m.x?(k="right",r=0,a=M/2):(k="left",r=N+(U.x+ne.x)*2,a=M/2),n=n.subtract(A(r,a,!0)).add(U).add(ne),Le(h,"leaflet-tooltip-right"),Le(h,"leaflet-tooltip-left"),Le(h,"leaflet-tooltip-top"),Le(h,"leaflet-tooltip-bottom"),se(h,"leaflet-tooltip-"+k),Ae(h,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&yt(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),C0=function(n,r){return new So(n,r)};de.include({openTooltip:function(n,r,a){return this._initOverlay(So,n,r,a).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Tt.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(So,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(oe(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),oe(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,a,u;this._tooltip.options.sticky&&n.originalEvent&&(a=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var Jc=li.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),a=this.options;if(a.html instanceof Element?(ao(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=A(a.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function E0(n){return new Jc(n)}li.Default=ar;var lr=Tt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){C(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ke(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof T?n:new T(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,a=-n(-1/0,1/0),u=0,h=r.length,m;u<h;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(a=n(a,+m));isFinite(a)&&(this.options.zIndex=a+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){yt(this._container,this.options.opacity);var n=+new Date,r=!1,a=!1;for(var u in this._tiles){var h=this._tiles[u];if(!(!h.current||!h.loaded)){var m=Math.min(1,(n-h.loaded)/200);yt(h.el,m),m<1?r=!0:(h.active?a=!0:this._onOpaqueTile(h),h.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(q(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===n?(this._levels[a].el.style.zIndex=r-Math.abs(n-a),this._onUpdateLevel(a)):(ke(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[n],h=this._map;return u||(u=this._levels[n]={},u.el=pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=h.project(h.unproject(h.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,h.getCenter(),h.getZoom()),w(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var n,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ke(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,a,u){var h=Math.floor(n/2),m=Math.floor(r/2),x=a-1,k=new T(+h,+m);k.z=+x;var N=this._tileCoordsToKey(k),M=this._tiles[N];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),x>u?this._retainParent(h,m,x,u):!1)},_retainChildren:function(n,r,a,u){for(var h=2*n;h<2*n+2;h++)for(var m=2*r;m<2*r+2;m++){var x=new T(h,m);x.z=a+1;var k=this._tileCoordsToKey(x),N=this._tiles[k];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);a+1<u&&this._retainChildren(h,m,a+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,a,u){var h=Math.round(r);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!u||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(n),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],n,r)},_setZoomTransform:function(n,r,a){var u=this._map.getZoomScale(a,n.zoom),h=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,a)).round();Y.any3d?In(n.el,h,u):Ae(n.el,h)},_resetGrid:function(){var n=this._map,r=n.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/a.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/a.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(a,this._tileZoom),h=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new $(h.subtract(m),h.add(m))},_update:function(n){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),h=this._pxBoundsToTileRange(u),m=h.getCenter(),x=[],k=this.options.keepBuffer,N=new $(h.getBottomLeft().subtract([k,-k]),h.getTopRight().add([k,-k]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var U=this._tiles[M].coords;(U.z!==this._tileZoom||!N.contains(new T(U.x,U.y)))&&(this._tiles[M].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(n,a);return}for(var ne=h.min.y;ne<=h.max.y;ne++)for(var ue=h.min.x;ue<=h.max.x;ue++){var Qe=new T(ue,ne);if(Qe.z=this._tileZoom,!!this._isValidTile(Qe)){var Be=this._tiles[this._tileCoordsToKey(Qe)];Be?Be.current=!0:x.push(Qe)}}if(x.sort(function(rt,hi){return rt.distanceTo(m)-hi.distanceTo(m)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wt=document.createDocumentFragment();for(ue=0;ue<x.length;ue++)this._addTile(x[ue],wt);this._level.el.appendChild(wt)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(n.x<a.min.x||n.x>a.max.x)||!r.wrapLat&&(n.y<a.min.y||n.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return Q(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,a=this.getTileSize(),u=n.scaleBy(a),h=u.add(a),m=r.unproject(u,n.z),x=r.unproject(h,n.z);return[m,x]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),a=new B(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),a=new T(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(n){var r=this._tiles[n];r&&(ke(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){se(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=w,n.onmousemove=w,Y.ielt9&&this.options.opacity<1&&yt(n,this.options.opacity)},_addTile:function(n,r){var a=this._getTilePos(n),u=this._tileCoordsToKey(n),h=this.createTile(this._wrapCoords(n),d(this._tileReady,this,n));this._initTile(h),this.createTile.length<2&&J(d(this._tileReady,this,n,null,h)),Ae(h,a),this._tiles[u]={el:h,coords:n,current:!0},r.appendChild(h),this.fire("tileloadstart",{tile:h,coords:n})},_tileReady:function(n,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:n});var u=this._tileCoordsToKey(n);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(yt(a.el,0),q(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(se(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new T(this._wrapX?S(n.x,this._wrapX):n.x,this._wrapY?S(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new $(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function T0(n){return new lr(n)}var di=lr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=C(this,r),r.detectRetina&&Y.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var a=document.createElement("img");return oe(a,"load",d(this._tileOnLoad,this,r,a)),oe(a,"error",d(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(n),a},getTileUrl:function(n){var r={r:Y.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=a),r["-y"]=a}return _(this._url,s(r,this.options))},_tileOnLoad:function(n,r){Y.ielt9?setTimeout(d(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,a){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(a,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=w,r.onerror=w,!r.complete)){r.src=I;var a=this._tiles[n].coords;ke(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",I),lr.prototype._removeTile.call(this,n)},_tileReady:function(n,r,a){if(!(!this._map||a&&a.getAttribute("src")===I))return lr.prototype._tileReady.call(this,n,r,a)}});function $c(n,r){return new di(n,r)}var Yc=di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var a=s({},this.defaultWmsParams);for(var u in r)u in this.options||(a[u]=r[u]);r=C(this,r);var h=r.detectRetina&&Y.retina?2:1,m=this.getTileSize();a.width=m.x*h,a.height=m.y*h,this.wmsParams=a},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,di.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),a=this._crs,u=le(a.project(r[0]),a.project(r[1])),h=u.min,m=u.max,x=(this._wmsVersion>=1.3&&this._crs===Zc?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),k=di.prototype.getTileUrl.call(this,n);return k+K(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(n,r){return s(this.wmsParams,n),r||this.redraw(),this}});function z0(n,r){return new Yc(n,r)}di.WMS=Yc,$c.wms=z0;var Qt=Tt.extend({options:{padding:.1},initialize:function(n){C(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var a=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,r),m=u.multiplyBy(-a).add(h).subtract(this._map._getNewPixelOrigin(n,r));Y.any3d?In(this._container,m,a):Ae(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new $(a,a.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qc=Qt.extend({options:{tolerance:0},getEvents:function(){var n=Qt.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");oe(n,"mousemove",this._onMouseMove,this),oe(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),oe(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,ke(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var n=this._bounds,r=this._container,a=n.getSize(),u=Y.retina?2:1;Ae(r,n.min),r.width=u*a.x,r.height=u*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Qt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,a=r.next,u=r.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),a=[],u,h;for(h=0;h<r.length;h++){if(u=Number(r[h]),isNaN(u))return;a.push(u)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var a,u,h,m,x=n._parts,k=x.length,N=this._ctx;if(k){for(N.beginPath(),a=0;a<k;a++){for(u=0,h=x[a].length;u<h;u++)m=x[a][u],N[u?"lineTo":"moveTo"](m.x,m.y);r&&N.closePath()}this._fillStroke(N,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,a=this._ctx,u=Math.max(Math.round(n._radius),1),h=(Math.max(Math.round(n._radiusY),1)||u)/u;h!==1&&(a.save(),a.scale(1,h)),a.beginPath(),a.arc(r.x,r.y/h,u,0,Math.PI*2,!1),h!==1&&a.restore(),this._fillStroke(a,n)}},_fillStroke:function(n,r){var a=r.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(Le(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(se(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,a){this._map._fireDOMEvent(r,a||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function Qc(n){return Y.canvas?new qc(n):null}var ur=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),L0={_initContainer:function(){this._container=pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qt.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=ur("shape");se(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=ur("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;ke(r),n.removeInteractiveTarget(r),delete this._layers[p(n)]},_updateStyle:function(n){var r=n._stroke,a=n._fill,u=n.options,h=n._container;h.stroked=!!u.stroke,h.filled=!!u.fill,u.stroke?(r||(r=n._stroke=ur("stroke")),h.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=y(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(h.removeChild(r),n._stroke=null),u.fill?(a||(a=n._fill=ur("fill")),h.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(h.removeChild(a),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),a=Math.round(n._radius),u=Math.round(n._radiusY||a);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){oi(n._container)},_bringToBack:function(n){si(n._container)}},bo=Y.vml?ur:Yi,cr=Qt.extend({_initContainer:function(){this._container=bo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ke(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qt.prototype._update.call(this);var n=this._bounds,r=n.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Ae(a,n.min),a.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=bo("path");n.options.className&&se(r,n.options.className),n.options.interactive&&se(r,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ke(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,a=n.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Me(n._parts,r))},_updateCircle:function(n){var r=n._point,a=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||a,h="a"+a+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-a)+","+r.y+h+a*2+",0 "+h+-a*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){oi(n._path)},_bringToBack:function(n){si(n._path)}});Y.vml&&cr.include(L0);function Xc(n){return Y.svg||Y.vml?new cr(n):null}de.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&Qc(n)||Xc(n)}});var ed=ui.extend({initialize:function(n,r){ui.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=Q(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function j0(n,r){return new ed(n,r)}cr.create=bo,cr.pointsToPath=Me,qt.geometryToLayer=go,qt.coordsToLatLng=Ea,qt.coordsToLatLngs=vo,qt.latLngToCoords=Ta,qt.latLngsToCoords=_o,qt.getFeature=ci,qt.asFeature=yo,de.mergeOptions({boxZoom:!0});var td=Zt.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),tr(),da(),this._startPoint=this._map.mouseEventToContainerPoint(n),oe(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=pe("div","leaflet-zoom-box",this._container),se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new $(this._point,this._startPoint),a=r.getSize();Ae(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ke(this._box),Le(this._container,"leaflet-crosshair")),nr(),ha(),_e(document,{contextmenu:Fn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var r=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});de.addInitHook("addHandler","boxZoom",td),de.mergeOptions({doubleClickZoom:!0});var nd=Zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,a=r.getZoom(),u=r.options.zoomDelta,h=n.originalEvent.shiftKey?a-u:a+u;r.options.doubleClickZoom==="center"?r.setZoom(h):r.setZoomAround(n.containerPoint,h)}});de.addInitHook("addHandler","doubleClickZoom",nd),de.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var id=Zt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new dn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=Q(this._map.options.maxBounds);this._offsetLimit=le(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,h=(u-r+a)%n+r-a,m=(u+r+a)%n-r-a,x=Math.abs(h+a)<Math.abs(m+a)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(n){var r=this._map,a=r.options,u=!a.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,x=a.easeLinearity,k=h.multiplyBy(x/m),N=k.distanceTo([0,0]),M=Math.min(a.inertiaMaxSpeed,N),U=k.multiplyBy(M/N),ne=M/(a.inertiaDeceleration*x),ue=U.multiplyBy(-ne/2).round();!ue.x&&!ue.y?r.fire("moveend"):(ue=r._limitOffset(ue,r.options.maxBounds),J(function(){r.panBy(ue,{duration:ne,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});de.addInitHook("addHandler","dragging",id),de.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rd=Zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),oe(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,a=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},a=this.keyCodes,u,h;for(u=0,h=a.left.length;u<h;u++)r[a.left[u]]=[-1*n,0];for(u=0,h=a.right.length;u<h;u++)r[a.right[u]]=[n,0];for(u=0,h=a.down.length;u<h;u++)r[a.down[u]]=[0,n];for(u=0,h=a.up.length;u<h;u++)r[a.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},a=this.keyCodes,u,h;for(u=0,h=a.zoomIn.length;u<h;u++)r[a.zoomIn[u]]=n;for(u=0,h=a.zoomOut.length;u<h;u++)r[a.zoomOut[u]]=-n},_addHooks:function(){oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,a=this._map,u;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=A(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(A(u),a.options.maxBounds)),a.options.worldCopyJump){var h=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(h)}else a.panBy(u)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Fn(n)}}});de.addInitHook("addHandler","keyboard",rd),de.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var od=Zt.extend({addHooks:function(){oe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Tc(n),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),u),Fn(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),a=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=a?Math.ceil(h/a)*a:h,x=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,x&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+x):n.setZoomAround(this._lastMousePos,r+x))}});de.addInitHook("addHandler","scrollWheelZoom",od);var M0=600;de.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var sd=Zt.extend({addHooks:function(){oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new T(r.clientX,r.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(oe(document,"touchend",He),oe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),M0),oe(document,"touchend touchcancel contextmenu",this._cancel,this),oe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){_e(document,"touchend",He),_e(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new T(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var a=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});de.addInitHook("addHandler","tapHold",sd),de.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var ad=Zt.extend({addHooks:function(){se(this._map._container,"leaflet-touch-zoom"),oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),oe(document,"touchmove",this._onTouchMove,this),oe(document,"touchend touchcancel",this._onTouchEnd,this),He(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),h=a.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(h,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&h<1||this._zoom>r.getMaxZoom()&&h>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var x=d(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(x,this,!0),He(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});de.addInitHook("addHandler","touchZoom",ad),de.BoxZoom=td,de.DoubleClickZoom=nd,de.Drag=id,de.Keyboard=rd,de.ScrollWheelZoom=od,de.TapHold=sd,de.TouchZoom=ad,i.Bounds=$,i.Browser=Y,i.CRS=be,i.Canvas=qc,i.Circle=Ca,i.CircleMarker=mo,i.Class=fe,i.Control=Et,i.DivIcon=Jc,i.DivOverlay=Ht,i.DomEvent=qm,i.DomUtil=$m,i.Draggable=dn,i.Evented=ae,i.FeatureGroup=$t,i.GeoJSON=qt,i.GridLayer=lr,i.Handler=Zt,i.Icon=li,i.ImageOverlay=xo,i.LatLng=G,i.LatLngBounds=B,i.Layer=Tt,i.LayerGroup=ai,i.LineUtil=c0,i.Map=de,i.Marker=po,i.Mixin=r0,i.Path=hn,i.Point=T,i.PolyUtil=o0,i.Polygon=ui,i.Polyline=Yt,i.Popup=wo,i.PosAnimation=zc,i.Projection=d0,i.Rectangle=ed,i.Renderer=Qt,i.SVG=cr,i.SVGOverlay=Gc,i.TileLayer=di,i.Tooltip=So,i.Transformation=cn,i.Util=me,i.VideoOverlay=Kc,i.bind=d,i.bounds=le,i.canvas=Qc,i.circle=y0,i.circleMarker=_0,i.control=or,i.divIcon=E0,i.extend=s,i.featureGroup=m0,i.geoJSON=Vc,i.geoJson=S0,i.gridLayer=T0,i.icon=g0,i.imageOverlay=b0,i.latLng=X,i.latLngBounds=Q,i.layerGroup=p0,i.map=Qm,i.marker=v0,i.point=A,i.polygon=w0,i.polyline=x0,i.popup=N0,i.rectangle=j0,i.setOptions=C,i.stamp=p,i.svg=Xc,i.svgOverlay=P0,i.tileLayer=$c,i.tooltip=C0,i.transformation=it,i.version=o,i.videoOverlay=k0;var A0=window.L;i.noConflict=function(){return window.L=A0,this},window.L=i})})(ru,ru.exports);var Dt=ru.exports;function Qs(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Xs(e,t){return t==null?function(o,s){const l=E.useRef();return l.current||(l.current=e(o,s)),l}:function(o,s){const l=E.useRef();l.current||(l.current=e(o,s));const d=E.useRef(o),{instance:f}=l.current;return E.useEffect(function(){d.current!==o&&(t(f,o,d.current),d.current=o)},[f,o,s]),l}}function fm(e,t){E.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function pm(e){return function(i){const o=nc(),s=e(qs(i,o),o);return lm(o.map,i.attribution),ic(s.current,i.eventHandlers),fm(s.current,o),s}}function Ky(e,t){const i=E.useRef();E.useEffect(function(){if(t.pathOptions!==i.current){const s=t.pathOptions??{};e.instance.setStyle(s),i.current=s}},[e,t])}function Gy(e){return function(i){const o=nc(),s=e(qs(i,o),o);return ic(s.current,i.eventHandlers),fm(s.current,o),Ky(s.current,i),s}}function Jy(e,t){const i=Xs(e,t),o=pm(i);return hm(o)}function $y(e,t){const i=Xs(e),o=Vy(i,t);return Hy(o)}function Yy(e,t){const i=Xs(e,t),o=Gy(i);return hm(o)}function qy(e,t){const i=Xs(e,t),o=pm(i);return Wy(o)}function Qy(e,t,i){const{opacity:o,zIndex:s}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),s!=null&&s!==i.zIndex&&e.setZIndex(s)}function ou(){return ou=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},ou.apply(this,arguments)}function Xy({bounds:e,boundsOptions:t,center:i,children:o,className:s,id:l,placeholder:d,style:f,whenReady:p,zoom:g,...S},w){const[b]=E.useState({className:s,id:l,style:f}),[P,z]=E.useState(null);E.useImperativeHandle(w,()=>(P==null?void 0:P.map)??null,[P]);const C=E.useCallback(v=>{if(v!==null&&P===null){const _=new Dt.Map(v,S);i!=null&&g!=null?_.setView(i,g):e!=null&&_.fitBounds(e,t),p!=null&&_.whenReady(p),z(Zy(_))}},[]);E.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const K=P?as.createElement(dm,{value:P},o):d??null;return as.createElement("div",ou({},b,{ref:C}),K)}const ea=E.forwardRef(Xy),Yr=Jy(function({position:t,...i},o){const s=new Dt.Marker(t,i);return Qs(s,um(o,{overlayContainer:s}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),mm=Yy(function({positions:t,...i},o){const s=new Dt.Polyline(t,i);return Qs(s,um(o,{overlayContainer:s}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),qr=$y(function(t,i){const o=new Dt.Popup(t,i.overlayContainer);return Qs(o,i)},function(t,i,{position:o},s){E.useEffect(function(){const{instance:d}=t;function f(g){g.popup===d&&(d.update(),s(!0))}function p(g){g.popup===d&&s(!1)}return i.map.on({popupopen:f,popupclose:p}),i.overlayContainer==null?(o!=null&&d.setLatLng(o),d.openOn(i.map)):i.overlayContainer.bindPopup(d),function(){var S;i.map.off({popupopen:f,popupclose:p}),(S=i.overlayContainer)==null||S.unbindPopup(),i.map.removeLayer(d)}},[t,i,s,o])}),ta=qy(function({url:t,...i},o){const s=new Dt.TileLayer(t,qs(i,o));return Qs(s,o)},function(t,i,o){Qy(t,i,o);const{url:s}=i;s!=null&&s!==o.url&&t.setUrl(s)}),ex={FLL:{lat:26.0726,lng:-80.1527,name:"Fort Lauderdale"},SFO:{lat:37.6213,lng:-122.379,name:"San Francisco"},DEN:{lat:39.8561,lng:-104.6737,name:"Denver"},MNL:{lat:14.5086,lng:121.0194,name:"Manila"},BCD:{lat:10.7764,lng:123.0148,name:"Bacolod"},NRT:{lat:35.772,lng:140.3929,name:"Tokyo Narita"},HND:{lat:35.5494,lng:139.7798,name:"Tokyo Haneda"},UENO:{lat:35.7141,lng:139.7774,name:"Ueno Station"},JOETSU:{lat:37.1033,lng:138.2531,name:"Jetsumyk Station"}},Ch=50,tx=.1,nx=new Dt.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[20,33],iconAnchor:[10,33],popupAnchor:[1,-28],shadowSize:[33,33]}),ix=new Dt.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[20,33],iconAnchor:[10,33],popupAnchor:[1,-28],shadowSize:[33,33]}),rx={color:"#3b82f6",weight:2,opacity:.8,dashArray:"10, 10"},Eh=e=>{if(!e)return null;const t=e.match(/^([A-Z]{3})/);return t?t[1]:null},Th=e=>e?ex[e]:null,ox=(e,t)=>{const i=(e.lat+t.lat)/2,o=(e.lng+t.lng)/2;return[i,o]},sx=(e,t)=>{const i=Math.abs(e.lat-t.lat),o=Math.abs(e.lng-t.lng),s=Math.max(i,o);return s>100?1:s>50?2:s>20?3:s>10?4:s>5?5:6},ax=(e,t)=>{const i=Math.abs(e.lat-t.lat),o=Math.abs(e.lng-t.lng);return Math.max(i,o)},lx=(e,t,i)=>{const o=[];for(let s=0;s<=Ch;s++){const l=s/Ch,d=e[0]+(t[0]-e[0])*l,f=e[1]+(t[1]-e[1])*l,p=Math.sin(l*Math.PI)*(i*tx);o.push([d+p*.3,f])}return o};function ux({departureAirport:e,arrivalAirport:t,route:i,type:o}){const s=Eh(e),l=Eh(t),d=Th(s),f=Th(l);if(!d||!f)return null;const p=[d.lat,d.lng],g=[f.lat,f.lng],S=ox(d,f),w=sx(d,f),b=ax(d,f),P=lx(p,g,b),z=i||`${s}  ${l}`;return c.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-blue-800/50",style:{minHeight:"180px"},children:[c.jsxs("div",{className:"absolute top-2 left-2 z-[1000] bg-blue-900/90 backdrop-blur-sm px-2.5 py-1.5 rounded-lg border border-blue-700/50 flex items-center gap-2",children:[c.jsx(Hi,{size:16,className:"text-blue-400"}),c.jsx("span",{className:"text-sm font-medium text-blue-200",children:z})]}),c.jsxs(ea,{center:S,zoom:w,scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[c.jsx(ta,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),c.jsx(mm,{positions:P,pathOptions:rx}),c.jsx(Yr,{position:p,icon:nx,children:c.jsx(qr,{children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-semibold",children:" Departure"}),c.jsxs("div",{className:"text-xs",children:[d.name," (",s,")"]})]})})}),c.jsx(Yr,{position:g,icon:ix,children:c.jsx(qr,{children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-semibold",children:" Arrival"}),c.jsxs("div",{className:"text-xs",children:[f.name," (",l,")"]})]})})})]})]})}function cx(e){return{passenger:e.passenger||e.passengerName||e.name||e.pax||null,seat:e.seat||e.seatNumber||e.seatAssignment||null,gate:e.gate||e.gateNumber||e.boardingGate||null,boardingTime:e.boardingTime||e.boarding||e.boardTime||null,boardingGroup:e.boardingGroup||e.group||e.zone||e.boardingZone||null,flight:e.flight||e.flightNumber||e.flightNo||null,confirmation:e.confirmation||e.pnr||e.confirmationCode||e.recordLocator||null,sequence:e.sequence||e.sequenceNumber||e.seqNo||null}}function dx({boardingPass:e,onDelete:t,segmentId:i}){const[o,s]=E.useState(!1),[l,d]=E.useState(!1),f=cx(e),p=Object.values(f).some(w=>w!==null),g=E.useCallback(async()=>{confirm("Delete this boarding pass?")&&(s(!0),await t(i,e.id),s(!1))},[t,i,e.id]),S=E.useCallback(()=>{d(w=>!w)},[]);return c.jsxs("div",{className:"mt-3 rounded-lg bg-gradient-to-br from-amber-950/30 via-orange-950/20 to-yellow-950/30 border border-amber-700/40 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-amber-900/30 border-b border-amber-700/30",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(em,{className:"h-4 w-4 text-amber-400"}),c.jsx("span",{className:"text-sm font-medium text-amber-200",children:"Boarding Pass"})]}),c.jsx("button",{onClick:g,disabled:o,className:"p-1.5 rounded hover:bg-red-900/40 text-zinc-400 hover:text-red-400 transition-colors disabled:opacity-50",title:"Delete boarding pass",children:c.jsx(ei,{className:"h-3.5 w-3.5"})})]}),c.jsxs("div",{className:"p-3",children:[p?c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[f.passenger&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(I_,{className:"h-3.5 w-3.5 text-amber-500"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500",children:"Passenger"}),c.jsx("div",{className:"text-sm text-zinc-200 font-medium",children:f.passenger})]})]}),f.seat&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pt,{className:"h-3.5 w-3.5 text-amber-500"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500",children:"Seat"}),c.jsx("div",{className:"text-sm text-zinc-200 font-medium",children:f.seat})]})]}),f.gate&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pt,{className:"h-3.5 w-3.5 text-amber-500"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500",children:"Gate"}),c.jsx("div",{className:"text-sm text-zinc-200 font-medium",children:f.gate})]})]}),f.boardingTime&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Xn,{className:"h-3.5 w-3.5 text-amber-500"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500",children:"Boarding"}),c.jsx("div",{className:"text-sm text-zinc-200 font-medium",children:f.boardingTime})]})]}),f.boardingGroup&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Sh,{className:"h-3.5 w-3.5 text-amber-500"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500",children:"Group"}),c.jsx("div",{className:"text-sm text-zinc-200 font-medium",children:f.boardingGroup})]})]}),f.confirmation&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Sh,{className:"h-3.5 w-3.5 text-amber-500"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500",children:"PNR"}),c.jsx("div",{className:"text-sm text-zinc-200 font-mono",children:f.confirmation})]})]})]}):c.jsx("p",{className:"text-sm text-zinc-400 italic",children:"Boarding pass data stored (custom format)"}),c.jsxs("button",{onClick:S,className:"flex items-center gap-1 mt-3 text-xs text-zinc-500 hover:text-zinc-300 transition-colors",children:[l?c.jsx(w_,{className:"h-3 w-3"}):c.jsx(ii,{className:"h-3 w-3"}),l?"Hide":"Show"," raw data"]}),l&&c.jsx("pre",{className:"mt-2 p-2 bg-zinc-900/50 rounded text-xs text-zinc-400 overflow-x-auto max-h-40",children:JSON.stringify(e,null,2)})]})]})}function hx({isOpen:e,onClose:t,onSave:i,segmentId:o,flightInfo:s}){const[l,d]=E.useState(""),[f,p]=E.useState(null),[g,S]=E.useState(!1),[w,b]=E.useState(!1),P=E.useCallback(v=>{const _=v.target.value;if(d(_),p(null),b(!1),_.trim())try{JSON.parse(_)}catch{p("Invalid JSON format")}},[]),z=E.useCallback(async()=>{if(!l.trim()){p("Please enter boarding pass JSON");return}let v;try{v=JSON.parse(l)}catch{p("Invalid JSON format");return}S(!0),p(null);const[,_]=await i(o,v);if(S(!1),_){p(`Failed to save: ${_.message}`);return}b(!0),setTimeout(()=>{d(""),b(!1),t()},1e3)},[l,i,o,t]),C=E.useCallback(()=>{d(""),p(null),b(!1),t()},[t]);if(!e)return null;const K=l.trim()&&!f;return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:C}),c.jsxs("div",{className:"relative w-full max-w-lg bg-zinc-900 rounded-xl border border-zinc-700 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-700",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:" Import Boarding Pass"}),c.jsx("p",{className:"text-sm text-zinc-400 mt-0.5",children:s})]}),c.jsx("button",{onClick:C,className:"p-2 rounded-lg hover:bg-zinc-800 text-zinc-400 hover:text-zinc-200 transition-colors",children:c.jsx(Wi,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Paste your boarding pass JSON"}),c.jsx("textarea",{value:l,onChange:P,placeholder:'{"passenger": "CAMERON/EARL", "seat": "24A", "gate": "B12", ...}',className:"w-full h-48 px-3 py-2 bg-zinc-800 border border-zinc-600 rounded-lg text-zinc-100 placeholder-zinc-500 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),f&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-red-400 text-sm",children:[c.jsx($r,{className:"h-4 w-4"}),c.jsx("span",{children:f})]}),K&&!w&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-400 text-sm",children:[c.jsx(xh,{className:"h-4 w-4"}),c.jsx("span",{children:"Valid JSON"})]}),w&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-400 text-sm",children:[c.jsx(xh,{className:"h-4 w-4"}),c.jsx("span",{children:"Boarding pass saved!"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t border-zinc-700",children:[c.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800 rounded-lg transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:z,disabled:!K||g,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-500 disabled:bg-zinc-700 disabled:text-zinc-500 rounded-lg transition-colors",children:[c.jsx(Ms,{className:"h-4 w-4"}),g?"Saving...":"Save Boarding Pass"]})]})]})]})}const fx=e=>e.status==="BUFFER",px=e=>e.type==="Flight"||!!e.flight,mx=e=>!!(e.departureAirport&&e.arrivalAirport),gx=e=>{switch(e){case 1:return"bg-green-950/40 border border-green-900/50";case 2:return"bg-amber-950/40 border border-amber-900/50";case 3:return"bg-red-950/40 border border-red-900/50";default:return"bg-zinc-950/40 border border-zinc-900/50"}},zh=`Convert this boarding pass image to JSON format.

INSTRUCTIONS:
1. Extract ALL visible information from the boarding pass
2. Use the exact field names shown in the schema below
3. Return ONLY the JSON object, no other text
4. If a field is not visible, omit it from the JSON
5. Format times as they appear (e.g., "5:40 PM" or "17:40")
6. Format dates as YYYY-MM-DD (e.g., "2026-01-30")
7. Passenger name should be LASTNAME/FIRSTNAME format

JSON SCHEMA:
{
  "passenger": "LASTNAME/FIRSTNAME",
  "pnr": "Confirmation/Record Locator code",
  "flight": "Flight number (e.g., UA249)",
  "airline": "Airline name",
  "seat": "Seat assignment (e.g., 24A)",
  "gate": "Gate number",
  "boardingTime": "Boarding time",
  "departureTime": "Departure time",
  "boardingGroup": "Boarding group/zone",
  "class": "Cabin class (Economy, Business, First)",
  "departure": "Departure airport code (e.g., FLL)",
  "arrival": "Arrival airport code (e.g., SFO)",
  "date": "Flight date (YYYY-MM-DD)",
  "sequence": "Sequence number if shown",
  "frequentFlyer": "Frequent flyer number if shown"
}

EXAMPLE OUTPUT:
{
  "passenger": "CAMERON/EARL",
  "pnr": "ABC123",
  "flight": "UA249",
  "airline": "United Airlines",
  "seat": "24A",
  "gate": "B12",
  "boardingTime": "5:40 PM",
  "departureTime": "6:10 PM",
  "boardingGroup": "3",
  "class": "Economy",
  "departure": "FLL",
  "arrival": "SFO",
  "date": "2026-01-30",
  "sequence": "0142"
}

Now extract the boarding pass information from the image:`;function vx({isOpen:e,onClose:t}){const[i,o]=E.useState(!1),s=async()=>{await navigator.clipboard.writeText(zh),o(!0),setTimeout(()=>o(!1),2e3)};return e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t}),c.jsxs("div",{className:"relative w-full max-w-lg bg-zinc-900 rounded-xl border border-zinc-700 shadow-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-700 sticky top-0 bg-zinc-900",children:[c.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:" How to Add a Boarding Pass"}),c.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-zinc-800 text-zinc-400 hover:text-zinc-200 transition-colors",children:c.jsx(Wi,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Step 1: Copy the AI prompt"}),c.jsx("p",{className:"text-sm text-zinc-300 mb-3",children:"Click the button below to copy the full instructions, schema, and example to your clipboard."}),c.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium text-amber-100 bg-amber-700 hover:bg-amber-600 rounded-lg transition-colors",children:[i?c.jsx(Ui,{className:"h-4 w-4"}):c.jsx(Zi,{className:"h-4 w-4"}),i?"Copied to Clipboard!":"Copy AI Prompt & Instructions"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Step 2: Send to AI with your boarding pass"}),c.jsx("p",{className:"text-sm text-zinc-300",children:"Open any AI (ChatGPT, Claude, Gemini, etc.), paste the instructions, and attach your boarding pass image (screenshot, photo, or PDF)."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Step 3: Paste the JSON result"}),c.jsx("p",{className:"text-sm text-zinc-300",children:'Copy the JSON that the AI generates and paste it into the "Add Boarding Pass" form.'})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"What gets copied:"}),c.jsxs("pre",{className:"bg-zinc-950 rounded-lg p-3 text-xs text-zinc-400 border border-zinc-700 overflow-x-auto max-h-32 overflow-y-auto",children:[zh.slice(0,300),"..."]})]}),c.jsxs("div",{className:"bg-blue-950/30 border border-blue-800/50 rounded-lg p-3",children:[c.jsx("h3",{className:"text-sm font-semibold text-blue-300 mb-2",children:" Tips"}),c.jsxs("ul",{className:"text-xs text-blue-200 space-y-1",children:[c.jsx("li",{children:" Works with email confirmations, Apple/Google Wallet, PDFs, or photos"}),c.jsx("li",{children:" Add multiple passes for each traveler on the same flight"}),c.jsx("li",{children:" The raw JSON is always viewable if you need to check details"})]})]})]}),c.jsx("div",{className:"p-4 border-t border-zinc-700",children:c.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-sm font-medium text-white bg-amber-600 hover:bg-amber-500 rounded-lg transition-colors",children:"Got it!"})})]})]}):null}function _x({bufferSegmentItem:e}){const t=!!e.location,i=e.type&&e.type!=="Buffer",o=e.details||e.route||"Scheduled buffer period";return c.jsx("div",{className:"p-3 md:p-4",children:c.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-violet-950/40 via-purple-950/30 to-indigo-950/40 border border-violet-700/40 p-4 md:p-5",children:[c.jsxs("div",{className:"absolute inset-0 opacity-10",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-500 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-indigo-500 rounded-full blur-3xl"})]}),c.jsxs("div",{className:"relative flex items-center gap-3 md:gap-5",children:[c.jsx("div",{className:"flex-shrink-0 w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-2xl bg-gradient-to-br from-violet-600/30 to-indigo-600/30 border border-violet-500/40 flex items-center justify-center",children:c.jsx(z_,{className:"w-6 h-6 md:w-8 md:h-8 text-violet-300"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1.5 md:mb-2",children:[c.jsx("h3",{className:"text-base md:text-lg font-semibold text-violet-100",children:" Buffer Time"}),c.jsx(tc,{code:e.status})]}),c.jsx("p",{className:"text-violet-200/80 text-xs md:text-sm mb-2 md:mb-3 truncate",children:o}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[e.time&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-violet-800/40 border border-violet-600/50 text-xs md:text-sm text-violet-200",children:[c.jsx(Xn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-violet-400"}),c.jsx("span",{children:e.time})]}),t&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-violet-800/40 border border-violet-600/50 text-xs md:text-sm text-violet-200",children:[c.jsx(pt,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-violet-400"}),c.jsx("span",{children:e.location})]}),i&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-indigo-800/40 border border-indigo-600/50 text-xs md:text-sm text-indigo-200",children:[c.jsx(S_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-indigo-400"}),c.jsx("span",{children:e.type})]})]})]}),c.jsxs("div",{className:"hidden sm:flex flex-col items-center gap-2 text-violet-400/60",children:[c.jsx(M_,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Safe"})]})]})]})})}function yx({backupPlanData:e}){const[t,i]=E.useState(!1),o=()=>i(!t);return c.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-900/20",children:[c.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-xs font-medium text-red-400 hover:text-red-300",children:[t?c.jsx(ii,{className:"h-3 w-3"}):c.jsx($i,{className:"h-3 w-3"})," Backup Plan: ",e.trigger]}),t&&c.jsx("div",{className:"mt-2 space-y-2 pl-5",children:e.options.map(s=>c.jsx("div",{className:ve("text-xs rounded p-2",gx(s.priority)),children:c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-zinc-100",children:["P",s.priority,": ",s.title]}),c.jsx("div",{className:"text-zinc-400 mt-0.5",children:s.description}),s.contact&&c.jsxs("div",{className:"text-zinc-500 mt-0.5 italic",children:["Contact: ",s.contact]})]}),c.jsx(tc,{code:s.status})]})},s.id))})]})}const xx=E.memo(function({items:t,isExpanded:i,onToggle:o,showBackupPlans:s,boardingPasses:l={},onAddBoardingPass:d,onDeleteBoardingPass:f}){const[p,g]=E.useState(!1),[S,w]=E.useState(null),[b,P]=E.useState(""),[z,C]=E.useState(!1);if(!t||t.length===0)return null;const K=t.length,v=y=>{const j=`${y.flight||""} ${y.route||""}`.trim();w(y.id),P(j),g(!0)},_=()=>{g(!1),w(null),P("")};return c.jsxs("div",{className:"border border-blue-900/50 rounded-lg overflow-hidden bg-blue-950/20",children:[c.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2.5 md:py-3 hover:bg-blue-900/20 transition flex items-center justify-between bg-blue-900/30",children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.jsx(Hi,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"}),c.jsxs("span",{className:"text-sm md:text-base font-medium text-blue-200",children:[" Travel ",c.jsxs("span",{className:"text-blue-500",children:["(",K,")"]})]})]}),i?c.jsx(ii,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"}):c.jsx($i,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"})]}),i&&c.jsx("div",{className:"divide-y divide-blue-900/30 bg-blue-950/10 slide-down mb-3",children:t.map(y=>{var j,I;return fx(y)?c.jsx(_x,{bufferSegmentItem:y},y.id):c.jsxs("div",{className:"p-3 md:p-4",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4 md:min-h-[180px]",children:[c.jsxs("div",{className:"w-full md:w-[60%] min-w-0 flex flex-col justify-between",children:[c.jsx("div",{children:c.jsxs("div",{className:"flex items-start justify-between gap-2 md:gap-3 mb-2 md:mb-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-blue-100 text-base md:text-lg",children:y.route}),y.flight&&c.jsxs("div",{className:"text-xs md:text-sm text-blue-400 mt-1",children:[y.airline," ",y.flight,y.aircraft&&c.jsxs("span",{className:"text-blue-500",children:["  ",y.aircraft]})]})]}),y.status&&c.jsx(tc,{code:y.status})]})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-blue-300",children:[y.time&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[c.jsx(Xn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),c.jsx("span",{children:y.time})]}),y.duration&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[c.jsx(O_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),c.jsx("span",{children:y.duration})]}),y.cabinClass&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[c.jsx(y_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),c.jsx("span",{children:y.cabinClass})]})]})]}),mx(y)&&c.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",children:c.jsx(ux,{departureAirport:y.departureAirport,arrivalAirport:y.arrivalAirport,route:y.route,type:y.type})})]}),(y.departureAirport||y.arrivalAirport)&&c.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 mt-2 md:mt-3 pt-2 md:pt-3 border-t border-blue-900/30",children:[y.departureAirport&&c.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-blue-300",children:[c.jsx(Hi,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400 rotate-[-45deg]"}),c.jsx("span",{className:"text-blue-400 font-medium",children:"From:"}),c.jsx("span",{className:"truncate",children:y.departureAirport})]}),y.arrivalAirport&&c.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-blue-300",children:[c.jsx(pt,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),c.jsx("span",{className:"text-blue-400 font-medium",children:"To:"}),c.jsx("span",{className:"truncate",children:y.arrivalAirport})]})]}),s&&y.backupPlan&&c.jsx(yx,{backupPlanData:y.backupPlan}),px(y)&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-900/30",children:[(j=l[y.id])==null?void 0:j.map(F=>c.jsx(dx,{boardingPass:F,segmentId:y.id,onDelete:f},F.id)),d&&c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("button",{onClick:()=>v(y),className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-amber-300 hover:text-amber-200 bg-amber-900/30 hover:bg-amber-900/50 border border-amber-700/50 rounded-lg transition-colors",children:[c.jsx(em,{className:"h-3.5 w-3.5"}),((I=l[y.id])==null?void 0:I.length)>0?"Add Another Boarding Pass":"Add Boarding Pass"]}),c.jsx("button",{onClick:()=>C(!0),className:"p-2.5 text-zinc-400 hover:text-amber-400 bg-zinc-800/50 hover:bg-zinc-700/50 border border-zinc-700 rounded-lg transition-colors",title:"How to add a boarding pass",children:c.jsx(T_,{className:"h-5 w-5"})})]})]})]},y.id)})}),c.jsx(hx,{isOpen:p,onClose:_,onSave:d,segmentId:S,flightInfo:b}),c.jsx(vx,{isOpen:z,onClose:()=>C(!1)})]})}),wx=new Dt.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Sx={Sports:"#3b82f6",Food:"#f97316",Sightseeing:"#a855f7",Shopping:"#ec4899",Logistics:"#71717a",Relaxation:"#06b6d4",Family:"#f43f5e",Rest:"#6366f1",Entertainment:"#8b5cf6",Cultural:"#ef4444",Personal:"#64748b",Transport:"#0ea5e9",Outdoor:"#22c55e",Nightlife:"#d946ef"},Zo={color:"#14b8a6",weight:3,opacity:.6,dashArray:"10, 10"},bx=(e,t="#14b8a6")=>new Dt.DivIcon({html:`
      <div style="
        background-color: ${t};
        border: 3px solid white;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: bold;
        color: white;
        box-shadow: 0 3px 6px rgba(0,0,0,0.4);
      ">
        ${e}
      </div>
    `,className:"custom-numbered-marker",iconSize:[36,36],iconAnchor:[18,18],popupAnchor:[0,-18]}),kx=(e,t)=>{const i=Math.max(e,t);return i>.1?12:i>.05?13:14},Px=e=>{if(e.length===0)return{center:[0,0],zoom:14};const t=e.map(p=>p.lat),i=e.map(p=>p.lng),o=(Math.min(...t)+Math.max(...t))/2,s=(Math.min(...i)+Math.max(...i))/2,l=Math.max(...t)-Math.min(...t),d=Math.max(...i)-Math.min(...i),f=kx(l,d);return{center:[o,s],zoom:f}},Nx=e=>e.filter(t=>{var i,o;return((i=t.coordinates)==null?void 0:i.lat)&&((o=t.coordinates)==null?void 0:o.lng)}),Cx=e=>e.map((t,i)=>({position:[t.coordinates.lat,t.coordinates.lng],name:t.name,location:t.location,category:t.category,time:t.timeStart||t.time,index:i+1})),Ex=e=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.name||`${e.coordinates.lat},${e.coordinates.lng}`)}`,Tx=e=>{if(e.length<2)return null;const t=e[0],i=e[e.length-1];let o="https://www.google.com/maps/dir/?api=1";if(o+=`&origin=${t.position[0]},${t.position[1]}`,o+=`&destination=${i.position[0]},${i.position[1]}`,e.length>2){const l=e.slice(1,-1).map(d=>`${d.position[0]},${d.position[1]}`).join("|");o+=`&waypoints=${l}`}return o};function gm({isOpen:e,onClose:t,type:i,data:o}){if(E.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const s=i==="shelter",l=i==="activities";let d=[0,0],f=14,p=[];if(s&&(o!=null&&o.coordinates)&&(d=[o.coordinates.lat,o.coordinates.lng],f=15,p=[{position:d,name:o.name,address:o.address,type:o.type}]),l&&(o!=null&&o.activities)){const P=Nx(o.activities);if(P.length>0){const z=P.map(v=>v.coordinates),{center:C,zoom:K}=Px(z);d=C,f=K,p=Cx(P)}}const S=s&&(o!=null&&o.coordinates)?Ex(o):l&&p.length>1?Tx(p):null,w=s?(o==null?void 0:o.name)||"Shelter Location":`Activity Locations (${p.length})`,b=l&&p.length>1;return c.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-2 md:p-4 bg-black/80 backdrop-blur-sm",onClick:t,children:c.jsxs("div",{className:"relative w-full max-w-5xl h-[90vh] md:h-[80vh] bg-zinc-900 rounded-xl md:rounded-2xl border border-zinc-700 overflow-hidden shadow-2xl",onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[1001] bg-zinc-900/95 backdrop-blur-sm border-b border-zinc-700 px-3 md:px-4 py-2.5 md:py-3 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0 flex-1",children:[c.jsx(pt,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm md:text-lg font-semibold text-white truncate",children:w})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[S&&c.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 md:gap-2 px-2 md:px-3 py-1 md:py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs md:text-sm font-medium rounded-lg transition-colors",children:[c.jsx(jn,{size:14,className:"md:hidden"}),c.jsx(jn,{size:16,className:"hidden md:block"}),c.jsx("span",{className:"hidden sm:inline",children:"Open in Google Maps"}),c.jsx("span",{className:"sm:hidden",children:"Maps"})]}),c.jsxs("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-zinc-700 rounded-lg transition-colors text-zinc-400 hover:text-white",children:[c.jsx(Wi,{size:18,className:"md:hidden"}),c.jsx(Wi,{size:20,className:"hidden md:block"})]})]})]}),c.jsx("div",{className:"w-full h-full pt-12 md:pt-14",children:c.jsxs(ea,{center:d,zoom:f,scrollWheelZoom:!0,dragging:!0,zoomControl:!0,attributionControl:!0,style:{height:"100%",width:"100%"},children:[c.jsx(ta,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),p.map((P,z)=>{const C=l?bx(P.index,Sx[P.category]||"#14b8a6"):wx;return c.jsx(Yr,{position:P.position,icon:C,children:c.jsx(qr,{children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-semibold text-zinc-900",children:P.name}),P.location&&c.jsx("div",{className:"text-zinc-600",children:P.location}),P.address&&c.jsx("div",{className:"text-zinc-600",children:P.address}),P.time&&c.jsxs("div",{className:"text-zinc-500 mt-1",children:[" ",P.time]}),P.category&&c.jsx("div",{className:"text-zinc-500",children:P.category}),P.type&&c.jsx("div",{className:"text-zinc-500",children:P.type})]})})},z)}),b&&c.jsx(mm,{positions:p.map(P=>P.position),color:Zo.color,weight:Zo.weight,opacity:Zo.opacity,dashArray:Zo.dashArray})]})})]})})}const zx=new Dt.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Lx=15,jx=13,Mx=2e3,Ax={Hotel:"",Airbnb:"","Personal residence":""},Ox="";function Ix(e,t,i){return`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i||`${e},${t}`)}&center=${e},${t}`}function Dx(e){return e==="Hotel"||e==="Airbnb"?Lx:jx}function Rx(e){return Ax[e]||Ox}function Fx(e){return(e==null?void 0:e.lat)!=null&&(e==null?void 0:e.lng)!=null}function Bx(e){return[e.lat,e.lng]}const vm=E.memo(function({coordinates:t,name:i,address:o,type:s}){const[l,d]=E.useState(!1),[f,p]=E.useState(!1);if(!Fx(t))return null;const g=Bx(t),S=Ix(t.lat,t.lng,i||o),w=Dx(s),b=Rx(s),P=E.useCallback(async C=>{if(C.stopPropagation(),C.preventDefault(),!o)return;const[,K]=await navigator.clipboard.writeText(o).then(()=>[void 0,null],v=>[null,v instanceof Error?v:new Error(String(v))]);if(K){console.error("Failed to copy address:",K);return}p(!0),setTimeout(()=>p(!1),Mx)},[o]),z=E.useCallback(C=>{C.stopPropagation(),d(!0)},[]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[c.jsxs("div",{className:"absolute top-3 left-3 z-[1000] bg-zinc-900/90 backdrop-blur-sm px-3 py-2 rounded-lg border border-zinc-700/50 flex items-center gap-2",children:[c.jsx(pt,{size:18,className:"text-blue-400"}),c.jsxs("span",{className:"text-sm font-medium text-zinc-200",children:[b," ",i||"Tonight's Stay"]})]}),c.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",onClick:C=>C.stopPropagation(),className:"absolute top-3 right-3 z-[1000] bg-blue-600/90 hover:bg-blue-500/90 backdrop-blur-sm px-3 py-2 rounded-lg border border-blue-500/50 flex items-center gap-2 transition-colors",children:[c.jsx(jn,{size:16,className:"text-white"}),c.jsx("span",{className:"text-sm font-medium text-white",children:"Open in Maps"})]}),o&&c.jsxs("button",{onClick:P,className:`absolute bottom-3 left-3 z-[1000] backdrop-blur-sm px-3 py-2 rounded-lg border flex items-center gap-2 transition-colors ${f?"bg-emerald-600/90 border-emerald-500/50":"bg-zinc-800/90 hover:bg-zinc-700/90 border-zinc-600/50"}`,title:f?"Copied!":"Copy address",children:[f?c.jsx(Ui,{size:16,className:"text-white"}):c.jsx(Zi,{size:16,className:"text-white"}),c.jsx("span",{className:"text-sm font-medium text-white",children:f?"Copied!":"Copy Address"})]}),c.jsx("button",{onClick:z,className:"absolute bottom-3 right-3 z-[1000] bg-zinc-800/90 hover:bg-zinc-700/90 backdrop-blur-sm p-2 rounded-lg border border-zinc-600/50 transition-colors",title:"Expand map",children:c.jsx(Xp,{size:16,className:"text-white"})}),c.jsxs(ea,{center:g,zoom:w,scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[c.jsx(ta,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),c.jsx(Yr,{position:g,icon:zx,children:c.jsx(qr,{className:"custom-popup",children:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-semibold",children:[b," ",i]}),o&&c.jsx("div",{className:"text-xs text-gray-600 mt-1",children:o}),c.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs text-blue-600 hover:text-blue-700 font-medium",children:[c.jsx(jn,{size:10}),"Open in Google Maps"]})]})})})]}),c.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-zinc-950/40 via-transparent to-transparent z-[500]"})]}),c.jsx(gm,{isOpen:l,onClose:()=>d(!1),type:"shelter",data:{coordinates:t,name:i,address:o,type:s}})]})}),Ux=2e3,Zx=e=>!e||Object.keys(e).length===0,Hx=e=>e.checkOut&&e.dayOfStay===e.totalStayDays,Wx=E.memo(function({shelter:t,isExpanded:i,onToggle:o}){const[s,l]=E.useState(!1);if(Zx(t))return null;const d=E.useCallback(async S=>{if(S.stopPropagation(),!t.address)return;const[,w]=await navigator.clipboard.writeText(t.address).then(()=>[void 0,null],b=>[null,b instanceof Error?b:new Error(String(b))]);if(w){console.error("Failed to copy address:",w);return}l(!0),setTimeout(()=>l(!1),Ux)},[t.address]),f=Hx(t),p=!!t.coordinates,g=t.isMultiDayStay&&t.dayOfStay&&t.totalStayDays;return c.jsxs("div",{className:"border border-purple-900/50 rounded-lg overflow-hidden bg-purple-950/20",children:[c.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2.5 md:py-3 hover:bg-purple-900/20 transition flex items-center justify-between bg-purple-900/30",children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.jsx(x_,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"}),c.jsx("span",{className:"text-sm md:text-base font-medium text-purple-200",children:" Shelter"})]}),i?c.jsx(ii,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"}):c.jsx($i,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"})]}),i&&c.jsxs("div",{className:"p-3 md:p-4 bg-purple-950/10 slide-down",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4",children:[c.jsxs("div",{className:"w-full md:w-[60%] min-w-0 flex flex-col gap-3 md:gap-4",children:[c.jsx("div",{children:t.name&&c.jsxs("div",{className:"mb-2 md:mb-3",children:[c.jsx("div",{className:"text-base md:text-lg font-semibold text-purple-100",children:t.name}),t.address&&c.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-purple-300 mt-1",children:[c.jsx(pt,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400"}),c.jsx("span",{className:"truncate",children:t.address}),c.jsx("button",{onClick:d,className:ve("p-1 rounded transition-colors flex-shrink-0",s?"text-emerald-400":"text-purple-400 hover:text-purple-200 hover:bg-purple-800/50"),title:s?"Copied!":"Copy address",children:s?c.jsx(Ui,{className:"h-3 w-3 md:h-3.5 md:w-3.5"}):c.jsx(Zi,{className:"h-3 w-3 md:h-3.5 md:w-3.5"})})]})]})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[t.type&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-purple-900/40 border border-purple-700/50 text-xs md:text-sm text-purple-200",children:[c.jsx(Qp,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400"}),c.jsx("span",{children:t.type})]}),t.checkIn&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-emerald-900/40 border border-emerald-700/50 text-xs md:text-sm text-emerald-200",children:[c.jsx(Xn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-emerald-400"}),c.jsxs("span",{children:["Check-in: ",t.checkIn]})]}),f&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-amber-900/40 border border-amber-700/50 text-xs md:text-sm text-amber-200",children:[c.jsx(Xn,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-amber-400"}),c.jsxs("span",{children:["Check-out: ",t.checkOut]})]}),g&&c.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-indigo-900/40 border border-indigo-700/50 text-xs md:text-sm text-indigo-200",children:[c.jsx(Yp,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-indigo-400"}),c.jsxs("span",{children:["Night ",t.dayOfStay," of ",t.totalStayDays]})]})]})]}),p&&c.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0 h-[140px]",children:c.jsx(vm,{coordinates:t.coordinates,name:t.name,address:t.address,type:t.type})})]}),t.notes&&c.jsxs("div",{className:"flex items-start gap-1.5 md:gap-2 mt-2 md:mt-3 pt-2 md:pt-3 border-t border-purple-900/30 text-xs md:text-sm text-purple-300",children:[c.jsx(A_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"italic",children:t.notes})]})]})]})}),Vx=E.memo(function({meals:t,isExpanded:i,onToggle:o}){if(!t||t.length===0)return null;const s=t.length;return c.jsxs("div",{className:"border border-amber-900/50 rounded-lg overflow-hidden bg-amber-950/20",children:[c.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2 md:py-2.5 hover:bg-amber-900/20 transition flex items-center justify-between bg-amber-900/30",children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.jsx(D_,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"}),c.jsxs("span",{className:"text-sm md:text-base font-medium text-amber-200",children:[" Meals ",c.jsxs("span",{className:"text-amber-500",children:["(",s,")"]})]})]}),i?c.jsx(ii,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"}):c.jsx($i,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"})]}),i&&c.jsx("div",{className:"divide-y divide-amber-900/30 bg-amber-950/10 slide-down",children:t.map((l,d)=>c.jsx("div",{className:"px-3 md:px-4 py-2 md:py-3",children:c.jsxs("div",{className:"flex items-start justify-between gap-2 md:gap-3",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-sm md:text-base font-medium text-amber-100",children:l.type}),l.location&&c.jsxs("div",{className:"text-xs md:text-sm text-amber-400 mt-0.5 truncate",children:[" ",l.location]}),l.details&&c.jsx("div",{className:"text-xs md:text-sm text-amber-300 mt-0.5",children:l.details})]}),l.time&&c.jsxs("div",{className:"text-xs md:text-sm text-amber-400 whitespace-nowrap flex-shrink-0",children:[" ",l.time]})]})},d))})]})}),Kx={Sports:"#3b82f6",Food:"#f97316",Sightseeing:"#a855f7",Shopping:"#ec4899",Logistics:"#71717a",Relaxation:"#06b6d4",Family:"#f43f5e",Rest:"#6366f1",Entertainment:"#8b5cf6",Cultural:"#ef4444",Personal:"#64748b",Transport:"#0ea5e9",Outdoor:"#22c55e",Nightlife:"#d946ef"},_m="#14b8a6",Ho=.01,Gx=(e,t=_m)=>new Dt.DivIcon({html:`
      <div style="
        background-color: ${t};
        border: 2px solid white;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
        color: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${e}
      </div>
    `,className:"custom-numbered-marker",iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]}),Jx=(e,t,i)=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i||`${e},${t}`)}&center=${e},${t}`,$x=e=>e.filter(t=>{var i,o;return((i=t.coordinates)==null?void 0:i.lat)&&((o=t.coordinates)==null?void 0:o.lng)}),Yx=e=>{if(!e||e.length<2)return null;const t=$x(e);if(t.length<2)return null;const i=t[0],o=t[t.length-1],s=t.slice(1,-1);let l="https://www.google.com/maps/dir/?api=1";if(l+=`&origin=${i.coordinates.lat},${i.coordinates.lng}`,l+=`&destination=${o.coordinates.lat},${o.coordinates.lng}`,s.length>0){const d=s.map(f=>`${f.coordinates.lat},${f.coordinates.lng}`).join("|");l+=`&waypoints=${d}`}return l+="&travelmode=driving",l},qx=e=>{const t=e.map(o=>o.coordinates.lat),i=e.map(o=>o.coordinates.lng);return[[Math.min(...t)-Ho,Math.min(...i)-Ho],[Math.max(...t)+Ho,Math.max(...i)+Ho]]},Qx=e=>Kx[e]||_m;function Xx({activities:e,height:t=180}){const[i,o]=E.useState(!1),s=E.useMemo(()=>(e||[]).map((S,w)=>({...S,displayIndex:w+1})).filter(S=>{var w,b;return((w=S.coordinates)==null?void 0:w.lat)&&((b=S.coordinates)==null?void 0:b.lng)}),[e]);if(s.length===0)return null;const l=E.useMemo(()=>qx(s),[s]),f=s.length===1?[s[0].coordinates.lat,s[0].coordinates.lng]:null,p=Yx(s),g=s.length;return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg border border-teal-900/50",style:{height:`${t}px`},children:[c.jsxs("div",{className:"absolute top-2 left-2 z-[1000] bg-zinc-900/90 backdrop-blur-sm px-2 py-1 rounded-lg border border-teal-700/50 flex items-center gap-1.5",children:[c.jsx(pt,{size:14,className:"text-teal-400"}),c.jsxs("span",{className:"text-xs font-medium text-teal-200",children:[" Activity Locations (",g,")"]})]}),p&&c.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),className:"absolute top-2 right-2 z-[1000] bg-teal-600/90 hover:bg-teal-500/90 backdrop-blur-sm px-2 py-1.5 rounded-lg border border-teal-500/50 flex items-center gap-1.5 transition-colors",children:[c.jsx(jn,{size:12,className:"text-white"}),c.jsx("span",{className:"text-xs font-medium text-white",children:"Route in Maps"})]}),c.jsx("button",{onClick:S=>{S.stopPropagation(),o(!0)},className:"absolute bottom-2 right-2 z-[1000] bg-zinc-800/90 hover:bg-zinc-700/90 backdrop-blur-sm p-1.5 rounded-lg border border-zinc-600/50 transition-colors",title:"Expand map",children:c.jsx(Xp,{size:14,className:"text-white"})}),c.jsx("div",{style:{height:"100%",width:"100%"},children:c.jsxs(ea,{...f?{center:f,zoom:14}:{bounds:l},scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[c.jsx(ta,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),s.map(S=>{const w=[S.coordinates.lat,S.coordinates.lng],b=Qx(S.category),P=Gx(S.displayIndex,b),z=Jx(S.coordinates.lat,S.coordinates.lng,S.location||S.name);return c.jsx(Yr,{position:w,icon:P,children:c.jsx(qr,{className:"custom-popup",children:c.jsxs("div",{className:"text-sm min-w-[180px]",children:[c.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[S.icon," ",S.name]}),S.location&&c.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[" ",S.location]}),S.timeStart&&c.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[" ",S.timeStart,S.timeEnd?` - ${S.timeEnd}`:""]}),c.jsxs("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:text-teal-700 font-medium",children:[c.jsx(jn,{size:10}),"Open in Google Maps"]})]})})},S.id||S.displayIndex)})]})}),c.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-zinc-950/30 via-transparent to-transparent z-[500]"})]}),c.jsx(gm,{isOpen:i,onClose:()=>o(!1),type:"activities",data:{activities:e}})]})}function e1({isOpen:e,onClose:t,onConfirm:i,activityName:o}){return e?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[4000] p-3 md:p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-sm",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-zinc-700",children:[c.jsxs("h2",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(rs,{size:18,className:"text-red-400"}),"Delete Activity"]}),c.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-700 rounded-lg transition-colors","aria-label":"Close dialog",children:c.jsx(Wi,{size:18,className:"text-zinc-400"})})]}),c.jsxs("div",{className:"p-3 md:p-4",children:[c.jsx("p",{className:"text-sm md:text-base text-zinc-300 mb-2",children:"Are you sure you want to delete this activity?"}),c.jsx("p",{className:"text-sm md:text-base text-white font-medium bg-zinc-800 px-3 py-2 rounded-lg border border-zinc-700 truncate",children:o}),c.jsx("p",{className:"text-xs md:text-sm text-zinc-500 mt-3",children:"This action cannot be undone."})]}),c.jsxs("div",{className:"flex gap-2 md:gap-3 p-3 md:p-4 border-t border-zinc-700",children:[c.jsx("button",{onClick:t,className:"flex-1 py-2 md:py-2.5 text-sm md:text-base bg-zinc-700 hover:bg-zinc-600 text-white font-medium rounded-lg transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:i,className:"flex-1 py-2 md:py-2.5 text-sm md:text-base bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(ei,{size:16}),"Delete"]})]})]})}):null}const Lh={high:"border-l-amber-500 bg-amber-950/20",medium:"border-l-teal-500 bg-teal-950/10",low:"border-l-zinc-600 bg-zinc-900/20"},t1={Sports:"bg-blue-900/40 text-blue-300 border-blue-700/50",Food:"bg-orange-900/40 text-orange-300 border-orange-700/50",Sightseeing:"bg-purple-900/40 text-purple-300 border-purple-700/50",Shopping:"bg-pink-900/40 text-pink-300 border-pink-700/50",Logistics:"bg-zinc-800/60 text-zinc-300 border-zinc-600/50",Relaxation:"bg-cyan-900/40 text-cyan-300 border-cyan-700/50",Family:"bg-rose-900/40 text-rose-300 border-rose-700/50",Rest:"bg-indigo-900/40 text-indigo-300 border-indigo-700/50",Entertainment:"bg-violet-900/40 text-violet-300 border-violet-700/50",Cultural:"bg-red-900/40 text-red-300 border-red-700/50",Personal:"bg-slate-900/40 text-slate-300 border-slate-600/50",Transport:"bg-sky-900/40 text-sky-300 border-sky-700/50",Outdoor:"bg-green-900/40 text-green-300 border-green-700/50",Nightlife:"bg-fuchsia-900/40 text-fuchsia-300 border-fuchsia-700/50"},n1="bg-zinc-800 text-zinc-300 border-zinc-600/50",i1=2e3,r1=e=>{var i,o;const t=encodeURIComponent(e.location||e.name);return(i=e.coordinates)!=null&&i.lat&&((o=e.coordinates)!=null&&o.lng)?`https://www.google.com/maps/search/?api=1&query=${t}&center=${e.coordinates.lat},${e.coordinates.lng}`:`https://www.google.com/maps/search/?api=1&query=${t}`},o1=e=>{const t=e===1?100:e===2?200:300,i=e>=3;return{containerHeight:t,needsScrolling:i}},s1=e=>Lh[e]||Lh.medium,jh=e=>t1[e]||n1,a1=(e,t)=>t.includes(e.id),l1=E.memo(function({items:t,isExpanded:i,onToggle:o,manualActivityIds:s=[],onRemoveActivity:l,onEditActivity:d}){var z;const[f,p]=E.useState({isOpen:!1,activity:null}),[g,S]=E.useState(null),w=E.useCallback(async(C,K)=>{if(C.stopPropagation(),!K.location)return;const[,v]=await navigator.clipboard.writeText(K.location).then(()=>[void 0,null],_=>[null,_ instanceof Error?_:new Error(String(_))]);if(v){console.error("Failed to copy location:",v);return}S(K.id),setTimeout(()=>S(null),i1)},[]),b=E.useCallback((C,K)=>{C.stopPropagation(),p({isOpen:!0,activity:K})},[]),P=E.useCallback(()=>{f.activity&&l&&l(f.activity.id),p({isOpen:!1,activity:null})},[f.activity,l]);return!t||t.length===0?null:c.jsxs("div",{className:"border border-teal-900/50 rounded-lg overflow-hidden bg-teal-950/20",children:[c.jsxs("button",{onClick:o,className:"w-full px-4 py-3.5 md:py-3 hover:bg-teal-900/20 transition flex items-center justify-between bg-teal-900/30 min-h-[48px]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(pt,{className:"h-5 w-5 text-teal-400"}),c.jsxs("span",{className:"text-sm md:text-base font-medium text-teal-200",children:[" Activities ",c.jsxs("span",{className:"text-teal-500",children:["(",t.length,")"]})]})]}),c.jsx("div",{className:"p-1",children:i?c.jsx(ii,{className:"h-5 w-5 text-teal-400"}):c.jsx($i,{className:"h-5 w-5 text-teal-400"})})]}),i&&(()=>{const{containerHeight:C,needsScrolling:K}=o1(t.length);return c.jsx("div",{className:"p-3 md:p-4 bg-teal-950/10 slide-down",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4",children:[c.jsx("div",{className:`w-full md:w-[60%] min-w-0 space-y-2.5 md:space-y-2 md:pr-2 ${K?"overflow-y-auto":""}`,style:K?{maxHeight:"350px"}:{},children:t.map((v,_)=>{const y=a1(v,s),j=s1(v.priority),I=r1(v),F=_+1;return c.jsxs("div",{className:ve("rounded-lg relative","md:px-4 md:py-3 md:border-l-3","border border-teal-800/50 md:border-0 md:border-l-3",j,y&&"ring-1 ring-blue-700/50"),children:[c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-center gap-2.5 p-3 pb-2.5 border-b border-teal-800/30",children:[c.jsx("span",{className:"text-sm font-bold bg-teal-600 text-white w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0",children:F}),v.icon&&c.jsx("span",{className:"text-xl",children:v.icon}),c.jsx("span",{className:"flex-1 font-semibold text-teal-100 text-sm truncate",children:v.name}),(v.timeStart||v.time)&&c.jsx("span",{className:"text-xs text-teal-300 bg-teal-900/60 px-2.5 py-1 rounded-full flex-shrink-0",children:v.timeStart||v.time})]}),c.jsxs("div",{className:"p-3 pt-2.5 space-y-2.5",children:[v.location&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pt,{className:"h-4 w-4 text-teal-400 flex-shrink-0"}),c.jsx("span",{className:"text-xs text-teal-300 flex-1 truncate",children:v.location}),c.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"p-2 -m-1 text-teal-500 flex items-center justify-center flex-shrink-0 min-w-[44px] min-h-[44px]",onClick:D=>D.stopPropagation(),children:c.jsx(jn,{size:18})})]}),c.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[v.category&&c.jsx("span",{className:ve("text-[11px] px-2.5 py-1 rounded-full border",jh(v.category)),children:v.category}),v.estimatedCost&&c.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full bg-amber-900/40 text-amber-300 border border-amber-700/50",children:[" ",v.estimatedCost.toLocaleString()," ",v.currency]}),y&&c.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-full bg-blue-900/40 text-blue-300 border border-blue-700/50",children:" Manual"})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-1 px-2 pb-2",children:[c.jsx("button",{onClick:D=>w(D,v),className:ve("p-2.5 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",g===v.id?"text-emerald-400 bg-emerald-900/30":"text-teal-400 bg-teal-900/30 active:bg-teal-800/50"),children:g===v.id?c.jsx(Ui,{size:20}):c.jsx(Zi,{size:20})}),d&&c.jsx("button",{onClick:D=>{D.stopPropagation(),d(v)},className:"p-2.5 rounded-lg bg-amber-900/40 text-amber-300 active:bg-amber-800/50 min-w-[44px] min-h-[44px] flex items-center justify-center",children:c.jsx(bh,{size:20})}),l&&c.jsx("button",{onClick:D=>b(D,v),className:"p-2.5 rounded-lg bg-red-900/40 text-red-300 active:bg-red-800/50 min-w-[44px] min-h-[44px] flex items-center justify-center",children:c.jsx(ei,{size:20})})]})]}),c.jsxs("div",{className:"hidden md:block",children:[c.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 z-10",children:[d&&c.jsx("button",{onClick:D=>{D.stopPropagation(),d(v)},className:"p-1.5 rounded-md bg-amber-900/50 hover:bg-amber-700/50 text-amber-300 transition-colors",title:"Edit activity",children:c.jsx(bh,{size:14})}),l&&c.jsx("button",{onClick:D=>b(D,v),className:"p-1.5 rounded-md bg-red-900/50 hover:bg-red-700/50 text-red-300 transition-colors",title:"Delete activity",children:c.jsx(ei,{size:14})})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[c.jsx("span",{className:"text-sm font-bold bg-teal-700/60 text-teal-100 w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0",children:F}),v.icon&&c.jsx("span",{className:"text-lg",children:v.icon}),c.jsx("span",{className:"text-base font-medium text-teal-100 truncate",children:v.name})]}),(v.timeStart||v.time)&&c.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-teal-900/40 border border-teal-700/50 text-sm text-teal-200 flex-shrink-0",children:[c.jsx(Xn,{className:"h-3.5 w-3.5 text-teal-400"}),c.jsxs("span",{children:[v.timeStart||v.time,v.timeEnd&&`  ${v.timeEnd}`]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[v.category&&c.jsx("span",{className:ve("text-sm px-2.5 py-1 rounded-full border",jh(v.category)),children:v.category}),y&&c.jsx("span",{className:"text-sm px-2.5 py-1 rounded-full bg-blue-900/40 text-blue-300 border border-blue-700/50",children:" Manual"}),v.estimatedCost&&c.jsxs("span",{className:"flex items-center gap-1 text-sm px-2.5 py-1 rounded-full bg-amber-900/40 text-amber-300 border border-amber-700/50",children:[c.jsx(qp,{className:"h-3.5 w-3.5"}),v.estimatedCost.toLocaleString()," ",v.currency]})]}),v.location&&c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(pt,{className:"h-4 w-4 text-teal-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-teal-300 truncate",children:v.location}),c.jsx("button",{onClick:D=>w(D,v),className:ve("p-1 rounded transition-colors flex-shrink-0",g===v.id?"text-emerald-400":"text-teal-500 hover:text-teal-300 hover:bg-teal-800/50"),title:g===v.id?"Copied!":"Copy location",children:g===v.id?c.jsx(Ui,{size:14}):c.jsx(Zi,{size:14})}),c.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-teal-500 hover:text-teal-300 transition-colors flex-shrink-0",onClick:D=>D.stopPropagation(),children:c.jsx(jn,{size:14})})]})]})]},v.id||_)})}),c.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",style:{height:`${C}px`},children:c.jsx(Xx,{activities:t,height:C})})]})})})(),c.jsx(e1,{isOpen:f.isOpen,onClose:()=>p({isOpen:!1,activity:null}),onConfirm:P,activityName:((z=f.activity)==null?void 0:z.name)||""})]})});function u1(e){return e.toLocaleString()}function c1(e){return e.join("/")}function d1(e,t){return e>0&&t&&t.length>0}function h1(e){return e&&e.length>0}function f1(e,t){return e&&t>0}function p1({day:e}){if(!e.metadata)return null;const{hasTravel:t,locationFlags:i,estimatedCost:o,costCurrencies:s,unbootedCount:l,hasUnbooked:d}=e.metadata;return c.jsxs("div",{className:"flex items-center gap-4 flex-wrap mt-2",children:[t&&c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-blue-800/50 border border-blue-600/60",children:[c.jsx(Hi,{className:"h-5 w-5 text-blue-300"}),c.jsx("span",{className:"text-base font-medium text-blue-200",children:"Travel Day"})]}),h1(i)&&c.jsx("div",{className:"flex items-center gap-3",children:i.map((f,p)=>c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-purple-800/40 border border-purple-600/50",children:[c.jsx(pt,{className:"h-5 w-5 text-purple-300"}),c.jsx("span",{className:"text-base font-medium text-purple-200",children:f})]},p))}),d1(o,s)&&c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-amber-800/50 border border-amber-600/60",children:[c.jsx(qp,{className:"h-5 w-5 text-amber-300"}),c.jsxs("span",{className:"text-base font-medium text-amber-200",children:[u1(o),c.jsx("span",{className:"ml-1 text-amber-300",children:c1(s)})]})]}),f1(d,l)&&c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-red-800/50 border border-red-600/60",children:[c.jsx($r,{className:"h-5 w-5 text-red-300"}),c.jsxs("span",{className:"text-base font-medium text-red-200",children:[l," to book"]})]})]})}const ym=[{value:"Food",icon:""},{value:"Shopping",icon:""},{value:"Sightseeing",icon:""},{value:"Entertainment",icon:""},{value:"Cultural",icon:""},{value:"Personal",icon:""},{value:"Transport",icon:""},{value:"Outdoor",icon:""},{value:"Nightlife",icon:""},{value:"Relaxation",icon:""}],m1=["high","medium","low"],g1=["USD","PHP","JPY"],al={name:"",timeStart:"",timeEnd:"",location:"",category:"Sightseeing",icon:"",priority:"medium",notes:"",estimatedCost:"",currency:"JPY"};function v1(e){const t=ym.find(i=>i.value===e);return(t==null?void 0:t.icon)||null}function _1(e,t){return e&&t?`${e} - ${t}`:e||""}function y1(){return`manual-${Date.now()}`}function x1(e,t){return{id:t||y1(),name:e.name,timeStart:e.timeStart,timeEnd:e.timeEnd,location:e.location,category:e.category,icon:e.icon,priority:e.priority,notes:e.notes,estimatedCost:e.estimatedCost?parseFloat(e.estimatedCost):null,currency:e.currency,time:_1(e.timeStart,e.timeEnd)}}function w1(e){return{name:e.name||"",timeStart:e.timeStart||"",timeEnd:e.timeEnd||"",location:e.location||"",category:e.category||"Sightseeing",icon:e.icon||"",priority:e.priority||"medium",notes:e.notes||"",estimatedCost:e.estimatedCost?String(e.estimatedCost):"",currency:e.currency||"JPY"}}function S1(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b1({isOpen:e,onClose:t,onAdd:i,onUpdate:o,date:s,editingActivity:l=null}){const[d,f]=E.useState(al),p=!!l;E.useEffect(()=>{f(l?w1(l):al)},[l,e]);const g=w=>{const{name:b,value:P}=w.target;f(z=>{const C={...z,[b]:P};if(b==="category"){const K=v1(P);K&&(C.icon=K)}return C})},S=w=>{w.preventDefault();const b=x1(d,p?l.id:null);p&&o?o(b,s):i(b,s),f(al),t()};return e?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[3000] p-2 md:p-4",children:c.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-md max-h-[95vh] md:max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-zinc-700 sticky top-0 bg-zinc-900 z-10",children:[c.jsx("h2",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:p?c.jsxs(c.Fragment,{children:[c.jsx(kh,{size:18,className:"text-amber-400"}),"Edit Activity"]}):c.jsxs(c.Fragment,{children:[c.jsx(tu,{size:18,className:"text-blue-400"}),"Add Activity"]})}),c.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-700 rounded-lg transition-colors",children:c.jsx(Wi,{size:20,className:"text-zinc-400"})})]}),c.jsxs("form",{onSubmit:S,className:"p-3 md:p-4 space-y-3 md:space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Activity Name *"}),c.jsx("input",{type:"text",name:"name",value:d.name,onChange:g,required:!0,placeholder:"e.g., Visit Senso-ji Temple",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Start Time"}),c.jsx("input",{type:"text",name:"timeStart",value:d.timeStart,onChange:g,placeholder:"9:00 AM",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"End Time"}),c.jsx("input",{type:"text",name:"timeEnd",value:d.timeEnd,onChange:g,placeholder:"11:00 AM",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Location"}),c.jsx("input",{type:"text",name:"location",value:d.location,onChange:g,placeholder:"e.g., Asakusa, Tokyo",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Category"}),c.jsx("select",{name:"category",value:d.category,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:ym.map(w=>c.jsxs("option",{value:w.value,children:[w.icon," ",w.value]},w.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Priority"}),c.jsx("select",{name:"priority",value:d.priority,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:m1.map(w=>c.jsx("option",{value:w,children:S1(w)},w))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Icon (emoji)"}),c.jsx("input",{type:"text",name:"icon",value:d.icon,onChange:g,placeholder:"",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Estimated Cost"}),c.jsx("input",{type:"number",name:"estimatedCost",value:d.estimatedCost,onChange:g,placeholder:"0",min:"0",step:"0.01",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Currency"}),c.jsx("select",{name:"currency",value:d.currency,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:g1.map(w=>c.jsx("option",{value:w,children:w},w))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Notes / Tips"}),c.jsx("textarea",{name:"notes",value:d.notes,onChange:g,placeholder:"Any additional details...",rows:3,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500 resize-none"})]}),c.jsx("button",{type:"submit",className:`w-full py-2 md:py-2.5 text-sm md:text-base ${p?"bg-amber-600 hover:bg-amber-500":"bg-blue-600 hover:bg-blue-500"} text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2`,children:p?c.jsxs(c.Fragment,{children:[c.jsx(kh,{size:16}),"Save Changes"]}):c.jsxs(c.Fragment,{children:[c.jsx(tu,{size:16}),"Add Activity"]})})]})]})}):null}const k1=[],pn={travel:"travel",shelter:"shelter",meals:"meals",activities:"activities"},Wo={US:{flag:"",label:"US",bg:"bg-blue-900/40",border:"border-blue-700/50",text:"text-blue-300"},PH:{flag:"",label:"PH",bg:"bg-yellow-900/40",border:"border-yellow-700/50",text:"text-yellow-300"},JP:{flag:"",label:"JP",bg:"bg-red-900/40",border:"border-red-700/50",text:"text-red-300"}},P1=2e3;function xm(e,t){return t==="US"||e!=null&&e.includes("ET")||e!=null&&e.includes("PT")||e!=null&&e.includes("MT")?Wo.US:t==="JP"||e!=null&&e.includes("JST")?Wo.JP:t==="PH"||e!=null&&e.includes("PHT")?Wo.PH:Wo.US}function N1(e,t){return`${e}:${t}`}function C1(e,t,i){return[...(e||[]).filter(s=>!i.includes(s.id)),...t]}function E1(e){return e.map(t=>t.id)}function T1(e){switch(e){case"BOOKED":return"";case"TO_BOOK":return"";default:return""}}function z1(e){var o,s,l,d;const t=[],i=xm(e.timezone,e.tz);if(t.push(` ${e.dateDisplay} ${i.flag}`),t.push(` ${e.summary}`),e.isInFlight&&t.push(" In Flight (crossing date line)"),t.push(""),e.metadata){const f=e.metadata;f.hasTravel&&t.push(" Travel Day"),((o=f.locationFlags)==null?void 0:o.length)>0&&t.push(` Locations: ${f.locationFlags.join(", ")}`),f.estimatedCost>0&&t.push(` Est. Cost: ${f.estimatedCost.toLocaleString()} ${(s=f.costCurrencies)==null?void 0:s.join("/")}`),f.hasUnbooked&&t.push(` ${f.unbootedCount} item(s) to book`),(f.hasTravel||f.estimatedCost>0||f.hasUnbooked)&&t.push("")}return((l=e.travel)==null?void 0:l.length)>0&&(t.push(" TRAVEL:"),e.travel.forEach(f=>{const p=T1(f.status);if(t.push(`  ${p} ${f.route||f.location||"Transit"}`),f.timeStart){const g=f.timeEnd?`${f.timeStart}  ${f.timeEnd}`:f.timeStart;t.push(`      ${g}`)}f.details&&t.push(`     ${f.details}`),f.flightNumber&&t.push(`     Flight: ${f.flightNumber} (${f.airline||""})`)}),t.push("")),e.shelter&&(t.push(" ACCOMMODATION:"),t.push(`  ${e.shelter.name||"TBD"}`),e.shelter.address&&t.push(`   ${e.shelter.address}`),e.shelter.notes&&t.push(`   ${e.shelter.notes}`),t.push("")),((d=e.activities)==null?void 0:d.length)>0&&(t.push(" ACTIVITIES:"),e.activities.forEach(f=>{if(t.push(`   ${f.details||f.name||"Activity"}`),f.timeStart){const p=f.timeEnd?`${f.timeStart} - ${f.timeEnd}`:f.timeStart;t.push(`     ${p}`)}}),t.push("")),t.join(`
`)}const L1=E.memo(function({day:t,isExpanded:i,onToggle:o,expandedSections:s,onToggleSection:l,showBackupPlans:d,manualActivities:f,deletedActivityIds:p,onAddActivity:g,onRemoveActivity:S,onUpdateActivity:w,todayDateKey:b,boardingPasses:P,onAddBoardingPass:z,onDeleteBoardingPass:C}){var ae,T;const[K,v]=E.useState(!1),[_,y]=E.useState(!1),[j,I]=E.useState(null),F=E.useMemo(()=>C1(t.activities,f,p),[t.activities,f,p]),D=E.useMemo(()=>f.length>0?E1(f):k1,[f]),H=E.useMemo(()=>xm(t.timezone,t.tz),[t.timezone,t.tz]),Z=t.dateKey===b,R=E.useCallback(W=>{const A=N1(t.dateKey,W);return s.has(A)},[t.dateKey,s]),J=E.useCallback(async W=>{W.stopPropagation();const A=z1(t),[,$]=await navigator.clipboard.writeText(A).then(()=>[void 0,null],le=>[null,le instanceof Error?le:new Error(String(le))]);if($){console.error("Failed to copy:",$);return}v(!0),setTimeout(()=>v(!1),P1)},[t]),q=E.useCallback(W=>{g==null||g(W,t.dateKey)},[g,t.dateKey]),me=E.useCallback(W=>{w==null||w(W,t.dateKey)},[w,t.dateKey]),fe=E.useCallback(W=>{S==null||S(W,t.dateKey)},[S,t.dateKey]),te=E.useCallback(W=>{I(W),y(!0)},[]),re=E.useCallback(()=>{y(!1),I(null)},[]);return c.jsxs("div",{id:`day-${t.dateKey}`,className:ve("rounded-xl md:rounded-2xl border",Z&&"ring-2 ring-blue-500 ring-offset-2 md:ring-offset-4 ring-offset-zinc-950",(ae=t.metadata)!=null&&ae.hasUnbooked?"border-red-600/80 bg-zinc-900 shadow-lg shadow-red-900/30":"border-zinc-700 bg-zinc-900"),children:[c.jsxs("div",{onClick:o,className:"flex flex-col md:flex-row cursor-pointer hover:bg-zinc-800/30 transition md:min-h-[400px]",children:[c.jsxs("div",{className:"w-full md:w-[60%] p-4 md:p-8 flex flex-col justify-between",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-0",children:[c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[i?c.jsx(ii,{className:"h-6 w-6 md:h-9 md:w-9 text-zinc-300"}):c.jsx($i,{className:"h-6 w-6 md:h-9 md:w-9 text-zinc-300"}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-wrap",children:[c.jsx("span",{className:"font-bold text-lg md:text-2xl text-white",children:t.dateDisplay}),Z&&c.jsx("span",{className:"px-2 py-1 md:px-4 md:py-2 text-xs md:text-base font-bold bg-blue-500 text-white rounded-full",children:"TODAY"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.jsx("button",{onClick:J,className:ve("p-2 md:p-3 rounded-lg border transition-all",K?"bg-emerald-800/60 border-emerald-500/60 text-emerald-300":"bg-zinc-800 border-zinc-600 text-zinc-300 hover:bg-zinc-700 hover:text-white"),title:K?"Copied!":"Copy day itinerary",children:K?c.jsx(Ui,{className:"h-4 w-4 md:h-5 md:w-5"}):c.jsx(Zi,{className:"h-4 w-4 md:h-5 md:w-5"})}),c.jsxs("div",{className:ve("flex items-center gap-1.5 md:gap-2 px-2 py-1 md:px-4 md:py-2 rounded-lg border text-xs md:text-base font-semibold",H.bg,H.border,H.text),children:[c.jsx("span",{className:"text-sm md:text-lg",children:H.flag}),c.jsx("span",{className:"hidden sm:inline",children:t.timezone})]})]})]}),c.jsxs("div",{className:"text-sm md:text-lg text-zinc-300 my-3 md:my-0",children:[t.summary,t.isInFlight&&c.jsx("span",{className:"ml-2 text-sky-400 font-medium",children:" In Flight"})]}),c.jsx(p1,{day:t})]}),((T=t.shelter)==null?void 0:T.coordinates)&&c.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",children:c.jsx(vm,{coordinates:t.shelter.coordinates,name:t.shelter.name,address:t.shelter.address,type:t.shelter.type})})]}),i&&c.jsxs("div",{className:"border-t border-zinc-700 p-3 md:p-5 space-y-3 md:space-y-5 slide-down",children:[c.jsx(xx,{items:t.travel,isExpanded:R(pn.travel),onToggle:()=>l(pn.travel),showBackupPlans:d,boardingPasses:P,onAddBoardingPass:z,onDeleteBoardingPass:C}),t.shelter&&c.jsx(Wx,{shelter:t.shelter,isExpanded:R(pn.shelter),onToggle:()=>l(pn.shelter)}),c.jsx(Vx,{items:t.meals,isExpanded:R(pn.meals),onToggle:()=>l(pn.meals)}),c.jsx(l1,{items:F,isExpanded:R(pn.activities),onToggle:()=>l(pn.activities),manualActivityIds:D,onRemoveActivity:fe,onEditActivity:te}),c.jsxs("button",{onClick:()=>y(!0),className:"w-full py-2 px-3 md:px-4 border-2 border-dashed border-zinc-700 hover:border-blue-500 rounded-xl text-sm md:text-base text-zinc-400 hover:text-blue-400 transition-colors flex items-center justify-center gap-2",children:[c.jsx(tu,{size:16,className:"md:w-[18px] md:h-[18px]"}),"Add Activity"]})]}),c.jsx(b1,{isOpen:_,onClose:re,onAdd:q,onUpdate:me,date:t.dateKey,editingActivity:j})]})}),yn=1,ji=2,Mi=3,j1=".json";function M1(e){return!e||typeof e!="object"?[null,new Error("Invalid JSON structure")]:!e.trips||!Array.isArray(e.trips)?[null,new Error('JSON must contain a "trips" array')]:[!0,null]}function A1(e){return(e==null?void 0:e.endsWith(j1))??!1}function O1(e){var t;return((t=e==null?void 0:e.trips)==null?void 0:t.length)??0}function I1(e,t){const i="border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all";return e?ve(i,"border-blue-500 bg-blue-500/10"):t?ve(i,"border-emerald-500 bg-emerald-500/10"):ve(i,"border-zinc-700 hover:border-zinc-500 hover:bg-zinc-800/50")}function D1(e){switch(e){case yn:return c.jsx(Ms,{className:"h-8 w-8 text-white"});case ji:return c.jsx(ec,{className:"h-8 w-8 text-white animate-spin"});case Mi:return c.jsx(js,{className:"h-8 w-8 text-white"});default:return c.jsx(Ms,{className:"h-8 w-8 text-white"})}}function R1(e){switch(e){case yn:return"Upload Itinerary ";case ji:return"Setting Up...";case Mi:return"All Set! ";default:return"Upload Itinerary "}}function F1(e){switch(e){case yn:return"Import your travel itinerary JSON file";case ji:return"Importing your trip data";case Mi:return"Your itinerary is ready to go";default:return"Import your travel itinerary JSON file"}}function B1({isDialogOpen:e,onConfirmReset:t,onCancelReset:i,isResetInProgress:o}){return e?c.jsx("div",{className:"fixed inset-0 z-[6000] flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm",children:c.jsx("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl max-w-sm w-full overflow-hidden",children:c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("div",{className:"p-3 bg-red-500/20 rounded-full",children:c.jsx(ei,{className:"h-8 w-8 text-red-400"})})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Reset All Data?"}),c.jsx("p",{className:"text-zinc-400 text-sm",children:"This will permanently delete all your itinerary data from this browser. You'll need to upload your JSON file again."})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{onClick:i,disabled:o,className:"flex-1 py-2.5 px-4 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 font-medium rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:t,disabled:o,className:"flex-1 py-2.5 px-4 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx(ec,{className:"h-4 w-4 animate-spin"}),"Resetting..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ei,{className:"h-4 w-4"}),"Reset"]})})]})]})})}):null}function U1({onComplete:e,onImportJson:t,onReset:i}){const[o,s]=E.useState(yn),[l,d]=E.useState(null),[f,p]=E.useState(null),[g,S]=E.useState(null),[w,b]=E.useState(null),[P,z]=E.useState(!1),[C,K]=E.useState(!1),[v,_]=E.useState(!1),y=E.useRef(null),j=async te=>{if(d(null),!te)return;if(!A1(te.name)){d("Please upload a JSON file");return}const[re,ae]=await te.text().then($=>[$,null],$=>[null,$ instanceof Error?$:new Error(String($))]);if(ae){d("Failed to read file");return}const[T,W]=(()=>{try{return[JSON.parse(re),null]}catch($){return[null,$ instanceof Error?$:new Error("Invalid JSON")]}})();if(W){d("Invalid JSON format. Please check your file.");return}const[,A]=M1(T);if(A){d(A.message);return}S(T),b(te.name)},I=te=>{var ae;const re=(ae=te.target.files)==null?void 0:ae[0];re&&j(re)},F=te=>{te.preventDefault(),te.stopPropagation(),z(!0)},D=te=>{te.preventDefault(),te.stopPropagation()},H=te=>{te.preventDefault(),te.stopPropagation(),!te.currentTarget.contains(te.relatedTarget)&&z(!1)},Z=te=>{var ae;te.preventDefault(),te.stopPropagation(),z(!1);const re=(ae=te.dataTransfer.files)==null?void 0:ae[0];re&&j(re)},R=async()=>{if(!g){d("Please upload a JSON file first");return}s(ji),d(null);const[te,re]=await t(g);if(re){d(re.message),s(yn);return}p(te),s(Mi)},J=async()=>{if(!i)return;_(!0);const[,te]=await i();if(te){d("Failed to reset: "+te.message),_(!1);return}s(yn),S(null),b(null),p(null),d(null),K(!1),_(!1)},q=g!==null,me=O1(g),fe=I1(P,q);return c.jsxs("div",{className:"fixed inset-0 z-[5000] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:[c.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[c.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 p-6 text-center overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-white/10 rounded-full blur-xl animate-pulse"}),c.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse delay-300"}),c.jsx(Hi,{className:"absolute top-4 right-8 h-6 w-6 text-white/20 animate-bounce"}),c.jsx(pt,{className:"absolute bottom-4 left-8 h-5 w-5 text-white/20 animate-bounce delay-150"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"flex justify-center mb-3",children:c.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:D1(o)})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:R1(o)}),c.jsx("p",{className:"text-white/80 text-sm",children:F1(o)})]})]}),c.jsxs("div",{className:"p-6",children:[o===yn&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-zinc-300 text-sm leading-relaxed",children:"Upload your travel itinerary JSON file to get started. Your data stays private and is stored only in your browser."}),c.jsxs("div",{onClick:()=>{var te;return(te=y.current)==null?void 0:te.click()},onDragEnter:F,onDragOver:D,onDragLeave:H,onDrop:Z,className:fe,children:[c.jsx("input",{ref:y,type:"file",accept:".json",onChange:I,className:"hidden"}),q?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-emerald-500/20 rounded-full",children:c.jsx(N_,{className:"h-6 w-6 text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-emerald-400 font-medium",children:w}),c.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[me," trips found  Click to change"]})]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-zinc-800 rounded-full",children:c.jsx(C_,{className:"h-6 w-6 text-zinc-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-zinc-300 font-medium",children:"Drop your JSON file here"}),c.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"or click to browse"})]})]})]}),c.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg shrink-0",children:c.jsx(wh,{className:"h-4 w-4 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-zinc-200",children:"Private & Local"}),c.jsx("div",{className:"text-xs text-zinc-400",children:"Data never leaves your device"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg shrink-0",children:c.jsx(Yp,{className:"h-4 w-4 text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-zinc-200",children:"Add Activities"}),c.jsx("div",{className:"text-xs text-zinc-400",children:"Customize your plans anytime"})]})]})]}),l&&c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:[c.jsx($r,{className:"h-4 w-4 text-red-400 shrink-0"}),c.jsx("span",{className:"text-sm text-red-300",children:l})]}),c.jsxs("button",{onClick:R,disabled:!q,className:ve("w-full py-3 px-4 font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2",q?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white shadow-lg shadow-blue-500/25":"bg-zinc-800 text-zinc-500 cursor-not-allowed"),children:[c.jsx(Ms,{className:"h-4 w-4"}),"Import Itinerary"]})]}),o===ji&&c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsx("div",{className:"flex flex-col items-center",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-zinc-700 border-t-blue-500 rounded-full animate-spin"}),c.jsx(wh,{className:"absolute inset-0 m-auto h-6 w-6 text-zinc-400"})]})}),c.jsxs("div",{className:"text-center space-y-1",children:[c.jsx("p",{className:"text-zinc-300 text-sm",children:"Importing your trip data..."}),c.jsx("p",{className:"text-zinc-500 text-xs",children:"Setting up local database"})]}),c.jsx("div",{className:"flex justify-center gap-1",children:[0,1,2].map(te=>c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:`${te*150}ms`}},te))})]}),o===Mi&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-500/20 rounded-full mb-3",children:c.jsx(js,{className:"h-8 w-8 text-emerald-400"})}),c.jsx("p",{className:"text-zinc-300 text-sm",children:"Your itinerary has been set up successfully!"})]}),f&&c.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 grid grid-cols-3 gap-3 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-400",children:f.trips||0}),c.jsx("div",{className:"text-xs text-zinc-500",children:"Trips"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f.segments||0}),c.jsx("div",{className:"text-xs text-zinc-500",children:"Segments"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:f.days||0}),c.jsx("div",{className:"text-xs text-zinc-500",children:"Days"})]})]}),c.jsxs("button",{onClick:e,className:"w-full py-3 px-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/25",children:[c.jsx(Hi,{className:"h-4 w-4"}),"Start Exploring"]})]})]}),c.jsxs("div",{className:"px-6 pb-4 space-y-3",children:[c.jsx("div",{className:"flex justify-center gap-2",children:[yn,ji,Mi].map(te=>c.jsx("div",{className:ve("w-2 h-2 rounded-full transition-all duration-300",o>=te?"bg-blue-500 w-4":"bg-zinc-700")},te))}),i&&c.jsxs("button",{onClick:()=>K(!0),className:"w-full py-2 px-3 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[c.jsx(ei,{className:"h-3 w-3"}),"Reset All Data"]})]})]}),c.jsx(B1,{isDialogOpen:C,onConfirmReset:J,onCancelReset:()=>K(!1),isResetInProgress:v})]})}function Mh(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Z1(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{weekday:"short"})}const H1=E.memo(function({days:t,todayDateKey:i,expandedDayKeys:o,onDateClick:s}){const l=E.useCallback(f=>{s(f),setTimeout(()=>{const p=document.getElementById(`day-${f}`);p&&p.scrollIntoView({behavior:"smooth",block:"start"})},50)},[s]),d=E.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);return c.jsxs("div",{className:"fixed right-4 top-4 bottom-4 z-40 hidden lg:flex flex-col overflow-hidden",children:[c.jsxs("button",{onClick:d,className:ve("flex items-center justify-center gap-2 px-3 py-2 mb-2 rounded-lg transition-all duration-200","bg-zinc-900/80 border border-zinc-800 text-zinc-400","hover:bg-zinc-800/90 hover:text-zinc-100 hover:border-zinc-600","focus:outline-none focus:ring-2 focus:ring-blue-500/50"),title:"Scroll to top",children:[c.jsx(Qp,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),c.jsx("div",{className:"text-xs text-zinc-500 text-center mb-2 font-medium",children:"Dates"}),c.jsx("div",{className:"flex flex-col gap-1 flex-1 overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-transparent",children:t.map((f,p)=>{const g=f.dateKey===i,S=o.has(f.dateKey);return c.jsxs("button",{onClick:()=>l(f.dateKey),className:ve("group relative flex items-center gap-2 px-3 py-2 rounded-lg text-right transition-all duration-200","hover:bg-zinc-800/90 hover:shadow-lg hover:shadow-black/20","focus:outline-none focus:ring-2 focus:ring-blue-500/50",g?"bg-blue-600/20 border border-blue-500/50 text-blue-300":S?"bg-zinc-800/80 border border-zinc-600 text-zinc-200":"bg-zinc-900/80 border border-zinc-800 text-zinc-400 hover:text-zinc-100"),title:`Day ${p+1}: ${f.dateDisplay||Mh(f.dateKey)}`,children:[c.jsx("span",{className:ve("text-[10px] font-bold min-w-[20px] h-5 flex items-center justify-center rounded",g?"bg-blue-500/30 text-blue-200":S?"bg-zinc-700 text-zinc-300":"bg-zinc-800 text-zinc-500 group-hover:bg-zinc-700 group-hover:text-zinc-300"),children:p+1}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:ve("text-xs font-medium transition-all duration-200","group-hover:font-semibold"),children:Mh(f.dateKey)}),c.jsx("span",{className:ve("text-[10px] transition-all duration-200",g?"text-blue-400/70":"text-zinc-500"),children:Z1(f.dateKey)})]}),g&&c.jsx("span",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]},f.dateKey)})}),c.jsx("div",{className:"text-[10px] text-zinc-600 text-center mt-2",children:"Click to jump"})]})}),W1={USD:1,PHP:.018,JPY:.0067},V1="manual-",Ah=[];function Vo(e,t){const i=W1[t]||1;return e*i}function K1(e){return(e==null?void 0:e.startsWith(V1))??!1}function G1(e){return`shelter-${e.name}-${e.estimatedCost}`}function J1(e,t){return e.id||`activity-${t}-${e.name}`}function Oh(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function $1(e){if(e.length===0)return"";const t=e[0],i=e[e.length-1];return`${Oh(t.dateKey)}  ${Oh(i.dateKey)}`}function Y1(e,t){if(!t.trim())return e;const i=t.toLowerCase();return e.filter(o=>o.dateDisplay.toLowerCase().includes(i)||o.summary.toLowerCase().includes(i)||o.timezone.toLowerCase().includes(i))}function q1(e){return e>100?"bg-red-500":e>80?"bg-amber-500":"bg-emerald-500"}function Q1(e){return e>=0?"text-emerald-400":"text-red-400"}function X1(e){return e>100?"text-red-400":e>80?"text-amber-400":"text-zinc-300"}function ew(){const[e,t]=E.useState(new Set),[i,o]=E.useState(new Set),[s,l]=E.useState(!1),[d,f]=E.useState(""),{isLoading:p,isReady:g,needsSetup:S,error:w,itineraryData:b,manualActivities:P,deletedActivities:z,boardingPasses:C,addActivity:K,updateActivity:v,removeActivity:_,deleteOriginalActivity:y,importJsonData:j,completeSetup:I,resetDatabase:F,addBoardingPass:D,deleteBoardingPass:H}=Fy(),{parsedItineraryDays:Z,tripBudgetConfig:R,tripDisplayName:J}=E.useMemo(()=>{if(!g||!b)return{parsedItineraryDays:py,tripBudgetConfig:G_,tripDisplayName:J_};const B=ty(b);return{parsedItineraryDays:my(b),tripBudgetConfig:B.budget,tripDisplayName:B.tripName}},[g,b]),q=P||{},me=E.useMemo(()=>new Date().toISOString().split("T")[0],[]);E.useEffect(()=>{if(!g)return;Z.some(Q=>Q.dateKey===me)&&(t(new Set([me])),setTimeout(()=>{const Q=document.getElementById(`day-${me}`);Q&&Q.scrollIntoView({behavior:"smooth",block:"start"})},100))},[g,Z,me]);const fe=E.useCallback(async(B,Q)=>{const[,G]=await K(Q,B);G&&console.error("Failed to add activity:",G)},[K]),te=E.useCallback(async(B,Q)=>{const[,G]=await v(Q,B.id,B);G&&console.error("Failed to update activity:",G)},[v]),re=E.useCallback(async(B,Q)=>{if(K1(B)){const[,G]=await _(Q,B);G&&console.error("Failed to remove activity:",G)}else{const[,G]=await y(Q,B);G&&console.error("Failed to remove activity:",G)}},[_,y]),ae=E.useMemo(()=>{const B={};let Q=0,G=0;const X=new Set;Z.forEach(De=>{var cn,it,Ft,oo,Yi;if((cn=De.travel)==null||cn.forEach(Me=>{if(Me.estimatedCost&&Me.currency&&Me.id&&!X.has(Me.id)){X.add(Me.id);const ct=Me.currency;B[ct]=(B[ct]||0)+Me.estimatedCost,G+=Vo(Me.estimatedCost,ct)}}),(it=De.shelter)!=null&&it.estimatedCost&&((Ft=De.shelter)!=null&&Ft.currency)){const Me=!De.shelter.isMultiDayStay||De.shelter.dayOfStay===1,ct=G1(De.shelter);if(Me&&!X.has(ct)){X.add(ct);const _t=De.shelter.currency;B[_t]=(B[_t]||0)+De.shelter.estimatedCost,G+=Vo(De.shelter.estimatedCost,_t)}}(oo=De.activities)==null||oo.forEach(Me=>{var ct;if(Me.estimatedCost&&Me.currency){const _t=J1(Me,De.dateKey);if((ct=z[De.dateKey])!=null&&ct.includes(_t))return;if(!X.has(_t)){X.add(_t);const qi=Me.currency;B[qi]=(B[qi]||0)+Me.estimatedCost,G+=Vo(Me.estimatedCost,qi)}}}),(Yi=De.metadata)!=null&&Yi.unbootedCount&&(Q+=De.metadata.unbootedCount)}),Object.entries(q).forEach(([De,cn])=>{cn.forEach(it=>{if(it.estimatedCost&&it.currency){const Ft=it.currency;B[Ft]=(B[Ft]||0)+it.estimatedCost,G+=Vo(it.estimatedCost,Ft)}})});const be=R.total||3500,Rt=be-G,ro=G/be*100;return{costByCurrency:B,totalUnbooked:Q,totalUSD:G,budget:be,remaining:Rt,percentUsed:ro}},[q,z,Z,R]),T=E.useMemo(()=>$1(Z),[Z]),W=E.useMemo(()=>Y1(Z,d),[d,Z]),A=E.useCallback(B=>{t(Q=>{const G=new Set(Q);return G.has(B)?G.delete(B):G.add(B),G})},[]),$=E.useCallback((B,Q)=>{const G=`${B}:${Q}`;o(X=>{const be=new Set(X);return be.has(G)?be.delete(G):be.add(G),be})},[]),le=E.useCallback(B=>{t(new Set([B]));const Q=["travel","shelter","meals","activities"],G=new Set(Q.map(X=>`${B}:${X}`));o(G)},[]);return p?c.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(ec,{className:"h-8 w-8 text-blue-500 animate-spin"}),c.jsx("p",{className:"text-zinc-400",children:"Loading your itinerary..."}),c.jsx("button",{onClick:async()=>{if(confirm("Reset all data and start fresh?")){const[,B]=await As();if(B){console.error("Failed to clear data:",B);return}window.location.reload()}},className:"mt-4 px-4 py-2 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors",children:"Reset Data"})]})}):S?c.jsx(U1,{onComplete:I,onImportJson:j,onReset:F}):w?c.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex items-center justify-center p-4",children:c.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[c.jsx($r,{className:"h-8 w-8 text-red-500"}),c.jsx("p",{className:"text-red-400",children:"Failed to load itinerary data"}),c.jsx("p",{className:"text-zinc-500 text-sm",children:w}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-sm",children:"Retry"})]})}):c.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 p-4 md:p-6",children:[c.jsx(H1,{days:W,todayDateKey:me,expandedDayKeys:e,onDateClick:le}),c.jsxs("div",{className:"max-w-6xl mx-auto lg:mr-32 mb-6 md:mb-8",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-white mb-1 md:mb-2",children:[" ",J]}),c.jsx("p",{className:"text-sm md:text-base text-zinc-400 mb-4 md:mb-6",children:T})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:async()=>{const[,B]=await am();B&&(console.error("Failed to export data:",B),alert("Failed to export data. Check console for details."))},className:"flex items-center gap-1.5 px-3 py-1.5 text-xs text-zinc-400 hover:text-emerald-400 hover:bg-zinc-800/50 rounded-lg transition-colors border border-zinc-800 hover:border-emerald-500/30",children:[c.jsx(b_,{className:"h-3.5 w-3.5"}),"Export"]}),c.jsx("button",{onClick:async()=>{if(confirm("Reset all data? You will need to upload your JSON file again.")){const[,B]=await As();if(B){console.error("Failed to clear data:",B);return}window.location.reload()}},className:"px-3 py-1.5 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors border border-zinc-800 hover:border-red-500/30",children:"Reset"})]})]}),c.jsxs("div",{className:"bg-zinc-900/80 border border-zinc-700 rounded-xl md:rounded-2xl p-4 md:p-5 mb-4 md:mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(R_,{className:"h-4 w-4 md:h-5 md:w-5 text-emerald-400"}),c.jsx("span",{className:"text-sm md:text-base font-semibold text-zinc-200",children:"Trip Budget"})]}),c.jsxs("span",{className:"text-lg md:text-2xl font-bold text-white",children:["$",ae.budget.toLocaleString()," USD"]})]}),c.jsx("div",{className:"relative h-4 bg-zinc-800 rounded-full overflow-hidden mb-3",children:c.jsx("div",{className:ve("absolute left-0 top-0 h-full rounded-full transition-all",q1(ae.percentUsed)),style:{width:`${Math.min(ae.percentUsed,100)}%`}})}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Spent"}),c.jsxs("div",{className:"text-base md:text-lg font-bold text-amber-400",children:["$",Math.round(ae.totalUSD).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Remaining"}),c.jsxs("div",{className:ve("text-base md:text-lg font-bold",Q1(ae.remaining)),children:["$",Math.round(ae.remaining).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Used"}),c.jsxs("div",{className:ve("text-base md:text-lg font-bold",X1(ae.percentUsed)),children:[Math.round(ae.percentUsed),"%"]})]})]}),Object.keys(ae.costByCurrency).length>0&&c.jsxs("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-zinc-800",children:[c.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"By Currency"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(ae.costByCurrency).map(([B,Q])=>c.jsxs("span",{className:"px-2 py-1 bg-zinc-800 rounded-lg text-xs md:text-sm",children:[c.jsxs("span",{className:"text-zinc-400",children:[B,":"]})," ",c.jsx("span",{className:"text-zinc-200 font-medium",children:Q.toLocaleString()})]},B))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-4 md:mb-6",children:[c.jsxs("div",{className:ve("border rounded-xl p-3 md:p-4",ae.totalUnbooked>0?"bg-red-950/40 border-red-800/60":"bg-zinc-900/60 border-zinc-800"),children:[c.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-xs md:text-sm mb-1",children:[c.jsx($r,{className:"h-3 w-3 md:h-4 md:w-4"}),c.jsx("span",{children:"Items to Book"})]}),c.jsx("div",{className:ve("text-lg md:text-xl font-bold",ae.totalUnbooked>0?"text-red-400":"text-emerald-400"),children:ae.totalUnbooked>0?`${ae.totalUnbooked} items`:"All booked "})]}),c.jsxs("div",{className:"bg-zinc-900/60 border border-zinc-800 rounded-xl p-3 md:p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-xs md:text-sm mb-1",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Trip Duration"})]}),c.jsxs("div",{className:"text-lg md:text-xl font-bold text-sky-400",children:[Z.length," days"]})]})]}),c.jsxs("div",{className:"flex flex-col gap-3 md:gap-4 mb-4 md:mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(j_,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 md:h-5 md:w-5 text-zinc-500"}),c.jsx("input",{type:"text",placeholder:"Search by date, location...",value:d,onChange:B=>f(B.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base rounded-lg bg-zinc-900 border border-zinc-800 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("button",{onClick:()=>l(!s),className:ve("flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-2 rounded-lg text-sm md:text-base font-medium transition",s?"bg-red-600 hover:bg-red-700 text-white":"bg-zinc-800 hover:bg-zinc-700 text-zinc-100"),children:[s?c.jsx(P_,{className:"h-4 w-4"}):c.jsx(k_,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:s?"Hide Backup Plans":"Show Backup Plans"}),c.jsx("span",{className:"sm:hidden",children:s?"Hide":"Backups"})]})}),c.jsxs("div",{className:"text-xs md:text-sm text-zinc-400",children:["Showing ",W.length," of ",Z.length," days"]})]})]}),c.jsxs("div",{className:"max-w-6xl mx-auto lg:mr-32 space-y-4 md:space-y-6",children:[W.map(B=>c.jsx(L1,{day:B,isExpanded:e.has(B.dateKey),onToggle:()=>A(B.dateKey),expandedSections:i,onToggleSection:Q=>$(B.dateKey,Q),showBackupPlans:s,manualActivities:q[B.dateKey]||Ah,deletedActivityIds:z[B.dateKey]||Ah,onAddActivity:fe,onRemoveActivity:re,onUpdateActivity:te,todayDateKey:me,boardingPasses:C,onAddBoardingPass:D,onDeleteBoardingPass:H},B.dateKey)),W.length===0&&c.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[c.jsx("p",{className:"text-lg",children:"No days match your search."}),c.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search query."})]})]})]})}function tw(){return c.jsx(ew,{})}ll.createRoot(document.getElementById("root")).render(c.jsx(as.StrictMode,{children:c.jsx(tw,{})}));
