(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}},Es={},Lh={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),A0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),D0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),F0=Symbol.for("react.forward_ref"),B0=Symbol.for("react.suspense"),Z0=Symbol.for("react.memo"),U0=Symbol.for("react.lazy"),ad=Symbol.iterator;function H0(e){return e===null||typeof e!="object"?null:(e=ad&&e[ad]||e["@@iterator"],typeof e=="function"?e:null)}var zh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mh=Object.assign,Ah={};function Ui(e,t,i){this.props=e,this.context=t,this.refs=Ah,this.updater=i||zh}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jh(){}jh.prototype=Ui.prototype;function tu(e,t,i){this.props=e,this.context=t,this.refs=Ah,this.updater=i||zh}var nu=tu.prototype=new jh;nu.constructor=tu;Mh(nu,Ui.prototype);nu.isPureReactComponent=!0;var ld=Array.isArray,Oh=Object.prototype.hasOwnProperty,iu={current:null},Ih={key:!0,ref:!0,__self:!0,__source:!0};function Dh(e,t,i){var o,s={},l=null,c=null;if(t!=null)for(o in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(l=""+t.key),t)Oh.call(t,o)&&!Ih.hasOwnProperty(o)&&(s[o]=t[o]);var f=arguments.length-2;if(f===1)s.children=i;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];s.children=p}if(e&&e.defaultProps)for(o in f=e.defaultProps,f)s[o]===void 0&&(s[o]=f[o]);return{$$typeof:Gr,type:e,key:l,ref:c,props:s,_owner:iu.current}}function W0(e,t){return{$$typeof:Gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ru(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gr}function V0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var ud=/\/+/g;function Ta(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V0(""+e.key):t.toString(36)}function Zo(e,t,i,o,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Gr:case A0:c=!0}}if(c)return c=e,s=s(c),e=o===""?"."+Ta(c,0):o,ld(s)?(i="",e!=null&&(i=e.replace(ud,"$&/")+"/"),Zo(s,t,i,"",function(g){return g})):s!=null&&(ru(s)&&(s=W0(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(ud,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=o===""?".":o+":",ld(e))for(var f=0;f<e.length;f++){l=e[f];var p=o+Ta(l,f);c+=Zo(l,t,i,p,s)}else if(p=H0(e),typeof p=="function")for(e=p.call(e),f=0;!(l=e.next()).done;)l=l.value,p=o+Ta(l,f++),c+=Zo(l,t,i,p,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function xo(e,t,i){if(e==null)return e;var o=[],s=0;return Zo(e,o,"","",function(l){return t.call(i,l,s++)}),o}function K0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Uo={transition:null},$0={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:iu};function Rh(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:xo,forEach:function(e,t,i){xo(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return xo(e,function(){t++}),t},toArray:function(e){return xo(e,function(t){return t})||[]},only:function(e){if(!ru(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Ui;oe.Fragment=j0;oe.Profiler=I0;oe.PureComponent=tu;oe.StrictMode=O0;oe.Suspense=B0;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0;oe.act=Rh;oe.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Mh({},e.props),s=e.key,l=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,c=iu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Oh.call(t,p)&&!Ih.hasOwnProperty(p)&&(o[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];o.children=f}return{$$typeof:Gr,type:e.type,key:s,ref:l,props:o,_owner:c}};oe.createContext=function(e){return e={$$typeof:R0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D0,_context:e},e.Consumer=e};oe.createElement=Dh;oe.createFactory=function(e){var t=Dh.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:F0,render:e}};oe.isValidElement=ru;oe.lazy=function(e){return{$$typeof:U0,_payload:{_status:-1,_result:e},_init:K0}};oe.memo=function(e,t){return{$$typeof:Z0,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};oe.unstable_act=Rh;oe.useCallback=function(e,t){return Xe.current.useCallback(e,t)};oe.useContext=function(e){return Xe.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Xe.current.useEffect(e,t)};oe.useId=function(){return Xe.current.useId()};oe.useImperativeHandle=function(e,t,i){return Xe.current.useImperativeHandle(e,t,i)};oe.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Xe.current.useMemo(e,t)};oe.useReducer=function(e,t,i){return Xe.current.useReducer(e,t,i)};oe.useRef=function(e){return Xe.current.useRef(e)};oe.useState=function(e){return Xe.current.useState(e)};oe.useSyncExternalStore=function(e,t,i){return Xe.current.useSyncExternalStore(e,t,i)};oe.useTransition=function(){return Xe.current.useTransition()};oe.version="18.3.1";Lh.exports=oe;var z=Lh.exports;const es=M0(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=z,J0=Symbol.for("react.element"),Y0=Symbol.for("react.fragment"),q0=Object.prototype.hasOwnProperty,Q0=G0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X0={key:!0,ref:!0,__self:!0,__source:!0};function Fh(e,t,i){var o,s={},l=null,c=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(o in t)q0.call(t,o)&&!X0.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:J0,type:e,key:l,ref:c,props:s,_owner:Q0.current}}Es.Fragment=Y0;Es.jsx=Fh;Es.jsxs=Fh;Eh.exports=Es;var d=Eh.exports,il={},Bh={exports:{}},ft={},Zh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,R){var A=N.length;N.push(R);e:for(;0<A;){var Z=A-1>>>1,X=N[Z];if(0<s(X,R))N[Z]=R,N[A]=X,A=Z;else break e}}function i(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var R=N[0],A=N.pop();if(A!==R){N[0]=A;e:for(var Z=0,X=N.length,pe=X>>>1;Z<pe;){var he=2*(Z+1)-1,le=N[he],K=he+1,Ae=N[K];if(0>s(le,A))K<X&&0>s(Ae,le)?(N[Z]=Ae,N[K]=A,Z=K):(N[Z]=le,N[he]=A,Z=he);else if(K<X&&0>s(Ae,A))N[Z]=Ae,N[K]=A,Z=K;else break e}}return R}function s(N,R){var A=N.sortIndex-R.sortIndex;return A!==0?A:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],g=[],S=1,x=null,k=3,C=!1,E=!1,T=!1,V=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var R=i(g);R!==null;){if(R.callback===null)o(g);else if(R.startTime<=N)o(g),R.sortIndex=R.expirationTime,t(p,R);else break;R=i(g)}}function j(N){if(T=!1,w(N),!E)if(i(p)!==null)E=!0,Y(I);else{var R=i(g);R!==null&&xe(j,R.startTime-N)}}function I(N,R){E=!1,T&&(T=!1,v(B),B=-1),C=!0;var A=k;try{for(w(R),x=i(p);x!==null&&(!(x.expirationTime>R)||N&&!se());){var Z=x.callback;if(typeof Z=="function"){x.callback=null,k=x.priorityLevel;var X=Z(x.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?x.callback=X:x===i(p)&&o(p),w(R)}else o(p);x=i(p)}if(x!==null)var pe=!0;else{var he=i(g);he!==null&&xe(j,he.startTime-R),pe=!1}return pe}finally{x=null,k=A,C=!1}}var O=!1,M=null,B=-1,Q=5,W=-1;function se(){return!(e.unstable_now()-W<Q)}function ae(){if(M!==null){var N=e.unstable_now();W=N;var R=!0;try{R=M(!0,N)}finally{R?Be():(O=!1,M=null)}}else O=!1}var Be;if(typeof y=="function")Be=function(){y(ae)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,J=ie.port2;ie.port1.onmessage=ae,Be=function(){J.postMessage(null)}}else Be=function(){V(ae,0)};function Y(N){M=N,O||(O=!0,Be())}function xe(N,R){B=V(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){E||C||(E=!0,Y(I))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return i(p)},e.unstable_next=function(N){switch(k){case 1:case 2:case 3:var R=3;break;default:R=k}var A=k;k=R;try{return N()}finally{k=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var A=k;k=N;try{return R()}finally{k=A}},e.unstable_scheduleCallback=function(N,R,A){var Z=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Z+A:Z):A=Z,N){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=A+X,N={id:S++,callback:R,priorityLevel:N,startTime:A,expirationTime:X,sortIndex:-1},A>Z?(N.sortIndex=A,t(g,N),i(p)===null&&N===i(g)&&(T?(v(B),B=-1):T=!0,xe(j,A-Z))):(N.sortIndex=X,t(p,N),E||C||(E=!0,Y(I))),N},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(N){var R=k;return function(){var A=k;k=R;try{return N.apply(this,arguments)}finally{k=A}}}})(Uh);Zh.exports=Uh;var eg=Zh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg=z,ht=eg;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hh=new Set,Tr={};function Yn(e,t){zi(e,t),zi(e+"Capture",t)}function zi(e,t){for(Tr[e]=t,e=0;e<t.length;e++)Hh.add(t[e])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=Object.prototype.hasOwnProperty,ng=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cd={},dd={};function ig(e){return rl.call(dd,e)?!0:rl.call(cd,e)?!1:ng.test(e)?dd[e]=!0:(cd[e]=!0,!1)}function rg(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function og(e,t,i,o){if(t===null||typeof t>"u"||rg(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,i,o,s,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var ou=/[\-:]([a-z])/g;function su(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ou,su);Ve[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ou,su);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ou,su);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function au(e,t,i,o){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(og(t,i,s,o)&&(i=null),o||s===null?ig(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=i===null?s.type===3?!1:"":i:(t=s.attributeName,o=s.attributeNamespace,i===null?e.removeAttribute(t):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var an=tg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wo=Symbol.for("react.element"),di=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),lu=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Vh=Symbol.for("react.context"),uu=Symbol.for("react.forward_ref"),sl=Symbol.for("react.suspense"),al=Symbol.for("react.suspense_list"),cu=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Kh=Symbol.for("react.offscreen"),hd=Symbol.iterator;function sr(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Na;function pr(e){if(Na===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Na=t&&t[1]||""}return`
`+Na+e}var Ea=!1;function La(e,t){if(!e||Ea)return"";Ea=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),l=o.stack.split(`
`),c=s.length-1,f=l.length-1;1<=c&&0<=f&&s[c]!==l[f];)f--;for(;1<=c&&0<=f;c--,f--)if(s[c]!==l[f]){if(c!==1||f!==1)do if(c--,f--,0>f||s[c]!==l[f]){var p=`
`+s[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=f);break}}}finally{Ea=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?pr(e):""}function sg(e){switch(e.tag){case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return e=La(e.type,!1),e;case 11:return e=La(e.type.render,!1),e;case 1:return e=La(e.type,!0),e;default:return""}}function ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hi:return"Fragment";case di:return"Portal";case ol:return"Profiler";case lu:return"StrictMode";case sl:return"Suspense";case al:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vh:return(e.displayName||"Context")+".Consumer";case Wh:return(e._context.displayName||"Context")+".Provider";case uu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cu:return t=e.displayName||null,t!==null?t:ll(e.type)||"Memo";case hn:t=e._payload,e=e._init;try{return ll(e(t))}catch{}}return null}function ag(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(t);case 8:return t===lu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lg(e){var t=$h(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){o=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(c){o=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function So(e){e._valueTracker||(e._valueTracker=lg(e))}function Gh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=$h(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ul(e,t){var i=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function fd(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=Tn(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jh(e,t){t=t.checked,t!=null&&au(e,"checked",t,!1)}function cl(e,t){Jh(e,t);var i=Tn(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dl(e,t.type,i):t.hasOwnProperty("defaultValue")&&dl(e,t.type,Tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pd(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function dl(e,t,i){(t!=="number"||ts(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var mr=Array.isArray;function ki(e,t,i,o){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Tn(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function md(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(F(92));if(mr(i)){if(1<i.length)throw Error(F(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Tn(i)}}function Yh(e,t){var i=Tn(t.value),o=Tn(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ko,Qh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ko=ko||document.createElement("div"),ko.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ug=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){ug.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function Xh(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function ef(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,s=Xh(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,s):e[i]=s}}var cg=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(e,t){if(t){if(cg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ml(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=null;function du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vl=null,Pi=null,bi=null;function vd(e){if(e=qr(e)){if(typeof vl!="function")throw Error(F(280));var t=e.stateNode;t&&(t=js(t),vl(e.stateNode,e.type,t))}}function tf(e){Pi?bi?bi.push(e):bi=[e]:Pi=e}function nf(){if(Pi){var e=Pi,t=bi;if(bi=Pi=null,vd(e),t)for(e=0;e<t.length;e++)vd(t[e])}}function rf(e,t){return e(t)}function of(){}var za=!1;function sf(e,t,i){if(za)return e(t,i);za=!0;try{return rf(e,t,i)}finally{za=!1,(Pi!==null||bi!==null)&&(of(),nf())}}function Er(e,t){var i=e.stateNode;if(i===null)return null;var o=js(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(F(231,t,typeof i));return i}var _l=!1;if(nn)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){_l=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{_l=!1}function dg(e,t,i,o,s,l,c,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(S){this.onError(S)}}var yr=!1,ns=null,is=!1,yl=null,hg={onError:function(e){yr=!0,ns=e}};function fg(e,t,i,o,s,l,c,f,p){yr=!1,ns=null,dg.apply(hg,arguments)}function pg(e,t,i,o,s,l,c,f,p){if(fg.apply(this,arguments),yr){if(yr){var g=ns;yr=!1,ns=null}else throw Error(F(198));is||(is=!0,yl=g)}}function qn(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function af(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _d(e){if(qn(e)!==e)throw Error(F(188))}function mg(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var i=e,o=t;;){var s=i.return;if(s===null)break;var l=s.alternate;if(l===null){if(o=s.return,o!==null){i=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===i)return _d(s),e;if(l===o)return _d(s),t;l=l.sibling}throw Error(F(188))}if(i.return!==o.return)i=s,o=l;else{for(var c=!1,f=s.child;f;){if(f===i){c=!0,i=s,o=l;break}if(f===o){c=!0,o=s,i=l;break}f=f.sibling}if(!c){for(f=l.child;f;){if(f===i){c=!0,i=l,o=s;break}if(f===o){c=!0,o=l,i=s;break}f=f.sibling}if(!c)throw Error(F(189))}}if(i.alternate!==o)throw Error(F(190))}if(i.tag!==3)throw Error(F(188));return i.stateNode.current===i?e:t}function lf(e){return e=mg(e),e!==null?uf(e):null}function uf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uf(e);if(t!==null)return t;e=e.sibling}return null}var cf=ht.unstable_scheduleCallback,yd=ht.unstable_cancelCallback,gg=ht.unstable_shouldYield,vg=ht.unstable_requestPaint,Ee=ht.unstable_now,_g=ht.unstable_getCurrentPriorityLevel,hu=ht.unstable_ImmediatePriority,df=ht.unstable_UserBlockingPriority,rs=ht.unstable_NormalPriority,yg=ht.unstable_LowPriority,hf=ht.unstable_IdlePriority,Ls=null,Ht=null;function xg(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Ls,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:kg,wg=Math.log,Sg=Math.LN2;function kg(e){return e>>>=0,e===0?32:31-(wg(e)/Sg|0)|0}var Po=64,bo=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function os(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,s=e.suspendedLanes,l=e.pingedLanes,c=i&268435455;if(c!==0){var f=c&~s;f!==0?o=gr(f):(l&=c,l!==0&&(o=gr(l)))}else c=i&~s,c!==0?o=gr(c):l!==0&&(o=gr(l));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-zt(t),s=1<<i,o|=e[i],t&=~s;return o}function Pg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-zt(l),f=1<<c,p=s[c];p===-1?(!(f&i)||f&o)&&(s[c]=Pg(f,t)):p<=t&&(e.expiredLanes|=f),l&=~f}}function xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ff(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function Ma(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Jr(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=i}function Cg(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-zt(i),l=1<<s;t[s]=0,o[s]=-1,e[s]=-1,i&=~l}}function fu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-zt(i),s=1<<o;s&t|e[o]&t&&(e[o]|=t),i&=~s}}var fe=0;function pf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mf,pu,gf,vf,_f,wl=!1,Co=[],yn=null,xn=null,wn=null,Lr=new Map,zr=new Map,pn=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function lr(e,t,i,o,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:l,targetContainers:[s]},t!==null&&(t=qr(t),t!==null&&pu(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ng(e,t,i,o,s){switch(t){case"focusin":return yn=lr(yn,e,t,i,o,s),!0;case"dragenter":return xn=lr(xn,e,t,i,o,s),!0;case"mouseover":return wn=lr(wn,e,t,i,o,s),!0;case"pointerover":var l=s.pointerId;return Lr.set(l,lr(Lr.get(l)||null,e,t,i,o,s)),!0;case"gotpointercapture":return l=s.pointerId,zr.set(l,lr(zr.get(l)||null,e,t,i,o,s)),!0}return!1}function yf(e){var t=Bn(e.target);if(t!==null){var i=qn(t);if(i!==null){if(t=i.tag,t===13){if(t=af(i),t!==null){e.blockedOn=t,_f(e.priority,function(){gf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Sl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);gl=o,i.target.dispatchEvent(o),gl=null}else return t=qr(i),t!==null&&pu(t),e.blockedOn=i,!1;t.shift()}return!0}function wd(e,t,i){Ho(e)&&i.delete(t)}function Eg(){wl=!1,yn!==null&&Ho(yn)&&(yn=null),xn!==null&&Ho(xn)&&(xn=null),wn!==null&&Ho(wn)&&(wn=null),Lr.forEach(wd),zr.forEach(wd)}function ur(e,t){e.blockedOn===t&&(e.blockedOn=null,wl||(wl=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Eg)))}function Mr(e){function t(s){return ur(s,e)}if(0<Co.length){ur(Co[0],e);for(var i=1;i<Co.length;i++){var o=Co[i];o.blockedOn===e&&(o.blockedOn=null)}}for(yn!==null&&ur(yn,e),xn!==null&&ur(xn,e),wn!==null&&ur(wn,e),Lr.forEach(t),zr.forEach(t),i=0;i<pn.length;i++)o=pn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<pn.length&&(i=pn[0],i.blockedOn===null);)yf(i),i.blockedOn===null&&pn.shift()}var Ci=an.ReactCurrentBatchConfig,ss=!0;function Lg(e,t,i,o){var s=fe,l=Ci.transition;Ci.transition=null;try{fe=1,mu(e,t,i,o)}finally{fe=s,Ci.transition=l}}function zg(e,t,i,o){var s=fe,l=Ci.transition;Ci.transition=null;try{fe=4,mu(e,t,i,o)}finally{fe=s,Ci.transition=l}}function mu(e,t,i,o){if(ss){var s=Sl(e,t,i,o);if(s===null)Ua(e,t,o,as,i),xd(e,o);else if(Ng(s,e,t,i,o))o.stopPropagation();else if(xd(e,o),t&4&&-1<Tg.indexOf(e)){for(;s!==null;){var l=qr(s);if(l!==null&&mf(l),l=Sl(e,t,i,o),l===null&&Ua(e,t,o,as,i),l===s)break;s=l}s!==null&&o.stopPropagation()}else Ua(e,t,o,null,i)}}var as=null;function Sl(e,t,i,o){if(as=null,e=du(o),e=Bn(e),e!==null)if(t=qn(e),t===null)e=null;else if(i=t.tag,i===13){if(e=af(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return as=e,null}function xf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_g()){case hu:return 1;case df:return 4;case rs:case yg:return 16;case hf:return 536870912;default:return 16}default:return 16}}var vn=null,gu=null,Wo=null;function wf(){if(Wo)return Wo;var e,t=gu,i=t.length,o,s="value"in vn?vn.value:vn.textContent,l=s.length;for(e=0;e<i&&t[e]===s[e];e++);var c=i-e;for(o=1;o<=c&&t[i-o]===s[l-o];o++);return Wo=s.slice(e,1<o?1-o:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function To(){return!0}function Sd(){return!1}function pt(e){function t(i,o,s,l,c){this._reactName=i,this._targetInst=s,this.type=o,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(i=e[f],this[f]=i?i(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?To:Sd,this.isPropagationStopped=Sd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vu=pt(Hi),Yr=be({},Hi,{view:0,detail:0}),Mg=pt(Yr),Aa,ja,cr,zs=be({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&e.type==="mousemove"?(Aa=e.screenX-cr.screenX,ja=e.screenY-cr.screenY):ja=Aa=0,cr=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),kd=pt(zs),Ag=be({},zs,{dataTransfer:0}),jg=pt(Ag),Og=be({},Yr,{relatedTarget:0}),Oa=pt(Og),Ig=be({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Dg=pt(Ig),Rg=be({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fg=pt(Rg),Bg=be({},Hi,{data:0}),Pd=pt(Bg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hg[e])?!!t[e]:!1}function _u(){return Wg}var Vg=be({},Yr,{key:function(e){if(e.key){var t=Zg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kg=pt(Vg),$g=be({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=pt($g),Gg=be({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Jg=pt(Gg),Yg=be({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qg=pt(Yg),Qg=be({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xg=pt(Qg),ev=[9,13,27,32],yu=nn&&"CompositionEvent"in window,xr=null;nn&&"documentMode"in document&&(xr=document.documentMode);var tv=nn&&"TextEvent"in window&&!xr,Sf=nn&&(!yu||xr&&8<xr&&11>=xr),Cd=" ",Td=!1;function kf(e,t){switch(e){case"keyup":return ev.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function nv(e,t){switch(e){case"compositionend":return Pf(t);case"keypress":return t.which!==32?null:(Td=!0,Cd);case"textInput":return e=t.data,e===Cd&&Td?null:e;default:return null}}function iv(e,t){if(fi)return e==="compositionend"||!yu&&kf(e,t)?(e=wf(),Wo=gu=vn=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sf&&t.locale!=="ko"?null:t.data;default:return null}}var rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rv[e.type]:t==="textarea"}function bf(e,t,i,o){tf(o),t=ls(t,"onChange"),0<t.length&&(i=new vu("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var wr=null,Ar=null;function ov(e){If(e,0)}function Ms(e){var t=gi(e);if(Gh(t))return e}function sv(e,t){if(e==="change")return t}var Cf=!1;if(nn){var Ia;if(nn){var Da="oninput"in document;if(!Da){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),Da=typeof Ed.oninput=="function"}Ia=Da}else Ia=!1;Cf=Ia&&(!document.documentMode||9<document.documentMode)}function Ld(){wr&&(wr.detachEvent("onpropertychange",Tf),Ar=wr=null)}function Tf(e){if(e.propertyName==="value"&&Ms(Ar)){var t=[];bf(t,Ar,e,du(e)),sf(ov,t)}}function av(e,t,i){e==="focusin"?(Ld(),wr=t,Ar=i,wr.attachEvent("onpropertychange",Tf)):e==="focusout"&&Ld()}function lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(Ar)}function uv(e,t){if(e==="click")return Ms(t)}function cv(e,t){if(e==="input"||e==="change")return Ms(t)}function dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:dv;function jr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var s=i[o];if(!rl.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var i=zd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zd(i)}}function Nf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(){for(var e=window,t=ts();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ts(e.document)}return t}function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hv(e){var t=Ef(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Nf(i.ownerDocument.documentElement,i)){if(o!==null&&xu(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=i.textContent.length,l=Math.min(o.start,s);o=o.end===void 0?l:Math.min(o.end,s),!e.extend&&l>o&&(s=o,o=l,l=s),s=Md(i,l);var c=Md(i,o);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fv=nn&&"documentMode"in document&&11>=document.documentMode,pi=null,kl=null,Sr=null,Pl=!1;function Ad(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Pl||pi==null||pi!==ts(o)||(o=pi,"selectionStart"in o&&xu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Sr&&jr(Sr,o)||(Sr=o,o=ls(kl,"onSelect"),0<o.length&&(t=new vu("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=pi)))}function No(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var mi={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Ra={},Lf={};nn&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function As(e){if(Ra[e])return Ra[e];if(!mi[e])return e;var t=mi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Lf)return Ra[e]=t[i];return e}var zf=As("animationend"),Mf=As("animationiteration"),Af=As("animationstart"),jf=As("transitionend"),Of=new Map,jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Of.set(e,t),Yn(t,[e])}for(var Fa=0;Fa<jd.length;Fa++){var Ba=jd[Fa],pv=Ba.toLowerCase(),mv=Ba[0].toUpperCase()+Ba.slice(1);Ln(pv,"on"+mv)}Ln(zf,"onAnimationEnd");Ln(Mf,"onAnimationIteration");Ln(Af,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(jf,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gv=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function Od(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,pg(o,t,void 0,e),e.currentTarget=null}function If(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],s=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var c=o.length-1;0<=c;c--){var f=o[c],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==l&&s.isPropagationStopped())break e;Od(s,f,g),l=p}else for(c=0;c<o.length;c++){if(f=o[c],p=f.instance,g=f.currentTarget,f=f.listener,p!==l&&s.isPropagationStopped())break e;Od(s,f,g),l=p}}}if(is)throw e=yl,is=!1,yl=null,e}function ve(e,t){var i=t[El];i===void 0&&(i=t[El]=new Set);var o=e+"__bubble";i.has(o)||(Df(t,e,2,!1),i.add(o))}function Za(e,t,i){var o=0;t&&(o|=4),Df(i,e,o,t)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Or(e){if(!e[Eo]){e[Eo]=!0,Hh.forEach(function(i){i!=="selectionchange"&&(gv.has(i)||Za(i,!1,e),Za(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eo]||(t[Eo]=!0,Za("selectionchange",!1,t))}}function Df(e,t,i,o){switch(xf(t)){case 1:var s=Lg;break;case 4:s=zg;break;default:s=mu}i=s.bind(null,t,i,e),s=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Ua(e,t,i,o,s){var l=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var c=o.tag;if(c===3||c===4){var f=o.stateNode.containerInfo;if(f===s||f.nodeType===8&&f.parentNode===s)break;if(c===4)for(c=o.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;c=c.return}for(;f!==null;){if(c=Bn(f),c===null)return;if(p=c.tag,p===5||p===6){o=l=c;continue e}f=f.parentNode}}o=o.return}sf(function(){var g=l,S=du(i),x=[];e:{var k=Of.get(e);if(k!==void 0){var C=vu,E=e;switch(e){case"keypress":if(Vo(i)===0)break e;case"keydown":case"keyup":C=Kg;break;case"focusin":E="focus",C=Oa;break;case"focusout":E="blur",C=Oa;break;case"beforeblur":case"afterblur":C=Oa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Jg;break;case zf:case Mf:case Af:C=Dg;break;case jf:C=qg;break;case"scroll":C=Mg;break;case"wheel":C=Xg;break;case"copy":case"cut":case"paste":C=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=bd}var T=(t&4)!==0,V=!T&&e==="scroll",v=T?k!==null?k+"Capture":null:k;T=[];for(var y=g,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,v!==null&&(j=Er(y,v),j!=null&&T.push(Ir(y,j,w)))),V)break;y=y.return}0<T.length&&(k=new C(k,E,null,i,S),x.push({event:k,listeners:T}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",k&&i!==gl&&(E=i.relatedTarget||i.fromElement)&&(Bn(E)||E[rn]))break e;if((C||k)&&(k=S.window===S?S:(k=S.ownerDocument)?k.defaultView||k.parentWindow:window,C?(E=i.relatedTarget||i.toElement,C=g,E=E?Bn(E):null,E!==null&&(V=qn(E),E!==V||E.tag!==5&&E.tag!==6)&&(E=null)):(C=null,E=g),C!==E)){if(T=kd,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=bd,j="onPointerLeave",v="onPointerEnter",y="pointer"),V=C==null?k:gi(C),w=E==null?k:gi(E),k=new T(j,y+"leave",C,i,S),k.target=V,k.relatedTarget=w,j=null,Bn(S)===g&&(T=new T(v,y+"enter",E,i,S),T.target=w,T.relatedTarget=V,j=T),V=j,C&&E)t:{for(T=C,v=E,y=0,w=T;w;w=ci(w))y++;for(w=0,j=v;j;j=ci(j))w++;for(;0<y-w;)T=ci(T),y--;for(;0<w-y;)v=ci(v),w--;for(;y--;){if(T===v||v!==null&&T===v.alternate)break t;T=ci(T),v=ci(v)}T=null}else T=null;C!==null&&Id(x,k,C,T,!1),E!==null&&V!==null&&Id(x,V,E,T,!0)}}e:{if(k=g?gi(g):window,C=k.nodeName&&k.nodeName.toLowerCase(),C==="select"||C==="input"&&k.type==="file")var I=sv;else if(Nd(k))if(Cf)I=cv;else{I=lv;var O=av}else(C=k.nodeName)&&C.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(I=uv);if(I&&(I=I(e,g))){bf(x,I,i,S);break e}O&&O(e,k,g),e==="focusout"&&(O=k._wrapperState)&&O.controlled&&k.type==="number"&&dl(k,"number",k.value)}switch(O=g?gi(g):window,e){case"focusin":(Nd(O)||O.contentEditable==="true")&&(pi=O,kl=g,Sr=null);break;case"focusout":Sr=kl=pi=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,Ad(x,i,S);break;case"selectionchange":if(fv)break;case"keydown":case"keyup":Ad(x,i,S)}var M;if(yu)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else fi?kf(e,i)&&(B="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(B="onCompositionStart");B&&(Sf&&i.locale!=="ko"&&(fi||B!=="onCompositionStart"?B==="onCompositionEnd"&&fi&&(M=wf()):(vn=S,gu="value"in vn?vn.value:vn.textContent,fi=!0)),O=ls(g,B),0<O.length&&(B=new Pd(B,e,null,i,S),x.push({event:B,listeners:O}),M?B.data=M:(M=Pf(i),M!==null&&(B.data=M)))),(M=tv?nv(e,i):iv(e,i))&&(g=ls(g,"onBeforeInput"),0<g.length&&(S=new Pd("onBeforeInput","beforeinput",null,i,S),x.push({event:S,listeners:g}),S.data=M))}If(x,t)})}function Ir(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ls(e,t){for(var i=t+"Capture",o=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Er(e,i),l!=null&&o.unshift(Ir(e,l,s)),l=Er(e,t),l!=null&&o.push(Ir(e,l,s))),e=e.return}return o}function ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Id(e,t,i,o,s){for(var l=t._reactName,c=[];i!==null&&i!==o;){var f=i,p=f.alternate,g=f.stateNode;if(p!==null&&p===o)break;f.tag===5&&g!==null&&(f=g,s?(p=Er(i,l),p!=null&&c.unshift(Ir(i,p,f))):s||(p=Er(i,l),p!=null&&c.push(Ir(i,p,f)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var vv=/\r\n?/g,_v=/\u0000|\uFFFD/g;function Dd(e){return(typeof e=="string"?e:""+e).replace(vv,`
`).replace(_v,"")}function Lo(e,t,i){if(t=Dd(t),Dd(e)!==t&&i)throw Error(F(425))}function us(){}var bl=null,Cl=null;function Tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,yv=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(wv)}:Nl;function wv(e){setTimeout(function(){throw e})}function Ha(e,t){var i=t,o=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(o===0){e.removeChild(s),Mr(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=s}while(i);Mr(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Wi,Dr="__reactProps$"+Wi,rn="__reactContainer$"+Wi,El="__reactEvents$"+Wi,Sv="__reactListeners$"+Wi,kv="__reactHandles$"+Wi;function Bn(e){var t=e[Ut];if(t)return t;for(var i=e.parentNode;i;){if(t=i[rn]||i[Ut]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Fd(e);e!==null;){if(i=e[Ut])return i;e=Fd(e)}return t}e=i,i=e.parentNode}return null}function qr(e){return e=e[Ut]||e[rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function js(e){return e[Dr]||null}var Ll=[],vi=-1;function zn(e){return{current:e}}function _e(e){0>vi||(e.current=Ll[vi],Ll[vi]=null,vi--)}function ge(e,t){vi++,Ll[vi]=e.current,e.current=t}var Nn={},Je=zn(Nn),rt=zn(!1),Vn=Nn;function Mi(e,t){var i=e.type.contextTypes;if(!i)return Nn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in i)s[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ot(e){return e=e.childContextTypes,e!=null}function cs(){_e(rt),_e(Je)}function Bd(e,t,i){if(Je.current!==Nn)throw Error(F(168));ge(Je,t),ge(rt,i)}function Rf(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(F(108,ag(e)||"Unknown",s));return be({},i,o)}function ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nn,Vn=Je.current,ge(Je,e),ge(rt,rt.current),!0}function Zd(e,t,i){var o=e.stateNode;if(!o)throw Error(F(169));i?(e=Rf(e,t,Vn),o.__reactInternalMemoizedMergedChildContext=e,_e(rt),_e(Je),ge(Je,e)):_e(rt),ge(rt,i)}var Qt=null,Os=!1,Wa=!1;function Ff(e){Qt===null?Qt=[e]:Qt.push(e)}function Pv(e){Os=!0,Ff(e)}function Mn(){if(!Wa&&Qt!==null){Wa=!0;var e=0,t=fe;try{var i=Qt;for(fe=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Qt=null,Os=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(e+1)),cf(hu,Mn),s}finally{fe=t,Wa=!1}}return null}var _i=[],yi=0,hs=null,fs=0,yt=[],xt=0,Kn=null,Xt=1,en="";function Rn(e,t){_i[yi++]=fs,_i[yi++]=hs,hs=e,fs=t}function Bf(e,t,i){yt[xt++]=Xt,yt[xt++]=en,yt[xt++]=Kn,Kn=e;var o=Xt;e=en;var s=32-zt(o)-1;o&=~(1<<s),i+=1;var l=32-zt(t)+s;if(30<l){var c=s-s%5;l=(o&(1<<c)-1).toString(32),o>>=c,s-=c,Xt=1<<32-zt(t)+s|i<<s|o,en=l+e}else Xt=1<<l|i<<s|o,en=e}function wu(e){e.return!==null&&(Rn(e,1),Bf(e,1,0))}function Su(e){for(;e===hs;)hs=_i[--yi],_i[yi]=null,fs=_i[--yi],_i[yi]=null;for(;e===Kn;)Kn=yt[--xt],yt[xt]=null,en=yt[--xt],yt[xt]=null,Xt=yt[--xt],yt[xt]=null}var dt=null,ct=null,ye=!1,Lt=null;function Zf(e,t){var i=wt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ud(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Kn!==null?{id:Xt,overflow:en}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=wt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,dt=e,ct=null,!0):!1;default:return!1}}function zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ml(e){if(ye){var t=ct;if(t){var i=t;if(!Ud(e,t)){if(zl(e))throw Error(F(418));t=Sn(i.nextSibling);var o=dt;t&&Ud(e,t)?Zf(o,i):(e.flags=e.flags&-4097|2,ye=!1,dt=e)}}else{if(zl(e))throw Error(F(418));e.flags=e.flags&-4097|2,ye=!1,dt=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function zo(e){if(e!==dt)return!1;if(!ye)return Hd(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tl(e.type,e.memoizedProps)),t&&(t=ct)){if(zl(e))throw Uf(),Error(F(418));for(;t;)Zf(e,t),t=Sn(t.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ct=Sn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?Sn(e.stateNode.nextSibling):null;return!0}function Uf(){for(var e=ct;e;)e=Sn(e.nextSibling)}function Ai(){ct=dt=null,ye=!1}function ku(e){Lt===null?Lt=[e]:Lt.push(e)}var bv=an.ReactCurrentBatchConfig;function dr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(F(309));var o=i.stateNode}if(!o)throw Error(F(147,e));var s=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var f=s.refs;c===null?delete f[l]:f[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!i._owner)throw Error(F(290,e))}return e}function Mo(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wd(e){var t=e._init;return t(e._payload)}function Hf(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function i(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function o(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Cn(v,y),v.index=0,v.sibling=null,v}function l(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function c(v){return e&&v.alternate===null&&(v.flags|=2),v}function f(v,y,w,j){return y===null||y.tag!==6?(y=qa(w,v.mode,j),y.return=v,y):(y=s(y,w),y.return=v,y)}function p(v,y,w,j){var I=w.type;return I===hi?S(v,y,w.props.children,j,w.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===hn&&Wd(I)===y.type)?(j=s(y,w.props),j.ref=dr(v,y,w),j.return=v,j):(j=Qo(w.type,w.key,w.props,null,v.mode,j),j.ref=dr(v,y,w),j.return=v,j)}function g(v,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Qa(w,v.mode,j),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function S(v,y,w,j,I){return y===null||y.tag!==7?(y=Wn(w,v.mode,j,I),y.return=v,y):(y=s(y,w),y.return=v,y)}function x(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qa(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wo:return w=Qo(y.type,y.key,y.props,null,v.mode,w),w.ref=dr(v,null,y),w.return=v,w;case di:return y=Qa(y,v.mode,w),y.return=v,y;case hn:var j=y._init;return x(v,j(y._payload),w)}if(mr(y)||sr(y))return y=Wn(y,v.mode,w,null),y.return=v,y;Mo(v,y)}return null}function k(v,y,w,j){var I=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:f(v,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wo:return w.key===I?p(v,y,w,j):null;case di:return w.key===I?g(v,y,w,j):null;case hn:return I=w._init,k(v,y,I(w._payload),j)}if(mr(w)||sr(w))return I!==null?null:S(v,y,w,j,null);Mo(v,w)}return null}function C(v,y,w,j,I){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(w)||null,f(y,v,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case wo:return v=v.get(j.key===null?w:j.key)||null,p(y,v,j,I);case di:return v=v.get(j.key===null?w:j.key)||null,g(y,v,j,I);case hn:var O=j._init;return C(v,y,w,O(j._payload),I)}if(mr(j)||sr(j))return v=v.get(w)||null,S(y,v,j,I,null);Mo(y,j)}return null}function E(v,y,w,j){for(var I=null,O=null,M=y,B=y=0,Q=null;M!==null&&B<w.length;B++){M.index>B?(Q=M,M=null):Q=M.sibling;var W=k(v,M,w[B],j);if(W===null){M===null&&(M=Q);break}e&&M&&W.alternate===null&&t(v,M),y=l(W,y,B),O===null?I=W:O.sibling=W,O=W,M=Q}if(B===w.length)return i(v,M),ye&&Rn(v,B),I;if(M===null){for(;B<w.length;B++)M=x(v,w[B],j),M!==null&&(y=l(M,y,B),O===null?I=M:O.sibling=M,O=M);return ye&&Rn(v,B),I}for(M=o(v,M);B<w.length;B++)Q=C(M,v,B,w[B],j),Q!==null&&(e&&Q.alternate!==null&&M.delete(Q.key===null?B:Q.key),y=l(Q,y,B),O===null?I=Q:O.sibling=Q,O=Q);return e&&M.forEach(function(se){return t(v,se)}),ye&&Rn(v,B),I}function T(v,y,w,j){var I=sr(w);if(typeof I!="function")throw Error(F(150));if(w=I.call(w),w==null)throw Error(F(151));for(var O=I=null,M=y,B=y=0,Q=null,W=w.next();M!==null&&!W.done;B++,W=w.next()){M.index>B?(Q=M,M=null):Q=M.sibling;var se=k(v,M,W.value,j);if(se===null){M===null&&(M=Q);break}e&&M&&se.alternate===null&&t(v,M),y=l(se,y,B),O===null?I=se:O.sibling=se,O=se,M=Q}if(W.done)return i(v,M),ye&&Rn(v,B),I;if(M===null){for(;!W.done;B++,W=w.next())W=x(v,W.value,j),W!==null&&(y=l(W,y,B),O===null?I=W:O.sibling=W,O=W);return ye&&Rn(v,B),I}for(M=o(v,M);!W.done;B++,W=w.next())W=C(M,v,B,W.value,j),W!==null&&(e&&W.alternate!==null&&M.delete(W.key===null?B:W.key),y=l(W,y,B),O===null?I=W:O.sibling=W,O=W);return e&&M.forEach(function(ae){return t(v,ae)}),ye&&Rn(v,B),I}function V(v,y,w,j){if(typeof w=="object"&&w!==null&&w.type===hi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wo:e:{for(var I=w.key,O=y;O!==null;){if(O.key===I){if(I=w.type,I===hi){if(O.tag===7){i(v,O.sibling),y=s(O,w.props.children),y.return=v,v=y;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===hn&&Wd(I)===O.type){i(v,O.sibling),y=s(O,w.props),y.ref=dr(v,O,w),y.return=v,v=y;break e}i(v,O);break}else t(v,O);O=O.sibling}w.type===hi?(y=Wn(w.props.children,v.mode,j,w.key),y.return=v,v=y):(j=Qo(w.type,w.key,w.props,null,v.mode,j),j.ref=dr(v,y,w),j.return=v,v=j)}return c(v);case di:e:{for(O=w.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){i(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{i(v,y);break}else t(v,y);y=y.sibling}y=Qa(w,v.mode,j),y.return=v,v=y}return c(v);case hn:return O=w._init,V(v,y,O(w._payload),j)}if(mr(w))return E(v,y,w,j);if(sr(w))return T(v,y,w,j);Mo(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(i(v,y.sibling),y=s(y,w),y.return=v,v=y):(i(v,y),y=qa(w,v.mode,j),y.return=v,v=y),c(v)):i(v,y)}return V}var ji=Hf(!0),Wf=Hf(!1),ps=zn(null),ms=null,xi=null,Pu=null;function bu(){Pu=xi=ms=null}function Cu(e){var t=ps.current;_e(ps),e._currentValue=t}function Al(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Ti(e,t){ms=e,Pu=xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Pu!==e)if(e={context:e,memoizedValue:t,next:null},xi===null){if(ms===null)throw Error(F(308));xi=e,ms.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Zn=null;function Tu(e){Zn===null?Zn=[e]:Zn.push(e)}function Vf(e,t,i,o){var s=t.interleaved;return s===null?(i.next=i,Tu(t)):(i.next=s.next,s.next=i),t.interleaved=i,on(e,o)}function on(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var fn=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,ce&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,on(e,i)}return s=o.interleaved,s===null?(t.next=t,Tu(o)):(t.next=s.next,s.next=t),o.interleaved=t,on(e,i)}function Ko(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,fu(e,i)}}function Vd(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var s=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?s=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?s=l=t:l=l.next=t}else s=l=t;i={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function gs(e,t,i,o){var s=e.updateQueue;fn=!1;var l=s.firstBaseUpdate,c=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var p=f,g=p.next;p.next=null,c===null?l=g:c.next=g,c=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==c&&(f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=p))}if(l!==null){var x=s.baseState;c=0,S=g=p=null,f=l;do{var k=f.lane,C=f.eventTime;if((o&k)===k){S!==null&&(S=S.next={eventTime:C,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var E=e,T=f;switch(k=t,C=i,T.tag){case 1:if(E=T.payload,typeof E=="function"){x=E.call(C,x,k);break e}x=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,k=typeof E=="function"?E.call(C,x,k):E,k==null)break e;x=be({},x,k);break e;case 2:fn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,k=s.effects,k===null?s.effects=[f]:k.push(f))}else C={eventTime:C,lane:k,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(g=S=C,p=x):S=S.next=C,c|=k;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;k=f,f=k.next,k.next=null,s.lastBaseUpdate=k,s.shared.pending=null}}while(!0);if(S===null&&(p=x),s.baseState=p,s.firstBaseUpdate=g,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Gn|=c,e.lanes=c,e.memoizedState=x}}function Kd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=i,typeof s!="function")throw Error(F(191,s));s.call(o)}}}var Qr={},Wt=zn(Qr),Rr=zn(Qr),Fr=zn(Qr);function Un(e){if(e===Qr)throw Error(F(174));return e}function Eu(e,t){switch(ge(Fr,t),ge(Rr,e),ge(Wt,Qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fl(t,e)}_e(Wt),ge(Wt,t)}function Oi(){_e(Wt),_e(Rr),_e(Fr)}function $f(e){Un(Fr.current);var t=Un(Wt.current),i=fl(t,e.type);t!==i&&(ge(Rr,e),ge(Wt,i))}function Lu(e){Rr.current===e&&(_e(Wt),_e(Rr))}var ke=zn(0);function vs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=[];function zu(){for(var e=0;e<Va.length;e++)Va[e]._workInProgressVersionPrimary=null;Va.length=0}var $o=an.ReactCurrentDispatcher,Ka=an.ReactCurrentBatchConfig,$n=0,Pe=null,je=null,Re=null,_s=!1,kr=!1,Br=0,Cv=0;function Ke(){throw Error(F(321))}function Mu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!jt(e[i],t[i]))return!1;return!0}function Au(e,t,i,o,s,l){if($n=l,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=e===null||e.memoizedState===null?Lv:zv,e=i(o,s),kr){l=0;do{if(kr=!1,Br=0,25<=l)throw Error(F(301));l+=1,Re=je=null,t.updateQueue=null,$o.current=Mv,e=i(o,s)}while(kr)}if($o.current=ys,t=je!==null&&je.next!==null,$n=0,Re=je=Pe=null,_s=!1,t)throw Error(F(300));return e}function ju(){var e=Br!==0;return Br=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Pe.memoizedState=Re=e:Re=Re.next=e,Re}function Pt(){if(je===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Re===null?Pe.memoizedState:Re.next;if(t!==null)Re=t,je=e;else{if(e===null)throw Error(F(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Re===null?Pe.memoizedState=Re=e:Re=Re.next=e}return Re}function Zr(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=Pt(),i=t.queue;if(i===null)throw Error(F(311));i.lastRenderedReducer=e;var o=je,s=o.baseQueue,l=i.pending;if(l!==null){if(s!==null){var c=s.next;s.next=l.next,l.next=c}o.baseQueue=s=l,i.pending=null}if(s!==null){l=s.next,o=o.baseState;var f=c=null,p=null,g=l;do{var S=g.lane;if(($n&S)===S)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var x={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=x,c=o):p=p.next=x,Pe.lanes|=S,Gn|=S}g=g.next}while(g!==null&&g!==l);p===null?c=o:p.next=f,jt(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseState=c,t.baseQueue=p,i.lastRenderedState=o}if(e=i.interleaved,e!==null){s=e;do l=s.lane,Pe.lanes|=l,Gn|=l,s=s.next;while(s!==e)}else s===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ga(e){var t=Pt(),i=t.queue;if(i===null)throw Error(F(311));i.lastRenderedReducer=e;var o=i.dispatch,s=i.pending,l=t.memoizedState;if(s!==null){i.pending=null;var c=s=s.next;do l=e(l,c.action),c=c.next;while(c!==s);jt(l,t.memoizedState)||(it=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,o]}function Gf(){}function Jf(e,t){var i=Pe,o=Pt(),s=t(),l=!jt(o.memoizedState,s);if(l&&(o.memoizedState=s,it=!0),o=o.queue,Ou(Qf.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||Re!==null&&Re.memoizedState.tag&1){if(i.flags|=2048,Ur(9,qf.bind(null,i,o,s,t),void 0,null),Fe===null)throw Error(F(349));$n&30||Yf(i,t,s)}return s}function Yf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function qf(e,t,i,o){t.value=i,t.getSnapshot=o,Xf(t)&&ep(e)}function Qf(e,t,i){return i(function(){Xf(t)&&ep(e)})}function Xf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!jt(e,i)}catch{return!0}}function ep(e){var t=on(e,1);t!==null&&Mt(t,e,1,-1)}function $d(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ev.bind(null,Pe,e),[t.memoizedState,e]}function Ur(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function tp(){return Pt().memoizedState}function Go(e,t,i,o){var s=Zt();Pe.flags|=e,s.memoizedState=Ur(1|t,i,void 0,o===void 0?null:o)}function Is(e,t,i,o){var s=Pt();o=o===void 0?null:o;var l=void 0;if(je!==null){var c=je.memoizedState;if(l=c.destroy,o!==null&&Mu(o,c.deps)){s.memoizedState=Ur(t,i,l,o);return}}Pe.flags|=e,s.memoizedState=Ur(1|t,i,l,o)}function Gd(e,t){return Go(8390656,8,e,t)}function Ou(e,t){return Is(2048,8,e,t)}function np(e,t){return Is(4,2,e,t)}function ip(e,t){return Is(4,4,e,t)}function rp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function op(e,t,i){return i=i!=null?i.concat([e]):null,Is(4,4,rp.bind(null,t,e),i)}function Iu(){}function sp(e,t){var i=Pt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Mu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function ap(e,t){var i=Pt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Mu(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function lp(e,t,i){return $n&21?(jt(i,t)||(i=ff(),Pe.lanes|=i,Gn|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=i)}function Tv(e,t){var i=fe;fe=i!==0&&4>i?i:4,e(!0);var o=Ka.transition;Ka.transition={};try{e(!1),t()}finally{fe=i,Ka.transition=o}}function up(){return Pt().memoizedState}function Nv(e,t,i){var o=bn(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},cp(e))dp(t,i);else if(i=Vf(e,t,i,o),i!==null){var s=Qe();Mt(i,e,o,s),hp(i,t,o)}}function Ev(e,t,i){var o=bn(e),s={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(cp(e))dp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,f=l(c,i);if(s.hasEagerState=!0,s.eagerState=f,jt(f,c)){var p=t.interleaved;p===null?(s.next=s,Tu(t)):(s.next=p.next,p.next=s),t.interleaved=s;return}}catch{}finally{}i=Vf(e,t,s,o),i!==null&&(s=Qe(),Mt(i,e,o,s),hp(i,t,o))}}function cp(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function dp(e,t){kr=_s=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function hp(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,fu(e,i)}}var ys={readContext:kt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Lv={readContext:kt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Gd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Go(4194308,4,rp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var i=Zt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Zt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Nv.bind(null,Pe,e),[o.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:Iu,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=Tv.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Pe,s=Zt();if(ye){if(i===void 0)throw Error(F(407));i=i()}else{if(i=t(),Fe===null)throw Error(F(349));$n&30||Yf(o,t,i)}s.memoizedState=i;var l={value:i,getSnapshot:t};return s.queue=l,Gd(Qf.bind(null,o,l,e),[e]),o.flags|=2048,Ur(9,qf.bind(null,o,l,i,t),void 0,null),i},useId:function(){var e=Zt(),t=Fe.identifierPrefix;if(ye){var i=en,o=Xt;i=(o&~(1<<32-zt(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Br++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Cv++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zv={readContext:kt,useCallback:sp,useContext:kt,useEffect:Ou,useImperativeHandle:op,useInsertionEffect:np,useLayoutEffect:ip,useMemo:ap,useReducer:$a,useRef:tp,useState:function(){return $a(Zr)},useDebugValue:Iu,useDeferredValue:function(e){var t=Pt();return lp(t,je.memoizedState,e)},useTransition:function(){var e=$a(Zr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Gf,useSyncExternalStore:Jf,useId:up,unstable_isNewReconciler:!1},Mv={readContext:kt,useCallback:sp,useContext:kt,useEffect:Ou,useImperativeHandle:op,useInsertionEffect:np,useLayoutEffect:ip,useMemo:ap,useReducer:Ga,useRef:tp,useState:function(){return Ga(Zr)},useDebugValue:Iu,useDeferredValue:function(e){var t=Pt();return je===null?t.memoizedState=e:lp(t,je.memoizedState,e)},useTransition:function(){var e=Ga(Zr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Gf,useSyncExternalStore:Jf,useId:up,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function jl(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:be({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ds={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Qe(),s=bn(e),l=tn(o,s);l.payload=t,i!=null&&(l.callback=i),t=kn(e,l,s),t!==null&&(Mt(t,e,s,o),Ko(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Qe(),s=bn(e),l=tn(o,s);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=kn(e,l,s),t!==null&&(Mt(t,e,s,o),Ko(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Qe(),o=bn(e),s=tn(i,o);s.tag=2,t!=null&&(s.callback=t),t=kn(e,s,o),t!==null&&(Mt(t,e,o,i),Ko(t,e,o))}};function Jd(e,t,i,o,s,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,c):t.prototype&&t.prototype.isPureReactComponent?!jr(i,o)||!jr(s,l):!0}function fp(e,t,i){var o=!1,s=Nn,l=t.contextType;return typeof l=="object"&&l!==null?l=kt(l):(s=ot(t)?Vn:Je.current,o=t.contextTypes,l=(o=o!=null)?Mi(e,s):Nn),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ds,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Yd(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Ds.enqueueReplaceState(t,t.state,null)}function Ol(e,t,i,o){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs={},Nu(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=kt(l):(l=ot(t)?Vn:Je.current,s.context=Mi(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(jl(e,t,l,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ds.enqueueReplaceState(s,s.state,null),gs(e,i,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ii(e,t){try{var i="",o=t;do i+=sg(o),o=o.return;while(o);var s=i}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ja(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Il(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Av=typeof WeakMap=="function"?WeakMap:Map;function pp(e,t,i){i=tn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){ws||(ws=!0,Kl=o),Il(e,t)},i}function mp(e,t,i){i=tn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;i.payload=function(){return o(s)},i.callback=function(){Il(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){Il(e,t),typeof o!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function qd(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Av;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(i)||(s.add(i),e=$v.bind(null,e,t,i),t.then(e,e))}function Qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xd(e,t,i,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=tn(-1,1),t.tag=2,kn(i,t,1))),i.lanes|=1),e)}var jv=an.ReactCurrentOwner,it=!1;function qe(e,t,i,o){t.child=e===null?Wf(t,null,i,o):ji(t,e.child,i,o)}function eh(e,t,i,o,s){i=i.render;var l=t.ref;return Ti(t,s),o=Au(e,t,i,o,l,s),i=ju(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(ye&&i&&wu(t),t.flags|=1,qe(e,t,o,s),t.child)}function th(e,t,i,o,s){if(e===null){var l=i.type;return typeof l=="function"&&!Wu(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,gp(e,t,l,o,s)):(e=Qo(i.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:jr,i(c,o)&&e.ref===t.ref)return sn(e,t,s)}return t.flags|=1,e=Cn(l,o),e.ref=t.ref,e.return=t,t.child=e}function gp(e,t,i,o,s){if(e!==null){var l=e.memoizedProps;if(jr(l,o)&&e.ref===t.ref)if(it=!1,t.pendingProps=o=l,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,sn(e,t,s)}return Dl(e,t,i,o,s)}function vp(e,t,i){var o=t.pendingProps,s=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Si,ut),ut|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(Si,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:i,ge(Si,ut),ut|=o}else l!==null?(o=l.baseLanes|i,t.memoizedState=null):o=i,ge(Si,ut),ut|=o;return qe(e,t,s,i),t.child}function _p(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Dl(e,t,i,o,s){var l=ot(i)?Vn:Je.current;return l=Mi(t,l),Ti(t,s),i=Au(e,t,i,o,l,s),o=ju(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,sn(e,t,s)):(ye&&o&&wu(t),t.flags|=1,qe(e,t,i,s),t.child)}function nh(e,t,i,o,s){if(ot(i)){var l=!0;ds(t)}else l=!1;if(Ti(t,s),t.stateNode===null)Jo(e,t),fp(t,i,o),Ol(t,i,o,s),o=!0;else if(e===null){var c=t.stateNode,f=t.memoizedProps;c.props=f;var p=c.context,g=i.contextType;typeof g=="object"&&g!==null?g=kt(g):(g=ot(i)?Vn:Je.current,g=Mi(t,g));var S=i.getDerivedStateFromProps,x=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==o||p!==g)&&Yd(t,c,o,g),fn=!1;var k=t.memoizedState;c.state=k,gs(t,o,c,s),p=t.memoizedState,f!==o||k!==p||rt.current||fn?(typeof S=="function"&&(jl(t,i,S,o),p=t.memoizedState),(f=fn||Jd(t,i,f,o,k,p,g))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=p),c.props=o,c.state=p,c.context=g,o=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{c=t.stateNode,Kf(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:Nt(t.type,f),c.props=g,x=t.pendingProps,k=c.context,p=i.contextType,typeof p=="object"&&p!==null?p=kt(p):(p=ot(i)?Vn:Je.current,p=Mi(t,p));var C=i.getDerivedStateFromProps;(S=typeof C=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==x||k!==p)&&Yd(t,c,o,p),fn=!1,k=t.memoizedState,c.state=k,gs(t,o,c,s);var E=t.memoizedState;f!==x||k!==E||rt.current||fn?(typeof C=="function"&&(jl(t,i,C,o),E=t.memoizedState),(g=fn||Jd(t,i,g,o,k,E,p)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(o,E,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(o,E,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=E),c.props=o,c.state=E,c.context=p,o=g):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),o=!1)}return Rl(e,t,i,o,l,s)}function Rl(e,t,i,o,s,l){_p(e,t);var c=(t.flags&128)!==0;if(!o&&!c)return s&&Zd(t,i,!1),sn(e,t,l);o=t.stateNode,jv.current=t;var f=c&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&c?(t.child=ji(t,e.child,null,l),t.child=ji(t,null,f,l)):qe(e,t,f,l),t.memoizedState=o.state,s&&Zd(t,i,!0),t.child}function yp(e){var t=e.stateNode;t.pendingContext?Bd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bd(e,t.context,!1),Eu(e,t.containerInfo)}function ih(e,t,i,o,s){return Ai(),ku(s),t.flags|=256,qe(e,t,i,o),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function xp(e,t,i){var o=t.pendingProps,s=ke.current,l=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(s&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(ke,s&1),e===null)return Ml(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=o.children,e=o.fallback,l?(o=t.mode,l=t.child,c={mode:"hidden",children:c},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=Bs(c,o,0,null),e=Wn(e,o,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Bl(i),t.memoizedState=Fl,e):Du(t,c));if(s=e.memoizedState,s!==null&&(f=s.dehydrated,f!==null))return Ov(e,t,c,o,f,s,i);if(l){l=o.fallback,c=t.mode,s=e.child,f=s.sibling;var p={mode:"hidden",children:o.children};return!(c&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=p,t.deletions=null):(o=Cn(s,p),o.subtreeFlags=s.subtreeFlags&14680064),f!==null?l=Cn(f,l):(l=Wn(l,c,i,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,c=e.child.memoizedState,c=c===null?Bl(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~i,t.memoizedState=Fl,o}return l=e.child,e=l.sibling,o=Cn(l,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Du(e,t){return t=Bs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,i,o){return o!==null&&ku(o),ji(t,e.child,null,i),e=Du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ov(e,t,i,o,s,l,c){if(i)return t.flags&256?(t.flags&=-257,o=Ja(Error(F(422))),Ao(e,t,c,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,s=t.mode,o=Bs({mode:"visible",children:o.children},s,0,null),l=Wn(l,s,c,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,t.mode&1&&ji(t,e.child,null,c),t.child.memoizedState=Bl(c),t.memoizedState=Fl,l);if(!(t.mode&1))return Ao(e,t,c,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var f=o.dgst;return o=f,l=Error(F(419)),o=Ja(l,o,void 0),Ao(e,t,c,o)}if(f=(c&e.childLanes)!==0,it||f){if(o=Fe,o!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|c)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,on(e,s),Mt(o,e,s,-1))}return Hu(),o=Ja(Error(F(421))),Ao(e,t,c,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gv.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ct=Sn(s.nextSibling),dt=t,ye=!0,Lt=null,e!==null&&(yt[xt++]=Xt,yt[xt++]=en,yt[xt++]=Kn,Xt=e.id,en=e.overflow,Kn=t),t=Du(t,o.children),t.flags|=4096,t)}function rh(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Al(e.return,t,i)}function Ya(e,t,i,o,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=i,l.tailMode=s)}function wp(e,t,i){var o=t.pendingProps,s=o.revealOrder,l=o.tail;if(qe(e,t,o.children,i),o=ke.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rh(e,i,t);else if(e.tag===19)rh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ge(ke,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&vs(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Ya(t,!1,s,i,l);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vs(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Ya(t,!0,i,null,l);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,i=Cn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Cn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Iv(e,t,i){switch(t.tag){case 3:yp(t),Ai();break;case 5:$f(t);break;case 1:ot(t.type)&&ds(t);break;case 4:Eu(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;ge(ps,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):i&t.child.childLanes?xp(e,t,i):(ge(ke,ke.current&1),e=sn(e,t,i),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return wp(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(ke,ke.current),o)break;return null;case 22:case 23:return t.lanes=0,vp(e,t,i)}return sn(e,t,i)}var Sp,Zl,kp,Pp;Sp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Zl=function(){};kp=function(e,t,i,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,Un(Wt.current);var l=null;switch(i){case"input":s=ul(e,s),o=ul(e,o),l=[];break;case"select":s=be({},s,{value:void 0}),o=be({},o,{value:void 0}),l=[];break;case"textarea":s=hl(e,s),o=hl(e,o),l=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=us)}pl(i,o);var c;i=null;for(g in s)if(!o.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var f=s[g];for(c in f)f.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Tr.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in o){var p=o[g];if(f=s!=null?s[g]:void 0,o.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(c in f)!f.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in p)p.hasOwnProperty(c)&&f[c]!==p[c]&&(i||(i={}),i[c]=p[c])}else i||(l||(l=[]),l.push(g,i)),i=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(l=l||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(l=l||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Tr.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&ve("scroll",e),l||f===p||(l=[])):(l=l||[]).push(g,p))}i&&(l=l||[]).push("style",i);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Pp=function(e,t,i,o){i!==o&&(t.flags|=4)};function hr(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Dv(e,t,i){var o=t.pendingProps;switch(Su(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return ot(t.type)&&cs(),$e(t),null;case 3:return o=t.stateNode,Oi(),_e(rt),_e(Je),zu(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(Jl(Lt),Lt=null))),Zl(e,t),$e(t),null;case 5:Lu(t);var s=Un(Fr.current);if(i=t.type,e!==null&&t.stateNode!=null)kp(e,t,i,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(F(166));return $e(t),null}if(e=Un(Wt.current),zo(t)){o=t.stateNode,i=t.type;var l=t.memoizedProps;switch(o[Ut]=t,o[Dr]=l,e=(t.mode&1)!==0,i){case"dialog":ve("cancel",o),ve("close",o);break;case"iframe":case"object":case"embed":ve("load",o);break;case"video":case"audio":for(s=0;s<vr.length;s++)ve(vr[s],o);break;case"source":ve("error",o);break;case"img":case"image":case"link":ve("error",o),ve("load",o);break;case"details":ve("toggle",o);break;case"input":fd(o,l),ve("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},ve("invalid",o);break;case"textarea":md(o,l),ve("invalid",o)}pl(i,l),s=null;for(var c in l)if(l.hasOwnProperty(c)){var f=l[c];c==="children"?typeof f=="string"?o.textContent!==f&&(l.suppressHydrationWarning!==!0&&Lo(o.textContent,f,e),s=["children",f]):typeof f=="number"&&o.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&Lo(o.textContent,f,e),s=["children",""+f]):Tr.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&ve("scroll",o)}switch(i){case"input":So(o),pd(o,l,!0);break;case"textarea":So(o),gd(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=us)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qh(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=c.createElement(i,{is:o.is}):(e=c.createElement(i),i==="select"&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,i),e[Ut]=t,e[Dr]=o,Sp(e,t,!1,!1),t.stateNode=e;e:{switch(c=ml(i,o),i){case"dialog":ve("cancel",e),ve("close",e),s=o;break;case"iframe":case"object":case"embed":ve("load",e),s=o;break;case"video":case"audio":for(s=0;s<vr.length;s++)ve(vr[s],e);s=o;break;case"source":ve("error",e),s=o;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=o;break;case"details":ve("toggle",e),s=o;break;case"input":fd(e,o),s=ul(e,o),ve("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=be({},o,{value:void 0}),ve("invalid",e);break;case"textarea":md(e,o),s=hl(e,o),ve("invalid",e);break;default:s=o}pl(i,s),f=s;for(l in f)if(f.hasOwnProperty(l)){var p=f[l];l==="style"?ef(e,p):l==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Qh(e,p)):l==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&Nr(e,p):typeof p=="number"&&Nr(e,""+p):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Tr.hasOwnProperty(l)?p!=null&&l==="onScroll"&&ve("scroll",e):p!=null&&au(e,l,p,c))}switch(i){case"input":So(e),pd(e,o,!1);break;case"textarea":So(e),gd(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Tn(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?ki(e,!!o.multiple,l,!1):o.defaultValue!=null&&ki(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=us)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Pp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(F(166));if(i=Un(Fr.current),Un(Wt.current),zo(t)){if(o=t.stateNode,i=t.memoizedProps,o[Ut]=t,(l=o.nodeValue!==i)&&(e=dt,e!==null))switch(e.tag){case 3:Lo(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lo(o.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Ut]=t,t.stateNode=o}return $e(t),null;case 13:if(_e(ke),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&ct!==null&&t.mode&1&&!(t.flags&128))Uf(),Ai(),t.flags|=98560,l=!1;else if(l=zo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[Ut]=t}else Ai(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),l=!1}else Lt!==null&&(Jl(Lt),Lt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Oe===0&&(Oe=3):Hu())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return Oi(),Zl(e,t),e===null&&Or(t.stateNode.containerInfo),$e(t),null;case 10:return Cu(t.type._context),$e(t),null;case 17:return ot(t.type)&&cs(),$e(t),null;case 19:if(_e(ke),l=t.memoizedState,l===null)return $e(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)hr(l,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=vs(e),c!==null){for(t.flags|=128,hr(l,!1),o=c.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)l=i,e=o,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ee()>Di&&(t.flags|=128,o=!0,hr(l,!1),t.lanes=4194304)}else{if(!o)if(e=vs(c),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),hr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!ye)return $e(t),null}else 2*Ee()-l.renderingStartTime>Di&&i!==1073741824&&(t.flags|=128,o=!0,hr(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(i=l.last,i!==null?i.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ee(),t.sibling=null,i=ke.current,ge(ke,o?i&1|2:i&1),t):($e(t),null);case 22:case 23:return Uu(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?ut&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function Rv(e,t){switch(Su(t),t.tag){case 1:return ot(t.type)&&cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oi(),_e(rt),_e(Je),zu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lu(t),null;case 13:if(_e(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(ke),null;case 4:return Oi(),null;case 10:return Cu(t.type._context),null;case 22:case 23:return Uu(),null;case 24:return null;default:return null}}var jo=!1,Ge=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,H=null;function wi(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ce(e,t,o)}else i.current=null}function Ul(e,t,i){try{i()}catch(o){Ce(e,t,o)}}var oh=!1;function Bv(e,t){if(bl=ss,e=Ef(),xu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var s=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,f=-1,p=-1,g=0,S=0,x=e,k=null;t:for(;;){for(var C;x!==i||s!==0&&x.nodeType!==3||(f=c+s),x!==l||o!==0&&x.nodeType!==3||(p=c+o),x.nodeType===3&&(c+=x.nodeValue.length),(C=x.firstChild)!==null;)k=x,x=C;for(;;){if(x===e)break t;if(k===i&&++g===s&&(f=c),k===l&&++S===o&&(p=c),(C=x.nextSibling)!==null)break;x=k,k=x.parentNode}x=C}i=f===-1||p===-1?null:{start:f,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cl={focusedElem:e,selectionRange:i},ss=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,V=E.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?T:Nt(t.type,T),V);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Ce(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return E=oh,oh=!1,E}function Pr(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Ul(t,i,l)}s=s.next}while(s!==o)}}function Rs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Hl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function bp(e){var t=e.alternate;t!==null&&(e.alternate=null,bp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[Dr],delete t[El],delete t[Sv],delete t[kv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cp(e){return e.tag===5||e.tag===3||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=us));else if(o!==4&&(e=e.child,e!==null))for(Wl(e,t,i),e=e.sibling;e!==null;)Wl(e,t,i),e=e.sibling}function Vl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Vl(e,t,i),e=e.sibling;e!==null;)Vl(e,t,i),e=e.sibling}var He=null,Et=!1;function cn(e,t,i){for(i=i.child;i!==null;)Tp(e,t,i),i=i.sibling}function Tp(e,t,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Ls,i)}catch{}switch(i.tag){case 5:Ge||wi(i,t);case 6:var o=He,s=Et;He=null,cn(e,t,i),He=o,Et=s,He!==null&&(Et?(e=He,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):He.removeChild(i.stateNode));break;case 18:He!==null&&(Et?(e=He,i=i.stateNode,e.nodeType===8?Ha(e.parentNode,i):e.nodeType===1&&Ha(e,i),Mr(e)):Ha(He,i.stateNode));break;case 4:o=He,s=Et,He=i.stateNode.containerInfo,Et=!0,cn(e,t,i),He=o,Et=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var l=s,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&Ul(i,t,c),s=s.next}while(s!==o)}cn(e,t,i);break;case 1:if(!Ge&&(wi(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(f){Ce(i,t,f)}cn(e,t,i);break;case 21:cn(e,t,i);break;case 22:i.mode&1?(Ge=(o=Ge)||i.memoizedState!==null,cn(e,t,i),Ge=o):cn(e,t,i);break;default:cn(e,t,i)}}function ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Fv),t.forEach(function(o){var s=Jv.bind(null,e,o);i.has(o)||(i.add(o),o.then(s,s))})}}function Tt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];try{var l=e,c=t,f=c;e:for(;f!==null;){switch(f.tag){case 5:He=f.stateNode,Et=!1;break e;case 3:He=f.stateNode.containerInfo,Et=!0;break e;case 4:He=f.stateNode.containerInfo,Et=!0;break e}f=f.return}if(He===null)throw Error(F(160));Tp(l,c,s),He=null,Et=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(g){Ce(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Np(t,e),t=t.sibling}function Np(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Bt(e),o&4){try{Pr(3,e,e.return),Rs(3,e)}catch(T){Ce(e,e.return,T)}try{Pr(5,e,e.return)}catch(T){Ce(e,e.return,T)}}break;case 1:Tt(t,e),Bt(e),o&512&&i!==null&&wi(i,i.return);break;case 5:if(Tt(t,e),Bt(e),o&512&&i!==null&&wi(i,i.return),e.flags&32){var s=e.stateNode;try{Nr(s,"")}catch(T){Ce(e,e.return,T)}}if(o&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,c=i!==null?i.memoizedProps:l,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&Jh(s,l),ml(f,c);var g=ml(f,l);for(c=0;c<p.length;c+=2){var S=p[c],x=p[c+1];S==="style"?ef(s,x):S==="dangerouslySetInnerHTML"?Qh(s,x):S==="children"?Nr(s,x):au(s,S,x,g)}switch(f){case"input":cl(s,l);break;case"textarea":Yh(s,l);break;case"select":var k=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var C=l.value;C!=null?ki(s,!!l.multiple,C,!1):k!==!!l.multiple&&(l.defaultValue!=null?ki(s,!!l.multiple,l.defaultValue,!0):ki(s,!!l.multiple,l.multiple?[]:"",!1))}s[Dr]=l}catch(T){Ce(e,e.return,T)}}break;case 6:if(Tt(t,e),Bt(e),o&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(T){Ce(e,e.return,T)}}break;case 3:if(Tt(t,e),Bt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Mr(t.containerInfo)}catch(T){Ce(e,e.return,T)}break;case 4:Tt(t,e),Bt(e);break;case 13:Tt(t,e),Bt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Bu=Ee())),o&4&&ah(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(Ge=(g=Ge)||S,Tt(t,e),Ge=g):Tt(t,e),Bt(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(H=e,S=e.child;S!==null;){for(x=H=S;H!==null;){switch(k=H,C=k.child,k.tag){case 0:case 11:case 14:case 15:Pr(4,k,k.return);break;case 1:wi(k,k.return);var E=k.stateNode;if(typeof E.componentWillUnmount=="function"){o=k,i=k.return;try{t=o,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(T){Ce(o,i,T)}}break;case 5:wi(k,k.return);break;case 22:if(k.memoizedState!==null){uh(x);continue}}C!==null?(C.return=k,H=C):uh(x)}S=S.sibling}e:for(S=null,x=e;;){if(x.tag===5){if(S===null){S=x;try{s=x.stateNode,g?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=x.stateNode,p=x.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Xh("display",c))}catch(T){Ce(e,e.return,T)}}}else if(x.tag===6){if(S===null)try{x.stateNode.nodeValue=g?"":x.memoizedProps}catch(T){Ce(e,e.return,T)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;S===x&&(S=null),x=x.return}S===x&&(S=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Tt(t,e),Bt(e),o&4&&ah(e);break;case 21:break;default:Tt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Cp(i)){var o=i;break e}i=i.return}throw Error(F(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(Nr(s,""),o.flags&=-33);var l=sh(e);Vl(e,l,s);break;case 3:case 4:var c=o.stateNode.containerInfo,f=sh(e);Wl(e,f,c);break;default:throw Error(F(161))}}catch(p){Ce(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zv(e,t,i){H=e,Ep(e)}function Ep(e,t,i){for(var o=(e.mode&1)!==0;H!==null;){var s=H,l=s.child;if(s.tag===22&&o){var c=s.memoizedState!==null||jo;if(!c){var f=s.alternate,p=f!==null&&f.memoizedState!==null||Ge;f=jo;var g=Ge;if(jo=c,(Ge=p)&&!g)for(H=s;H!==null;)c=H,p=c.child,c.tag===22&&c.memoizedState!==null?ch(s):p!==null?(p.return=c,H=p):ch(s);for(;l!==null;)H=l,Ep(l),l=l.sibling;H=s,jo=f,Ge=g}lh(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,H=l):lh(e)}}function lh(e){for(;H!==null;){var t=H;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Rs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ge)if(i===null)o.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:Nt(t.type,i.memoizedProps);o.componentDidUpdate(s,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Kd(t,l,o);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Kd(t,c,i)}break;case 5:var f=t.stateNode;if(i===null&&t.flags&4){i=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var x=S.dehydrated;x!==null&&Mr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ge||t.flags&512&&Hl(t)}catch(k){Ce(t,t.return,k)}}if(t===e){H=null;break}if(i=t.sibling,i!==null){i.return=t.return,H=i;break}H=t.return}}function uh(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var i=t.sibling;if(i!==null){i.return=t.return,H=i;break}H=t.return}}function ch(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Rs(4,t)}catch(p){Ce(t,i,p)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(p){Ce(t,s,p)}}var l=t.return;try{Hl(t)}catch(p){Ce(t,l,p)}break;case 5:var c=t.return;try{Hl(t)}catch(p){Ce(t,c,p)}}}catch(p){Ce(t,t.return,p)}if(t===e){H=null;break}var f=t.sibling;if(f!==null){f.return=t.return,H=f;break}H=t.return}}var Uv=Math.ceil,xs=an.ReactCurrentDispatcher,Ru=an.ReactCurrentOwner,St=an.ReactCurrentBatchConfig,ce=0,Fe=null,Me=null,We=0,ut=0,Si=zn(0),Oe=0,Hr=null,Gn=0,Fs=0,Fu=0,br=null,nt=null,Bu=0,Di=1/0,qt=null,ws=!1,Kl=null,Pn=null,Oo=!1,_n=null,Ss=0,Cr=0,$l=null,Yo=-1,qo=0;function Qe(){return ce&6?Ee():Yo!==-1?Yo:Yo=Ee()}function bn(e){return e.mode&1?ce&2&&We!==0?We&-We:bv.transition!==null?(qo===0&&(qo=ff()),qo):(e=fe,e!==0||(e=window.event,e=e===void 0?16:xf(e.type)),e):1}function Mt(e,t,i,o){if(50<Cr)throw Cr=0,$l=null,Error(F(185));Jr(e,i,o),(!(ce&2)||e!==Fe)&&(e===Fe&&(!(ce&2)&&(Fs|=i),Oe===4&&mn(e,We)),st(e,o),i===1&&ce===0&&!(t.mode&1)&&(Di=Ee()+500,Os&&Mn()))}function st(e,t){var i=e.callbackNode;bg(e,t);var o=os(e,e===Fe?We:0);if(o===0)i!==null&&yd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&yd(i),t===1)e.tag===0?Pv(dh.bind(null,e)):Ff(dh.bind(null,e)),xv(function(){!(ce&6)&&Mn()}),i=null;else{switch(pf(o)){case 1:i=hu;break;case 4:i=df;break;case 16:i=rs;break;case 536870912:i=hf;break;default:i=rs}i=Dp(i,Lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Lp(e,t){if(Yo=-1,qo=0,ce&6)throw Error(F(327));var i=e.callbackNode;if(Ni()&&e.callbackNode!==i)return null;var o=os(e,e===Fe?We:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=ks(e,o);else{t=o;var s=ce;ce|=2;var l=Mp();(Fe!==e||We!==t)&&(qt=null,Di=Ee()+500,Hn(e,t));do try{Vv();break}catch(f){zp(e,f)}while(!0);bu(),xs.current=l,ce=s,Me!==null?t=0:(Fe=null,We=0,t=Oe)}if(t!==0){if(t===2&&(s=xl(e),s!==0&&(o=s,t=Gl(e,s))),t===1)throw i=Hr,Hn(e,0),mn(e,o),st(e,Ee()),i;if(t===6)mn(e,o);else{if(s=e.current.alternate,!(o&30)&&!Hv(s)&&(t=ks(e,o),t===2&&(l=xl(e),l!==0&&(o=l,t=Gl(e,l))),t===1))throw i=Hr,Hn(e,0),mn(e,o),st(e,Ee()),i;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(F(345));case 2:Fn(e,nt,qt);break;case 3:if(mn(e,o),(o&130023424)===o&&(t=Bu+500-Ee(),10<t)){if(os(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){Qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nl(Fn.bind(null,e,nt,qt),t);break}Fn(e,nt,qt);break;case 4:if(mn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var c=31-zt(o);l=1<<c,c=t[c],c>s&&(s=c),o&=~l}if(o=s,o=Ee()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Uv(o/1960))-o,10<o){e.timeoutHandle=Nl(Fn.bind(null,e,nt,qt),o);break}Fn(e,nt,qt);break;case 5:Fn(e,nt,qt);break;default:throw Error(F(329))}}}return st(e,Ee()),e.callbackNode===i?Lp.bind(null,e):null}function Gl(e,t){var i=br;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=ks(e,t),e!==2&&(t=nt,nt=i,t!==null&&Jl(t)),e}function Jl(e){nt===null?nt=e:nt.push.apply(nt,e)}function Hv(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var s=i[o],l=s.getSnapshot;s=s.value;try{if(!jt(l(),s))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~Fu,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-zt(t),o=1<<i;e[i]=-1,t&=~o}}function dh(e){if(ce&6)throw Error(F(327));Ni();var t=os(e,0);if(!(t&1))return st(e,Ee()),null;var i=ks(e,t);if(e.tag!==0&&i===2){var o=xl(e);o!==0&&(t=o,i=Gl(e,o))}if(i===1)throw i=Hr,Hn(e,0),mn(e,t),st(e,Ee()),i;if(i===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,nt,qt),st(e,Ee()),null}function Zu(e,t){var i=ce;ce|=1;try{return e(t)}finally{ce=i,ce===0&&(Di=Ee()+500,Os&&Mn())}}function Jn(e){_n!==null&&_n.tag===0&&!(ce&6)&&Ni();var t=ce;ce|=1;var i=St.transition,o=fe;try{if(St.transition=null,fe=1,e)return e()}finally{fe=o,St.transition=i,ce=t,!(ce&6)&&Mn()}}function Uu(){ut=Si.current,_e(Si)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,yv(i)),Me!==null)for(i=Me.return;i!==null;){var o=i;switch(Su(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&cs();break;case 3:Oi(),_e(rt),_e(Je),zu();break;case 5:Lu(o);break;case 4:Oi();break;case 13:_e(ke);break;case 19:_e(ke);break;case 10:Cu(o.type._context);break;case 22:case 23:Uu()}i=i.return}if(Fe=e,Me=e=Cn(e.current,null),We=ut=t,Oe=0,Hr=null,Fu=Fs=Gn=0,nt=br=null,Zn!==null){for(t=0;t<Zn.length;t++)if(i=Zn[t],o=i.interleaved,o!==null){i.interleaved=null;var s=o.next,l=i.pending;if(l!==null){var c=l.next;l.next=s,o.next=c}i.pending=o}Zn=null}return e}function zp(e,t){do{var i=Me;try{if(bu(),$o.current=ys,_s){for(var o=Pe.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}_s=!1}if($n=0,Re=je=Pe=null,kr=!1,Br=0,Ru.current=null,i===null||i.return===null){Oe=1,Hr=t,Me=null;break}e:{var l=e,c=i.return,f=i,p=t;if(t=We,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,S=f,x=S.tag;if(!(S.mode&1)&&(x===0||x===11||x===15)){var k=S.alternate;k?(S.updateQueue=k.updateQueue,S.memoizedState=k.memoizedState,S.lanes=k.lanes):(S.updateQueue=null,S.memoizedState=null)}var C=Qd(c);if(C!==null){C.flags&=-257,Xd(C,c,f,l,t),C.mode&1&&qd(l,g,t),t=C,p=g;var E=t.updateQueue;if(E===null){var T=new Set;T.add(p),t.updateQueue=T}else E.add(p);break e}else{if(!(t&1)){qd(l,g,t),Hu();break e}p=Error(F(426))}}else if(ye&&f.mode&1){var V=Qd(c);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Xd(V,c,f,l,t),ku(Ii(p,f));break e}}l=p=Ii(p,f),Oe!==4&&(Oe=2),br===null?br=[l]:br.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var v=pp(l,p,t);Vd(l,v);break e;case 1:f=p;var y=l.type,w=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pn===null||!Pn.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=mp(l,f,t);Vd(l,j);break e}}l=l.return}while(l!==null)}jp(i)}catch(I){t=I,Me===i&&i!==null&&(Me=i=i.return);continue}break}while(!0)}function Mp(){var e=xs.current;return xs.current=ys,e===null?ys:e}function Hu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(Gn&268435455)&&!(Fs&268435455)||mn(Fe,We)}function ks(e,t){var i=ce;ce|=2;var o=Mp();(Fe!==e||We!==t)&&(qt=null,Hn(e,t));do try{Wv();break}catch(s){zp(e,s)}while(!0);if(bu(),ce=i,xs.current=o,Me!==null)throw Error(F(261));return Fe=null,We=0,Oe}function Wv(){for(;Me!==null;)Ap(Me)}function Vv(){for(;Me!==null&&!gg();)Ap(Me)}function Ap(e){var t=Ip(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?jp(e):Me=t,Ru.current=null}function jp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Rv(i,t),i!==null){i.flags&=32767,Me=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Me=null;return}}else if(i=Dv(i,t,ut),i!==null){Me=i;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Oe===0&&(Oe=5)}function Fn(e,t,i){var o=fe,s=St.transition;try{St.transition=null,fe=1,Kv(e,t,i,o)}finally{St.transition=s,fe=o}return null}function Kv(e,t,i,o){do Ni();while(_n!==null);if(ce&6)throw Error(F(327));i=e.finishedWork;var s=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(Cg(e,l),e===Fe&&(Me=Fe=null,We=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Oo||(Oo=!0,Dp(rs,function(){return Ni(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=St.transition,St.transition=null;var c=fe;fe=1;var f=ce;ce|=4,Ru.current=null,Bv(e,i),Np(i,e),hv(Cl),ss=!!bl,Cl=bl=null,e.current=i,Zv(i),vg(),ce=f,fe=c,St.transition=l}else e.current=i;if(Oo&&(Oo=!1,_n=e,Ss=s),l=e.pendingLanes,l===0&&(Pn=null),xg(i.stateNode),st(e,Ee()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],o(s.value,{componentStack:s.stack,digest:s.digest});if(ws)throw ws=!1,e=Kl,Kl=null,e;return Ss&1&&e.tag!==0&&Ni(),l=e.pendingLanes,l&1?e===$l?Cr++:(Cr=0,$l=e):Cr=0,Mn(),null}function Ni(){if(_n!==null){var e=pf(Ss),t=St.transition,i=fe;try{if(St.transition=null,fe=16>e?16:e,_n===null)var o=!1;else{if(e=_n,_n=null,Ss=0,ce&6)throw Error(F(331));var s=ce;for(ce|=4,H=e.current;H!==null;){var l=H,c=l.child;if(H.flags&16){var f=l.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(H=g;H!==null;){var S=H;switch(S.tag){case 0:case 11:case 15:Pr(8,S,l)}var x=S.child;if(x!==null)x.return=S,H=x;else for(;H!==null;){S=H;var k=S.sibling,C=S.return;if(bp(S),S===g){H=null;break}if(k!==null){k.return=C,H=k;break}H=C}}}var E=l.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var V=T.sibling;T.sibling=null,T=V}while(T!==null)}}H=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,H=c;else e:for(;H!==null;){if(l=H,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Pr(9,l,l.return)}var v=l.sibling;if(v!==null){v.return=l.return,H=v;break e}H=l.return}}var y=e.current;for(H=y;H!==null;){c=H;var w=c.child;if(c.subtreeFlags&2064&&w!==null)w.return=c,H=w;else e:for(c=y;H!==null;){if(f=H,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Rs(9,f)}}catch(I){Ce(f,f.return,I)}if(f===c){H=null;break e}var j=f.sibling;if(j!==null){j.return=f.return,H=j;break e}H=f.return}}if(ce=s,Mn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Ls,e)}catch{}o=!0}return o}finally{fe=i,St.transition=t}}return!1}function hh(e,t,i){t=Ii(i,t),t=pp(e,t,1),e=kn(e,t,1),t=Qe(),e!==null&&(Jr(e,1,t),st(e,t))}function Ce(e,t,i){if(e.tag===3)hh(e,e,i);else for(;t!==null;){if(t.tag===3){hh(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Pn===null||!Pn.has(o))){e=Ii(i,e),e=mp(t,e,1),t=kn(t,e,1),e=Qe(),t!==null&&(Jr(t,1,e),st(t,e));break}}t=t.return}}function $v(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&i,Fe===e&&(We&i)===i&&(Oe===4||Oe===3&&(We&130023424)===We&&500>Ee()-Bu?Hn(e,0):Fu|=i),st(e,t)}function Op(e,t){t===0&&(e.mode&1?(t=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):t=1);var i=Qe();e=on(e,t),e!==null&&(Jr(e,t,i),st(e,i))}function Gv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Op(e,i)}function Jv(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(F(314))}o!==null&&o.delete(t),Op(e,i)}var Ip;Ip=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)it=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return it=!1,Iv(e,t,i);it=!!(e.flags&131072)}else it=!1,ye&&t.flags&1048576&&Bf(t,fs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Jo(e,t),e=t.pendingProps;var s=Mi(t,Je.current);Ti(t,i),s=Au(null,t,o,e,s,i);var l=ju();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(o)?(l=!0,ds(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nu(t),s.updater=Ds,t.stateNode=s,s._reactInternals=t,Ol(t,o,e,i),t=Rl(null,t,o,!0,l,i)):(t.tag=0,ye&&l&&wu(t),qe(null,t,s,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Jo(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=qv(o),e=Nt(o,e),s){case 0:t=Dl(null,t,o,e,i);break e;case 1:t=nh(null,t,o,e,i);break e;case 11:t=eh(null,t,o,e,i);break e;case 14:t=th(null,t,o,Nt(o.type,e),i);break e}throw Error(F(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Nt(o,s),Dl(e,t,o,s,i);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Nt(o,s),nh(e,t,o,s,i);case 3:e:{if(yp(t),e===null)throw Error(F(387));o=t.pendingProps,l=t.memoizedState,s=l.element,Kf(e,t),gs(t,o,null,i);var c=t.memoizedState;if(o=c.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Ii(Error(F(423)),t),t=ih(e,t,o,i,s);break e}else if(o!==s){s=Ii(Error(F(424)),t),t=ih(e,t,o,i,s);break e}else for(ct=Sn(t.stateNode.containerInfo.firstChild),dt=t,ye=!0,Lt=null,i=Wf(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ai(),o===s){t=sn(e,t,i);break e}qe(e,t,o,i)}t=t.child}return t;case 5:return $f(t),e===null&&Ml(t),o=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,c=s.children,Tl(o,s)?c=null:l!==null&&Tl(o,l)&&(t.flags|=32),_p(e,t),qe(e,t,c,i),t.child;case 6:return e===null&&Ml(t),null;case 13:return xp(e,t,i);case 4:return Eu(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ji(t,null,o,i):qe(e,t,o,i),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Nt(o,s),eh(e,t,o,s,i);case 7:return qe(e,t,t.pendingProps,i),t.child;case 8:return qe(e,t,t.pendingProps.children,i),t.child;case 12:return qe(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,l=t.memoizedProps,c=s.value,ge(ps,o._currentValue),o._currentValue=c,l!==null)if(jt(l.value,c)){if(l.children===s.children&&!rt.current){t=sn(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){c=l.child;for(var p=f.firstContext;p!==null;){if(p.context===o){if(l.tag===1){p=tn(-1,i&-i),p.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?p.next=p:(p.next=S.next,S.next=p),g.pending=p}}l.lanes|=i,p=l.alternate,p!==null&&(p.lanes|=i),Al(l.return,i,t),f.lanes|=i;break}p=p.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(F(341));c.lanes|=i,f=c.alternate,f!==null&&(f.lanes|=i),Al(c,i,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}qe(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,Ti(t,i),s=kt(s),o=o(s),t.flags|=1,qe(e,t,o,i),t.child;case 14:return o=t.type,s=Nt(o,t.pendingProps),s=Nt(o.type,s),th(e,t,o,s,i);case 15:return gp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Nt(o,s),Jo(e,t),t.tag=1,ot(o)?(e=!0,ds(t)):e=!1,Ti(t,i),fp(t,o,s),Ol(t,o,s,i),Rl(null,t,o,!0,e,i);case 19:return wp(e,t,i);case 22:return vp(e,t,i)}throw Error(F(156,t.tag))};function Dp(e,t){return cf(e,t)}function Yv(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,i,o){return new Yv(e,t,i,o)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qv(e){if(typeof e=="function")return Wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uu)return 11;if(e===cu)return 14}return 2}function Cn(e,t){var i=e.alternate;return i===null?(i=wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Qo(e,t,i,o,s,l){var c=2;if(o=e,typeof e=="function")Wu(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case hi:return Wn(i.children,s,l,t);case lu:c=8,s|=8;break;case ol:return e=wt(12,i,t,s|2),e.elementType=ol,e.lanes=l,e;case sl:return e=wt(13,i,t,s),e.elementType=sl,e.lanes=l,e;case al:return e=wt(19,i,t,s),e.elementType=al,e.lanes=l,e;case Kh:return Bs(i,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wh:c=10;break e;case Vh:c=9;break e;case uu:c=11;break e;case cu:c=14;break e;case hn:c=16,o=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=wt(c,i,t,s),t.elementType=e,t.type=o,t.lanes=l,t}function Wn(e,t,i,o){return e=wt(7,e,o,t),e.lanes=i,e}function Bs(e,t,i,o){return e=wt(22,e,o,t),e.elementType=Kh,e.lanes=i,e.stateNode={isHidden:!1},e}function qa(e,t,i){return e=wt(6,e,null,t),e.lanes=i,e}function Qa(e,t,i){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qv(e,t,i,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vu(e,t,i,o,s,l,c,f,p){return e=new Qv(e,t,i,f,p),t===1?(t=1,l===!0&&(t|=8)):t=0,l=wt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nu(l),e}function Xv(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Rp(e){if(!e)return Nn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var i=e.type;if(ot(i))return Rf(e,i,t)}return t}function Fp(e,t,i,o,s,l,c,f,p){return e=Vu(i,o,!0,e,s,l,c,f,p),e.context=Rp(null),i=e.current,o=Qe(),s=bn(i),l=tn(o,s),l.callback=t??null,kn(i,l,s),e.current.lanes=s,Jr(e,s,o),st(e,o),e}function Zs(e,t,i,o){var s=t.current,l=Qe(),c=bn(s);return i=Rp(i),t.context===null?t.context=i:t.pendingContext=i,t=tn(l,c),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=kn(s,t,c),e!==null&&(Mt(e,s,c,l),Ko(e,s,c)),c}function Ps(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ku(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function e_(){return null}var Bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}Us.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Zs(e,t,null,null)};Us.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Zs(null,e,null,null)}),t[rn]=null}};function Us(e){this._internalRoot=e}Us.prototype.unstable_scheduleHydration=function(e){if(e){var t=vf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<pn.length&&t!==0&&t<pn[i].priority;i++);pn.splice(i,0,e),i===0&&yf(e)}};function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ph(){}function t_(e,t,i,o,s){if(s){if(typeof o=="function"){var l=o;o=function(){var g=Ps(c);l.call(g)}}var c=Fp(t,o,e,0,null,!1,!1,"",ph);return e._reactRootContainer=c,e[rn]=c.current,Or(e.nodeType===8?e.parentNode:e),Jn(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var f=o;o=function(){var g=Ps(p);f.call(g)}}var p=Vu(e,0,!1,null,null,!1,!1,"",ph);return e._reactRootContainer=p,e[rn]=p.current,Or(e.nodeType===8?e.parentNode:e),Jn(function(){Zs(t,p,i,o)}),p}function Ws(e,t,i,o,s){var l=i._reactRootContainer;if(l){var c=l;if(typeof s=="function"){var f=s;s=function(){var p=Ps(c);f.call(p)}}Zs(t,c,e,s)}else c=t_(i,t,e,s,o);return Ps(c)}mf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=gr(t.pendingLanes);i!==0&&(fu(t,i|1),st(t,Ee()),!(ce&6)&&(Di=Ee()+500,Mn()))}break;case 13:Jn(function(){var o=on(e,1);if(o!==null){var s=Qe();Mt(o,e,1,s)}}),Ku(e,1)}};pu=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var i=Qe();Mt(t,e,134217728,i)}Ku(e,134217728)}};gf=function(e){if(e.tag===13){var t=bn(e),i=on(e,t);if(i!==null){var o=Qe();Mt(i,e,t,o)}Ku(e,t)}};vf=function(){return fe};_f=function(e,t){var i=fe;try{return fe=e,t()}finally{fe=i}};vl=function(e,t,i){switch(t){case"input":if(cl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var s=js(o);if(!s)throw Error(F(90));Gh(o),cl(o,s)}}}break;case"textarea":Yh(e,i);break;case"select":t=i.value,t!=null&&ki(e,!!i.multiple,t,!1)}};rf=Zu;of=Jn;var n_={usingClientEntryPoint:!1,Events:[qr,gi,js,tf,nf,Zu]},fr={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i_={bundleType:fr.bundleType,version:fr.version,rendererPackageName:fr.rendererPackageName,rendererConfig:fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lf(e),e===null?null:e.stateNode},findFiberByHostInstance:fr.findFiberByHostInstance||e_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{Ls=Io.inject(i_),Ht=Io}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n_;ft.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gu(t))throw Error(F(200));return Xv(e,t,null,i)};ft.createRoot=function(e,t){if(!Gu(e))throw Error(F(299));var i=!1,o="",s=Bp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vu(e,1,!1,null,null,i,!1,o,s),e[rn]=t.current,Or(e.nodeType===8?e.parentNode:e),new $u(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=lf(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Jn(e)};ft.hydrate=function(e,t,i){if(!Hs(t))throw Error(F(200));return Ws(null,e,t,!0,i)};ft.hydrateRoot=function(e,t,i){if(!Gu(e))throw Error(F(405));var o=i!=null&&i.hydratedSources||null,s=!1,l="",c=Bp;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=Fp(t,null,e,1,i??null,s,!1,l,c),e[rn]=t.current,Or(e),o)for(e=0;e<o.length;e++)i=o[e],s=i._getVersion,s=s(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new Us(t)};ft.render=function(e,t,i){if(!Hs(t))throw Error(F(200));return Ws(null,e,t,!1,i)};ft.unmountComponentAtNode=function(e){if(!Hs(e))throw Error(F(40));return e._reactRootContainer?(Jn(function(){Ws(null,null,e,!1,function(){e._reactRootContainer=null,e[rn]=null})}),!0):!1};ft.unstable_batchedUpdates=Zu;ft.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Hs(i))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Ws(e,t,i,!1,o)};ft.version="18.3.1-next-f1338f8080-20240426";function Zp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zp)}catch(e){console.error(e)}}Zp(),Bh.exports=ft;var Up=Bh.exports,mh=Up;il.createRoot=mh.createRoot,il.hydrateRoot=mh.hydrateRoot;var r_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s_=(e,t)=>{const i=z.forwardRef(({color:o="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,children:f,...p},g)=>z.createElement("svg",{ref:g,...r_,width:s,height:s,stroke:o,strokeWidth:c?Number(l)*24/Number(s):l,className:`lucide lucide-${o_(e)}`,...p},[...t.map(([S,x])=>z.createElement(S,x)),...(Array.isArray(f)?f:[f])||[]]));return i.displayName=`${e}`,i};var ne=s_;const bs=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xo=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),a_=ne("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 11v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1ed1m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]),l_=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Hp=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Cs=ne("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Wr=ne("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Vi=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ki=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ri=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),u_=ne("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Vr=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),gh=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Wp=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),En=ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),c_=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),d_=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h_=ne("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),f_=ne("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),p_=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),m_=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),g_=ne("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),Ju=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),At=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Vp=ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),v_=ne("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]),vh=ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Fi=ne("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),Yl=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_h=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),__=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),y_=ne("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),x_=ne("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),w_=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),Bi=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ql=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),S_=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),k_=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),P_=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ts=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),b_="Philippines & Japan Trip 2026",C_={total:3500,currency:"USD"},T_=[{name:"Earl Cameron",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",dob:"January 21, 1992"}],N_=[{name:"Travel to Philippines",region:"US  PH",segments:[{id:"seg-001",date:"2026-01-30",dateDisplay:"Fri Jan 30, 2026",timeStart:"6:10 PM",timeEnd:"9:43 PM",tz:"US",tzFrom:"ET",tzTo:"PT",route:"FLL  SFO",type:"Flight",airline:"United",flight:"UA249",cabinClass:"Economy S",details:"UA249 (United Economy S)",departureAirport:"FLL - Fort Lauderdale-Hollywood Intl.",arrivalAirport:"SFO - San Francisco Intl.",duration:"5h 33m",status:"BOOKED",estimatedCost:320,currency:"USD"},{id:"seg-002",date:"2026-01-30",dateEnd:"2026-02-01",dateDisplay:"Fri Jan 30  Sun Feb 1, 2026",timeStart:"11:45 PM",timeEnd:"6:50 AM +2",tz:"US",tzFrom:"PT",tzTo:"PHT",route:"SFO  MNL",type:"Flight",airline:"United",flight:"UA189",cabinClass:"Economy S",details:"UA189 (United Economy S) - Crosses International Date Line",departureAirport:"SFO - San Francisco Intl.",arrivalAirport:"MNL - Ninoy Aquino Intl. T1",duration:"~14h",status:"BOOKED",estimatedCost:580,currency:"USD",crossesDateline:!0,note:"Departs Jan 30 11:45 PM PT, arrives Feb 1 6:50 AM PHT (skips Jan 31)"}]},{name:"Philippines Stay",region:"PH",segments:[{id:"seg-003",date:"2026-02-01",dateDisplay:"Sun Feb 1, 2026",timeStart:"6:50 AM",timeEnd:"12:30 PM",tz:"PH",tzLabel:"PHT",location:"MNL - Ninoy Aquino Intl.",type:"Airport",details:"Immigration / baggage claim / buffer time",status:"BUFFER"},{id:"seg-004",date:"2026-02-01",dateDisplay:"Sun Feb 1, 2026",timeStart:"5:25 PM",timeEnd:"6:45 PM",tz:"PH",tzLabel:"PHT",route:"MNL  BCD",type:"Flight",airline:"Philippines AirAsia",flight:"Z2605",aircraft:"Airbus A320",cabinClass:"Economy",details:"Philippines AirAsia Z2605",departureAirport:"MNL - Ninoy Aquino Intl. T2",arrivalAirport:"BCD - Bacolod-Silay Intl.",duration:"1h 20m",status:"BOOKED",estimatedCost:2500,currency:"PHP"},{id:"seg-005",date:"2026-02-01",dateEnd:"2026-02-06",dateDisplay:"Sun Feb 1  Fri Feb 6",tz:"PH",tzLabel:"PHT",location:"Bacolod (BCD)",type:"Stay",details:"Home stay in Bacolod - prep for Japan trip",status:"PLANNED",shelter:{name:"Home - Bacolod",address:"Bacolod City, Negros Occidental, Philippines",type:"Personal residence",notes:"Family home",coordinates:{lat:10.6765,lng:122.9509}}},{id:"seg-005a",date:"2026-02-02",dateDisplay:"Mon Feb 2, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Rest & Recovery Day",status:"PLANNED",activities:[]},{id:"seg-005b",date:"2026-02-03",dateDisplay:"Tue Feb 3, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Explore Bacolod",status:"PLANNED",activities:[]},{id:"seg-005c",date:"2026-02-04",dateDisplay:"Wed Feb 4, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Family Day",status:"PLANNED",activities:[]},{id:"seg-005d",date:"2026-02-05",dateDisplay:"Thu Feb 5, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Japan Trip Prep Day",status:"PLANNED",activities:[]}]},{name:"Japan Trip",region:"JP",passengers:["Earl Cameron","Paula Mariz Yumul"],segments:[{id:"seg-006",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"6:20 AM",timeEnd:"7:45 AM",tz:"PH",tzLabel:"PHT",route:"BCD  MNL",type:"Flight",airline:"Cebu Pacific / Cebgo",flight:"5J 474",cabinClass:"GO Easy",details:"5J 474 (Cebu Pacific)",departureAirport:"BCD - New Bacolod Silay Airport",arrivalAirport:"MNL - Ninoy Aquino Intl. T3",duration:"1h 25m",status:"BOOKED",estimatedCost:50,currency:"USD",bookingRef:"ALBB7N",passengers:[{name:"Earl Cameron",seat:"19B",baggage:"20kg checked"},{name:"Paula Mariz Yumul",seat:"19C",baggage:"20kg checked"}]},{id:"seg-008",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"12:35 PM",timeEnd:"6:00 PM",tz:"PH",tzFrom:"PHT",tzTo:"JST",route:"MNL  NRT",type:"Flight",airline:"Cebu Pacific",flight:"5J 5056",cabinClass:"GO Easy",details:"5J 5056 (Cebu Pacific)",departureAirport:"MNL - Ninoy Aquino Intl. T3",arrivalAirport:"NRT - Narita Intl. T2",duration:"4h 25m",status:"BOOKED",estimatedCost:50,currency:"USD",bookingRef:"ALBB7N",passengers:[{name:"Earl Cameron",seat:"47C",baggage:"20kg checked"},{name:"Paula Mariz Yumul",seat:"47D",baggage:"20kg checked"}]},{id:"seg-009",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"6:30 PM",timeEnd:"8:00 PM",tz:"JP",tzLabel:"JST",route:"NRT  Tokyo",type:"Transit",details:"Train/bus to Tokyo city center",status:"PLANNED"},{id:"seg-010",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"4:00 PM",tz:"JP",tzLabel:"JST",location:"Taito City, Tokyo",type:"Check-in",details:"Airbnb check-in (1 night before Joetsu)",status:"BOOKED",estimatedCost:53.66,currency:"USD",shelter:{name:"Home in Taito City (501)",type:"Airbnb",host:"Tomson",address:"5 Chome-8 Asakusabashi, Taito City, Tokyo 111-0053, Japan",checkIn:"After 4:00 PM (self check-in with lockbox)",checkOut:"By 10:00 AM",guests:"2 adults",pricePerNight:53.66,notes:"Entire home/apt - Near Yamanote line, direct access to Narita/Haneda",cancellation:"Free for 24hrs; partial refund if cancelled before Feb 2 4:00 PM",amenities:["Carbon monoxide alarm","Smoke alarm"],coordinates:{lat:35.6986,lng:139.7828}}},{id:"seg-011",date:"2026-02-07",dateDisplay:"Sat Feb 7, 2026",timeStart:"10:27 AM",timeEnd:"12:31 PM",tz:"JP",tzLabel:"JST",route:"Taito City  Joetsu-Myoko",type:"Travel",details:"Hokuriku Shinkansen Hakutaka 559 to Joetsu (2h 4m total)",status:"PLANNED",estimatedCost:9230,currency:"JPY",legs:[{type:"Walk",from:"Taito City (Airbnb)",to:"Ueno Station",duration:"12 min",distance:"550 m",timeStart:"10:27 AM"},{type:"Shinkansen",train:"Hokuriku Shinkansen Hakutaka 559",from:"Ueno Station",to:"Jetsumyk Station",platform:"19",duration:"1h 49m",stops:7,timeStart:"10:39 AM",timeEnd:"12:28 PM"},{type:"Walk",from:"Jetsumyk Station",to:"APA Hotel Joetsu Myoko-Ekimae",duration:"3 min",distance:"280 m",timeEnd:"12:31 PM"}]},{id:"seg-012",date:"2026-02-07",dateEnd:"2026-02-09",dateDisplay:"Sat Feb 7  Mon Feb 9, 2026",timeStart:"3:00 PM",tz:"JP",tzLabel:"JST",location:"Joetsu",type:"Check-in",details:"Hotel check-in (2 nights, Double Room - Non-Smoking)",status:"BOOKED",estimatedCost:26300,currency:"JPY",shelter:{name:"APA Hotel Joetsu Myoko-Ekimae",type:"Hotel",address:"Niigata, Joetsu, Yamato 2-3-1, Japan",phone:"+81 25-527-5810",checkIn:"3:00 PM - 12:00 AM",checkOut:"10:00 AM",confirmationNumber:"6033468060",pin:"0467",roomType:"Double Room - Non-Smoking",notes:"2 adults, 2 nights - Payment scheduled Feb 4 (card ending 5797)",cancellation:"Free until Feb 5; 15,500 from Feb 6; 26,300 from Feb 8",coordinates:{lat:37.1033,lng:138.2531}}},{id:"seg-013",date:"2026-02-07",dateDisplay:"Sat Feb 7, 2026",timeStart:"1:30 PM",timeEnd:"5:00 PM",tz:"JP",tzLabel:"JST",location:"Myoko Kogen",type:"Activity",details:"Ski rental setup + warm-up runs",status:"PLANNED",activities:[]},{id:"seg-014",date:"2026-02-08",dateDisplay:"Sun Feb 8, 2026",timeStart:"9:00 AM",timeEnd:"3:30 PM",tz:"JP",tzLabel:"JST",location:"Myoko Kogen",type:"Activity",details:"Full ski day",status:"PLANNED",activities:[]},{id:"seg-015",date:"2026-02-09",dateDisplay:"Mon Feb 9, 2026",timeStart:"12:00 PM",timeEnd:"2:04 PM",tz:"JP",tzLabel:"JST",route:"Joetsu-Myoko  Tokyo (Taito City)",type:"Travel",details:"Hokuriku Shinkansen Hakutaka to Ueno (2h 4m total)",status:"PLANNED",estimatedCost:9230,currency:"JPY",legs:[{type:"Walk",from:"APA Hotel Joetsu Myoko-Ekimae",to:"Jetsumyk Station",duration:"3 min",distance:"280 m",timeStart:"12:00 PM"},{type:"Shinkansen",train:"Hokuriku Shinkansen Hakutaka",from:"Jetsumyk Station",to:"Ueno Station",duration:"1h 49m",stops:7,timeStart:"12:12 PM",timeEnd:"2:01 PM",note:"Same line as outbound, reverse direction"},{type:"Walk",from:"Ueno Station",to:"Taito City (Airbnb)",duration:"12 min",distance:"550 m",timeEnd:"2:15 PM"}]},{id:"seg-016",date:"2026-02-09",dateEnd:"2026-02-12",dateDisplay:"Mon Feb 9  Thu Feb 12, 2026",timeStart:"4:00 PM",tz:"JP",tzLabel:"JST",location:"Taito City, Tokyo",type:"Check-in",details:"Airbnb check-in (3 nights)",status:"BOOKED",estimatedCost:160.97,currency:"USD",shelter:{name:"Home in Taito City (501)",type:"Airbnb",host:"Tomson",address:"5 Chome-8 Asakusabashi, Taito City, Tokyo 111-0053, Japan",checkIn:"After 4:00 PM (self check-in with lockbox)",checkOut:"By 10:00 AM",guests:"2 adults",pricePerNight:53.66,notes:"Entire home/apt - Near Yamanote line, direct access to Narita/Haneda",cancellation:"Free for 24hrs; partial refund if cancelled before Feb 2 4:00 PM",amenities:["Carbon monoxide alarm","Smoke alarm"],coordinates:{lat:35.6986,lng:139.7828}}},{id:"seg-017",date:"2026-02-09",dateDisplay:"Mon Feb 9, 2026",timeStart:"3:00 PM",timeEnd:"10:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Explore Tokyo - Arrival Day",status:"PLANNED",activities:[]},{id:"seg-018",date:"2026-02-10",dateDisplay:"Tue Feb 10, 2026",timeStart:"10:00 AM",timeEnd:"10:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Full day exploring Tokyo",status:"PLANNED",activities:[]},{id:"seg-019",date:"2026-02-11",dateDisplay:"Wed Feb 11, 2026",timeStart:"10:00 AM",timeEnd:"9:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Last day in Tokyo - Shopping & Packing",status:"PLANNED",activities:[]},{id:"seg-020",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"05:00 AM",timeEnd:"06:00 AM",tz:"JP",tzLabel:"JST",route:"Tokyo  NRT",type:"Transit",details:"Early morning airport transfer (arrive 3hrs before 8:55 AM flight)",status:"PLANNED"},{id:"seg-021",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"08:55 AM",timeEnd:"01:00 PM",tz:"JP",tzFrom:"JST",tzTo:"PHT",route:"NRT  MNL",type:"Flight",details:"Zipair Tokyo ZG095 (5h 5m)",flightNumber:"ZG095",airline:"Zipair Tokyo",departureAirport:"NRT - Narita International Airport",arrivalAirport:"MNL - Ninoy Aquino International Airport",status:"BOOKED",estimatedCost:286.2,currency:"USD",costNote:"2 adult tickets incl. taxes $26.30",passengers:[{name:"Earl Cameron",gender:"Male",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",gender:"Female",dob:"January 21, 1992"}]},{id:"seg-022",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"05:25 PM",timeEnd:"06:45 PM",tz:"PH",tzLabel:"PHT",route:"MNL  BCD",type:"Flight",details:"Philippines AirAsia Z2605 (1h 20m) - Self-transfer from ZG095 (4h 25m layover)",flightNumber:"Z2605",airline:"Philippines AirAsia",departureAirport:"MNL - Ninoy Aquino International Airport",arrivalAirport:"BCD - Bacolod-Silay International Airport",status:"BOOKED",estimatedCost:46.6,currency:"USD",costNote:"2 adult tickets incl. taxes $18.10",passengers:[{name:"Earl Cameron",gender:"Male",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",gender:"Female",dob:"January 21, 1992"}]}]},{name:"Back in Philippines",region:"PH",segments:[{id:"seg-023",date:"2026-02-12",dateEnd:"2026-02-13",dateDisplay:"Thu Feb 12  Fri Feb 13",tz:"PH",tzLabel:"PHT",location:"Bacolod (BCD)",type:"Stay",details:"Home buffer days before return to US",status:"PLANNED",shelter:{name:"Home - Bacolod",address:"Bacolod City, Negros Occidental, Philippines",type:"Personal residence",notes:"Family home",coordinates:{lat:10.6765,lng:122.9509}}}]},{name:"Return to Florida",region:"PH  US",segments:[{id:"seg-024",date:"2026-02-14",dateDisplay:"Sat Feb 14, 2026",timeStart:"07:30 PM",timeEnd:"08:45 PM",tz:"PH",tzLabel:"PHT",route:"BCD  MNL",type:"Flight",details:"Philippines AirAsia Z2606 (1h 15m) - Airbus A320",flightNumber:"Z2606",airline:"Philippines AirAsia",departureAirport:"BCD - Bacolod-Silay Intl.",arrivalAirport:"MNL - Ninoy Aquino Intl. T2",cabinClass:"Economy",status:"BOOKED",estimatedCost:50,currency:"USD"},{id:"seg-024b",date:"2026-02-14",dateEnd:"2026-02-15",dateDisplay:"Sat Feb 14  Sun Feb 15",tz:"PH",tzLabel:"PHT",location:"Pasay, Manila",type:"Stay",details:"Overnight in Manila before late flight to US",status:"BOOKED",estimatedCost:33.64,currency:"USD",shelter:{name:"AAH Residences C1-7W-Studio A @ 81 Newport Blvd",type:"Airbnb",host:"Grace",checkIn:"After 2:00 PM",checkOut:"By 12:00 PM",guests:"1 adult (2 max)",pricePerNight:33.64,notes:"Entire home/apt - Near Newport/MNL airport area. Exact address sent 25 days before.",houseRules:"No pets, Quiet hours 10PM-8AM",cancellation:"Free before Feb 9 2:00 PM; non-refundable after",amenities:["Exterior security cameras","Smoke alarm"],coordinates:{lat:14.5095,lng:121.0195}}},{id:"seg-025",date:"2026-02-15",dateDisplay:"Sun Feb 15, 2026",timeStart:"11:25 PM",timeEnd:"7:55 PM",tz:"PH",tzFrom:"PHT",tzTo:"PT",route:"MNL  SFO",type:"Flight",airline:"United",flight:"UA810",cabinClass:"Economy W",details:"UA810 (United Economy W) - Same calendar day arrival",departureAirport:"MNL - Ninoy Aquino Intl.",arrivalAirport:"SFO - San Francisco Intl.",duration:"~12h",status:"BOOKED",estimatedCost:580,currency:"USD",note:"Departs Feb 15 11:25 PM PHT, arrives Feb 15 7:55 PM PT (gains time)"},{id:"seg-026",date:"2026-02-15",dateEnd:"2026-02-16",dateDisplay:"Sun Feb 15  Mon Feb 16, 2026",timeStart:"9:20 PM",timeEnd:"12:58 AM +1",tz:"US",tzFrom:"PT",tzTo:"MT",route:"SFO  DEN",type:"Flight",airline:"United",flight:"UA301",cabinClass:"Economy W",details:"UA301 (United Economy W)",departureAirport:"SFO - San Francisco Intl.",arrivalAirport:"DEN - Denver Intl.",duration:"2h 38m",status:"BOOKED",estimatedCost:280,currency:"USD"},{id:"seg-027",date:"2026-02-16",dateDisplay:"Mon Feb 16, 2026",timeStart:"8:05 AM",timeEnd:"1:59 PM",tz:"US",tzFrom:"MT",tzTo:"ET",route:"DEN  FLL",type:"Flight",airline:"United",flight:"UA1469",cabinClass:"Economy W",details:"UA1469 (United Economy W)",departureAirport:"DEN - Denver Intl.",arrivalAirport:"FLL - Fort Lauderdale-Hollywood Intl.",duration:"3h 54m",status:"BOOKED",estimatedCost:320,currency:"USD"}]}],Xr={tripName:b_,budget:C_,travelers:T_,trips:N_},E_=365,L_={BOOKED:"BOOKED",PLANNED:"PLANNED",PLANNED_WARN:"PLANNED_WARN",BUFFER:"BUFFER",TO_BOOK:"TO_BOOK",WEEKEND_SKI:"WEEKEND_SKI",OPTIONAL:"OPTIONAL",IF_CONDITIONAL:"IF_CONDITIONAL",UNSET:"UNSET"},z_=["flight","travel","transit","bus","airport"],M_=Xr.budget||{total:0,currency:"USD"},A_=Xr.tripName||"Travel Itinerary";Xr.travelers;function j_(e){if(!e)return null;const t=e.match(/([A-Z]{2})(\d+)/);return t?t[1]:null}function O_(e){if(!e)return null;const t=e.match(/([A-Z]{2})(\d+)/);return t?t[0]:null}function I_(e){if(!e)return null;const t=e.match(/\s*(.+?)(?:\s*|$)/);return t?t[1].trim():null}function Ql(e){var t;return e.location?e.location:e.route&&((t=e.route.split("")[1])==null?void 0:t.trim())||null}function D_(e){if(!e)return null;const t=e.match(/\b([A-Z]{3})\b/);if(t)return t[1];const i={Tokyo:" Tokyo",Joetsu:" Joetsu",Myoko:" Myoko",Manila:" Manila",MNL:" Manila",Bacolod:" Bacolod",BCD:" Bacolod","San Francisco":" San Francisco",SFO:" San Francisco",Denver:" Denver",DEN:" Denver",Miami:" Miami",FLL:" Miami"};for(const[o,s]of Object.entries(i))if(e.includes(o))return s;return e}function Zi(e,t){return e?t&&t!==e?`${e}  ${t}`:e:null}function R_(e){const[t,i,o]=e.split("-").map(Number),s=new Date(t,i-1,o,12,0,0),l={weekday:"short",month:"short",day:"numeric",year:"numeric"};return s.toLocaleDateString("en-US",l)}function F_(e,t){const i=[],[o,s,l]=e.split("-").map(Number),[c,f,p]=t.split("-").map(Number),g=new Date(o,s-1,l,12,0,0),S=new Date(c,f-1,p,12,0,0);let x=0;for(;g<=S&&x<E_;){const k=g.getFullYear(),C=String(g.getMonth()+1).padStart(2,"0"),E=String(g.getDate()).padStart(2,"0");i.push(`${k}-${C}-${E}`),g.setDate(g.getDate()+1),x++}return i}function B_(e=Xr){return{tripName:e.tripName||"Travel Itinerary",budget:e.budget||{total:0,currency:"USD"},travelers:e.travelers||[]}}function Z_(e){return!e.status||e.status==="BOOKED"||e.status==="TO_BOOK"?{trigger:"Flight delay (>2 hrs) or cancellation",options:[{id:`bp-${e.id}-1`,priority:1,title:"Next available flight same route",description:"Rebook on next available flight to same destination",status:"TO_BOOK",contact:"Airline customer service / online rebooking"},{id:`bp-${e.id}-2`,priority:2,title:"Alternate route via different hub",description:"Consider booking via alternate routing if available",status:"TO_BOOK",contact:"Airline customer service"},{id:`bp-${e.id}-3`,priority:3,title:"Ground transportation alternative",description:"Use ground transport if delay < 24hrs and destination reachable",status:"TO_BOOK",contact:"Local transportation providers"}]}:null}function U_(e,t,i){return{dateKey:e,dateDisplay:R_(e),timezone:(i==null?void 0:i.tzLabel)||(i==null?void 0:i.tzFrom)||(i==null?void 0:i.tz)||"UTC",tz:(i==null?void 0:i.tz)||null,region:(t==null?void 0:t.region)||null,summary:t.name,location:Ql(i),travel:[],shelter:{},meals:[],activities:[],metadata:{hasTravel:!1,locationFlags:[],estimatedCost:0,costCurrencies:new Set,unbootedCount:0,hasUnbooked:!1,isContinuationDay:!1}}}function H_(e,t,i){return{id:e.id,type:e.type,route:e.route||null,time:Zi(e.timeStart,e.timeEnd),duration:e.duration||null,status:L_[e.status]||"UNSET",details:e.details,airline:e.airline||j_(e.details),flight:e.flight||O_(e.details),aircraft:e.aircraft||null,cabinClass:e.cabinClass||null,departureAirport:e.departureAirport||null,arrivalAirport:e.arrivalAirport||null,location:e.location,name:e.details,estimatedCost:e.estimatedCost||null,currency:e.currency||null,isMultiDay:i>1,dayOfSpan:t+1,totalDays:i}}function Kp(e=Xr){const t=new Map;function i(o,s,l){return t.has(o)||t.set(o,U_(o,s,l)),t.get(o)}for(const o of e.trips)for(const s of o.segments){const l=s.date,c=s.dateEnd||s.date,f=s.type.toLowerCase(),p=F_(l,c);for(let g=0;g<p.length;g++){const S=p[g],x=i(S,o,s);f==="flight"&&p.length>1&&g>0&&g<p.length-1&&(x.isInFlight=!0,x.inFlightDetails={route:s.route,flight:s.flight||s.details,note:"Crossing International Date Line"}),(s.tz||s.tzFrom)&&(x.timezone=s.tz||s.tzFrom),Ql(s)&&!x.location&&(x.location=Ql(s));const k=H_(s,g,p.length);W_(x,s,f,g),V_(x,s,k,f,p,g)}}return Q_(t)}function W_(e,t,i,o){if(z_.includes(i)&&(e.metadata.hasTravel=!0),t.status==="TO_BOOK"&&o===0&&(e.metadata.unbootedCount+=1,e.metadata.hasUnbooked=!0),t.estimatedCost&&o===0&&(e.metadata.estimatedCost+=t.estimatedCost,e.metadata.costCurrencies.add(t.currency)),t.location){const s=D_(t.location);s&&!e.metadata.locationFlags.includes(s)&&e.metadata.locationFlags.push(s)}}function V_(e,t,i,o,s,l){const c=l===0,f=l===s.length-1,p=s.length>1;switch(o){case"flight":case"travel":case"transit":case"bus":case"airport":K_(e,t,i,o,c,f,p);break;case"stay":case"check-in":$_(e,t,s,l);break;case"meal":c&&G_(e,t);break;case"activity":case"explore":case"prep":case"ski setup":case"activities":c&&J_(e,t);break;case"layover":c&&Y_(e,t);break;default:t.details&&c&&q_(e,t)}}function K_(e,t,i,o,s,l,c){if(s||c&&l){const f={...i,isDeparture:s,isArrival:!s&&l,crossesDateline:c&&o==="flight"};o==="flight"&&s&&(f.backupPlan=Z_(t)),e.travel.push(f)}}function $_(e,t,i,o){if(t.dateEnd&&o===i.length-1||e.shelter.name)return;const l=o===0,c=i.length-1;t.shelter?e.shelter={name:t.shelter.name,address:t.shelter.address,type:t.shelter.type||null,notes:t.shelter.notes||null,host:t.shelter.host||null,checkIn:l&&(t.timeStart||t.shelter.checkIn)||null,checkOut:t.shelter.checkOut||null,isMultiDayStay:i.length>1,dayOfStay:o+1,totalStayDays:c,estimatedCost:t.estimatedCost||null,currency:t.currency||null,coordinates:t.shelter.coordinates||null}:e.shelter={name:t.location||t.details,address:I_(t.details),checkIn:l&&t.timeStart||null,checkOut:null,notes:t.note||null,isMultiDayStay:i.length>1,dayOfStay:o+1,totalStayDays:c,estimatedCost:t.estimatedCost||null,currency:t.currency||null,coordinates:null}}function G_(e,t){e.meals.push({id:t.id,type:t.details,location:t.location,time:Zi(t.timeStart,t.timeEnd),details:t.details})}function J_(e,t){if(t.activities&&Array.isArray(t.activities))for(const i of t.activities)e.activities.push({id:`${t.id}-${i.name}`,name:i.name,location:i.location||t.location,time:Zi(i.timeStart,i.timeEnd),timeStart:i.timeStart,timeEnd:i.timeEnd,description:i.notes||i.name,type:i.category||t.type,icon:i.icon,priority:i.priority,category:i.category,estimatedCost:i.estimatedCost,currency:i.currency,notes:i.notes,coordinates:i.coordinates||null});else e.activities.push({id:t.id,name:t.details,location:t.location,time:Zi(t.timeStart,t.timeEnd),description:t.details,type:t.type})}function Y_(e,t){e.activities.push({id:t.id,name:`Layover: ${t.details}`,location:t.location,time:Zi(t.timeStart,t.timeEnd),description:t.details,type:"layover"})}function q_(e,t){e.activities.push({id:t.id,name:t.details,location:t.location,time:Zi(t.timeStart,t.timeEnd),description:t.details,type:t.type})}function Q_(e){return Array.from(e.values()).sort((t,i)=>new Date(t.dateKey)-new Date(i.dateKey)).map(t=>({...t,metadata:{...t.metadata,costCurrencies:Array.from(t.metadata.costCurrencies)}}))}const X_=Kp();function ey(e){return Kp(e)}const $p="TravelItineraryDB",yh=2,ty=365,q={TRIP_META:"tripMeta",TRIPS:"trips",USER_ACTIVITIES:"userActivities",DELETED_ACTIVITIES:"deletedActivities",SETTINGS:"settings"};let Ie=null;function at(e,t){const i=new Error(`${e}: ${t.message}`);return i.cause=t,i}function ny(e){const t=new Set;for(const i of e){const o=i.segments||[];for(const s of o)if(s.date&&t.add(s.date),s.dateEnd&&s.date){const l=new Date(s.date),c=new Date(s.dateEnd);if(c>=l){const f=new Date(l);let p=0;for(;f<=c&&p<ty;)t.add(f.toISOString().split("T")[0]),f.setDate(f.getDate()+1),p++}}}return t}function iy(e){return{id:"main",tripName:e.tripName||"My Trip",budget:e.budget||{total:0,currency:"USD"},travelers:e.travelers||[]}}function ry(e){return{name:e.name,region:e.region,segments:e.segments||[]}}function Gp(e,t){const i={};for(const o of e){const s=o[t];s&&s.length>0&&(i[o.date]=s)}return i}function mt(){return new Promise(e=>{if(Ie){e([Ie,null]);return}const t=indexedDB.open($p,yh);t.onerror=()=>{console.error("IndexedDB error:",t.error),e([null,t.error||new Error("Failed to open IndexedDB")])},t.onsuccess=()=>{Ie=t.result,console.log(" IndexedDB initialized"),e([Ie,null])},t.onblocked=()=>{console.warn(" IndexedDB blocked - close other tabs using this app")},t.onupgradeneeded=i=>{const o=i.target.result,s=i.oldVersion;console.log(` Upgrading IndexedDB from v${s} to v${yh}...`),s<2&&(o.objectStoreNames.contains("activities")&&o.deleteObjectStore("activities"),o.objectStoreNames.contains("deleted")&&o.deleteObjectStore("deleted")),o.objectStoreNames.contains(q.TRIP_META)||o.createObjectStore(q.TRIP_META,{keyPath:"id"}),o.objectStoreNames.contains(q.TRIPS)||o.createObjectStore(q.TRIPS,{keyPath:"name"}).createIndex("region","region",{unique:!1}),o.objectStoreNames.contains(q.USER_ACTIVITIES)||o.createObjectStore(q.USER_ACTIVITIES,{keyPath:"date"}),o.objectStoreNames.contains(q.DELETED_ACTIVITIES)||o.createObjectStore(q.DELETED_ACTIVITIES,{keyPath:"date"}),o.objectStoreNames.contains(q.SETTINGS)||o.createObjectStore(q.SETTINGS,{keyPath:"key"}),console.log(" IndexedDB stores created/updated")}})}async function oy(){const[,e]=await mt();return e?[null,at("isDataInitialized",e)]:new Promise(t=>{const s=Ie.transaction([q.SETTINGS],"readonly").objectStore(q.SETTINGS).get("initialized");s.onsuccess=()=>{var c;const l=((c=s.result)==null?void 0:c.value)===!0;t([l,null])},s.onerror=()=>t([null,s.error||new Error("Failed to check initialization status")])})}async function sy(){const[,e]=await mt();return e?[null,at("markInitialized",e)]:new Promise(t=>{const o=Ie.transaction([q.SETTINGS],"readwrite").objectStore(q.SETTINGS),s={key:"initialized",value:!0,timestamp:Date.now()},l=o.put(s);l.onsuccess=()=>t([void 0,null]),l.onerror=()=>t([null,l.error||new Error("Failed to mark initialized")])})}async function ay(e){const[,t]=await mt();return t?[null,at("importItineraryData",t)]:new Promise(i=>{const o=Ie.transaction([q.TRIP_META,q.TRIPS,q.USER_ACTIVITIES,q.DELETED_ACTIVITIES],"readwrite");o.onerror=()=>i([null,o.error||new Error("Import transaction failed")]),o.oncomplete=()=>{console.log(" Itinerary data imported to IndexedDB"),i([void 0,null])};const s=o.objectStore(q.TRIP_META),l=iy(e);s.put(l);const c=o.objectStore(q.TRIPS),f=e.trips||[];for(const x of f){const k=ry(x);c.put(k)}const p=o.objectStore(q.USER_ACTIVITIES),g=o.objectStore(q.DELETED_ACTIVITIES),S=ny(f);for(const x of S)p.put({date:x,items:[]}),g.put({date:x,ids:[]})})}async function ly(){const[,e]=await mt();return e?[null,at("getTripMeta",e)]:new Promise(t=>{const s=Ie.transaction([q.TRIP_META],"readonly").objectStore(q.TRIP_META).get("main");s.onsuccess=()=>t([s.result||null,null]),s.onerror=()=>t([null,s.error||new Error("Failed to get trip metadata")])})}async function uy(){const[,e]=await mt();return e?[null,at("getAllTrips",e)]:new Promise(t=>{const s=Ie.transaction([q.TRIPS],"readonly").objectStore(q.TRIPS).getAll();s.onsuccess=()=>t([s.result||[],null]),s.onerror=()=>t([null,s.error||new Error("Failed to get trips")])})}async function Xa(){const[e,t]=await ly();if(t)return[null,at("getItineraryData",t)];const[i,o]=await uy();return o?[null,at("getItineraryData",o)]:e?[{tripName:e.tripName,budget:e.budget,travelers:e.travelers,trips:i},null]:[null,null]}async function cy(e,t){const[,i]=await mt();return i?[null,at("addActivity",i)]:new Promise(o=>{const l=Ie.transaction([q.USER_ACTIVITIES],"readwrite").objectStore(q.USER_ACTIVITIES),c=l.get(e);c.onsuccess=()=>{const f=c.result||{date:e,items:[]};f.items.push(t);const p=l.put(f);p.onsuccess=()=>o([t,null]),p.onerror=()=>o([null,p.error||new Error("Failed to add activity")])},c.onerror=()=>o([null,c.error||new Error("Failed to get existing activities")])})}async function dy(e,t,i){const[,o]=await mt();return o?[null,at("updateActivity",o)]:new Promise(s=>{const c=Ie.transaction([q.USER_ACTIVITIES],"readwrite").objectStore(q.USER_ACTIVITIES),f=c.get(e);f.onsuccess=()=>{const p=f.result||{date:e,items:[]},g=p.items.findIndex(x=>x.id===t);g!==-1&&(p.items[g]={...p.items[g],...i});const S=c.put(p);S.onsuccess=()=>s([p.items[g],null]),S.onerror=()=>s([null,S.error||new Error("Failed to update activity")])},f.onerror=()=>s([null,f.error||new Error("Failed to get existing activities")])})}async function hy(e,t){const[,i]=await mt();return i?[null,at("removeActivity",i)]:new Promise(o=>{const l=Ie.transaction([q.USER_ACTIVITIES],"readwrite").objectStore(q.USER_ACTIVITIES),c=l.get(e);c.onsuccess=()=>{const f=c.result||{date:e,items:[]};f.items=f.items.filter(g=>g.id!==t);const p=l.put(f);p.onsuccess=()=>o([void 0,null]),p.onerror=()=>o([null,p.error||new Error("Failed to remove activity")])},c.onerror=()=>o([null,c.error||new Error("Failed to get existing activities")])})}async function fy(e,t){const[,i]=await mt();return i?[null,at("markActivityDeleted",i)]:new Promise(o=>{const l=Ie.transaction([q.DELETED_ACTIVITIES],"readwrite").objectStore(q.DELETED_ACTIVITIES),c=l.get(e);c.onsuccess=()=>{const f=c.result||{date:e,ids:[]};f.ids.includes(t)||f.ids.push(t);const g=l.put(f);g.onsuccess=()=>o([void 0,null]),g.onerror=()=>o([null,g.error||new Error("Failed to mark activity deleted")])},c.onerror=()=>o([null,c.error||new Error("Failed to get deleted records")])})}async function el(){const[,e]=await mt();return e?[null,at("getAllManualActivities",e)]:new Promise(t=>{const s=Ie.transaction([q.USER_ACTIVITIES],"readonly").objectStore(q.USER_ACTIVITIES).getAll();s.onsuccess=()=>{const l=s.result||[],c=Gp(l,"items");t([c,null])},s.onerror=()=>t([null,s.error||new Error("Failed to get manual activities")])})}async function tl(){const[,e]=await mt();return e?[null,at("getAllDeletedActivities",e)]:new Promise(t=>{const s=Ie.transaction([q.DELETED_ACTIVITIES],"readonly").objectStore(q.DELETED_ACTIVITIES).getAll();s.onsuccess=()=>{const l=s.result||[],c=Gp(l,"ids");t([c,null])},s.onerror=()=>t([null,s.error||new Error("Failed to get deleted activities")])})}async function Ns(){const[,e]=await mt();return e?[null,at("clearAllData",e)]:new Promise(t=>{const i=[q.TRIP_META,q.TRIPS,q.USER_ACTIVITIES,q.DELETED_ACTIVITIES,q.SETTINGS],o=Ie.transaction(i,"readwrite");o.onerror=()=>t([null,o.error||new Error("Failed to clear data")]),o.oncomplete=()=>{console.log(" All IndexedDB data cleared"),t([void 0,null])};for(const s of i)o.objectStore(s).clear()})}function py(){return new Promise(e=>{Ie&&(Ie.close(),Ie=null);const t=indexedDB.deleteDatabase($p);t.onsuccess=()=>{console.log(" IndexedDB database deleted completely"),e([void 0,null])},t.onerror=()=>{console.error("Failed to delete database:",t.error),e([null,t.error||new Error("Failed to delete database")])},t.onblocked=()=>{console.warn("Database deletion blocked - close other tabs using this app")}})}typeof window<"u"&&(window.__clearTravelDB=Ns,window.__deleteTravelDB=py);const my=365;function gy(e){if(!(e!=null&&e.trips))return 0;const t=new Set;for(const i of e.trips){const o=i.segments||[];for(const s of o)if(s.date&&(t.add(s.date),s.dateEnd&&s.dateEnd!==s.date)){const l=new Date(s.date),c=new Date(s.dateEnd);if(c>=l){const f=new Date(l);let p=0;for(;f<=c&&p<my;){const g=f.toISOString().split("T")[0];t.add(g),f.setDate(f.getDate()+1),p++}}}}return t.size}function vy(e){var s,l;const t=((s=e.trips)==null?void 0:s.length)||0,i=((l=e.trips)==null?void 0:l.reduce((c,f)=>{var p;return c+(((p=f.segments)==null?void 0:p.length)||0)},0))||0,o=gy(e);return{trips:t,segments:i,days:o}}function xh(e){return e!==null&&e.trips&&e.trips.length>0}function _y(e,t,i){const o=e[t]||[];return{...e,[t]:[...o,i]}}function yy(e,t,i,o){const l=(e[t]||[]).map(c=>c.id===i?{...c,...o}:c);return{...e,[t]:l}}function xy(e,t,i){const s=(e[t]||[]).filter(l=>l.id!==i);return{...e,[t]:s}}function wy(e,t,i){const o=e[t]||[];return{...e,[t]:[...o,i]}}function Sy(){const[e,t]=z.useState(!0),[i,o]=z.useState(!1),[s,l]=z.useState(!1),[c,f]=z.useState(null),[p,g]=z.useState(null),[S,x]=z.useState({}),[k,C]=z.useState({});z.useEffect(()=>{async function I(){t(!0),f(null);const[,O]=await mt();if(O){console.error(" IndexedDB initialization error:",O),f(O.message),l(!0),t(!1);return}const[M,B]=await oy();if(B){console.error(" Failed to check initialization status:",B),f(B.message),l(!0),t(!1);return}if(!M){console.log(" First launch detected - showing setup wizard"),l(!0),t(!1);return}console.log(" Loading data from IndexedDB...");const[Q,W]=await Xa();if(W){console.error(" Failed to load itinerary data:",W),f(W.message),l(!0),t(!1);return}const[se,ae]=await el();if(ae){console.error(" Failed to load manual activities:",ae),f(ae.message),l(!0),t(!1);return}const[Be,ie]=await tl();if(ie){console.error(" Failed to load deleted activities:",ie),f(ie.message),l(!0),t(!1);return}if(!xh(Q)){console.warn(" No itinerary data found, showing setup wizard"),l(!0),t(!1);return}g(Q),x(se),C(Be),o(!0),t(!1),console.log(" Data loaded from IndexedDB")}I()},[]),z.useCallback(async()=>{const[I,O]=await Xa();if(O)return console.error(" Failed to load data from IndexedDB:",O),f(O.message),l(!0),t(!1),[null,O];const[M,B]=await el();if(B)return console.error(" Failed to load manual activities:",B),f(B.message),l(!0),t(!1),[null,B];const[Q,W]=await tl();return W?(console.error(" Failed to load deleted activities:",W),f(W.message),l(!0),t(!1),[null,W]):xh(I)?(g(I),x(M),C(Q),o(!0),t(!1),[!0,null]):(console.warn(" No itinerary data found, showing setup wizard"),l(!0),t(!1),[!1,null])},[]);const E=z.useCallback(async I=>{console.log(" Importing user JSON data to IndexedDB...");const[,O]=await ay(I);if(O)return console.error(" Import failed:",O),[null,O];const[,M]=await sy();if(M)return console.error(" Failed to mark initialized:",M),[null,M];console.log(" Data import complete!");const B=vy(I),[Q,W]=await Xa();if(W)return[null,W];const[se,ae]=await el();if(ae)return[null,ae];const[Be,ie]=await tl();return ie?[null,ie]:(g(Q),x(se),C(Be),o(!0),t(!1),l(!1),[B,null])},[]),T=z.useCallback(()=>{l(!1)},[]),V=z.useCallback(async(I,O)=>{const[,M]=await cy(I,O);return M?(console.error("Failed to add activity:",M),[null,M]):(x(B=>_y(B,I,O)),[O,null])},[]),v=z.useCallback(async(I,O,M)=>{const[,B]=await dy(I,O,M);return B?(console.error("Failed to update activity:",B),[null,B]):(x(Q=>yy(Q,I,O,M)),[void 0,null])},[]),y=z.useCallback(async(I,O)=>{const[,M]=await hy(I,O);return M?(console.error("Failed to remove activity:",M),[null,M]):(x(B=>xy(B,I,O)),[void 0,null])},[]),w=z.useCallback(async(I,O)=>{const[,M]=await fy(I,O);return M?(console.error("Failed to delete activity:",M),[null,M]):(C(B=>wy(B,I,O)),[void 0,null])},[]),j=z.useCallback(async()=>{console.log(" Resetting database...");const[,I]=await Ns();return I?(console.error(" Failed to reset database:",I),[null,I]):(g(null),x({}),C({}),o(!1),l(!0),console.log(" Database reset complete"),[void 0,null])},[]);return{isLoading:e,isReady:i,needsSetup:s,error:c,itineraryData:p,manualActivities:S,deletedActivities:k,addActivity:V,updateActivity:v,removeActivity:y,deleteOriginalActivity:w,importJsonData:E,completeSetup:T,resetDatabase:j}}const wh={BOOKED:{label:"Booked",icon:Cs,cls:"bg-emerald-950/60 text-emerald-200 ring-1 ring-emerald-800/60"},PLANNED:{label:"Planned",icon:Cs,cls:"bg-sky-950/60 text-sky-200 ring-1 ring-sky-800/60"},PLANNED_WARN:{label:"Planned (check)",icon:Xo,cls:"bg-amber-950/60 text-amber-200 ring-1 ring-amber-800/60"},BUFFER:{label:"Buffer",icon:Xo,cls:"bg-violet-950/60 text-violet-200 ring-1 ring-violet-800/60"},TO_BOOK:{label:"To book",icon:P_,cls:"bg-rose-950/60 text-rose-200 ring-1 ring-rose-800/60"},WEEKEND_SKI:{label:"Weekend ski",icon:v_,cls:"bg-teal-950/60 text-teal-200 ring-1 ring-teal-800/60"},OPTIONAL:{label:"Optional",icon:Xo,cls:"bg-zinc-900/60 text-zinc-200 ring-1 ring-zinc-700/60"},IF_CONDITIONAL:{label:"Conditional",icon:p_,cls:"bg-fuchsia-950/60 text-fuchsia-200 ring-1 ring-fuchsia-800/60"},UNSET:{label:"Unspecified",icon:Ri,cls:"bg-zinc-900/60 text-zinc-300 ring-1 ring-zinc-700/60"}};function Te(...e){return e.filter(Boolean).join(" ")}function ky(e){return wh[e]||wh.UNSET}function Yu({code:e}){const t=ky(e),i=t.icon;return d.jsxs("span",{className:Te("inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium",t.cls),title:t.label,children:[d.jsx(i,{className:"h-3.5 w-3.5"}),t.label]})}function Jp(e,t){const i=z.useRef(t);z.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const Py=1;function by(e){return Object.freeze({__version:Py,map:e})}function Yp(e,t){return Object.freeze({...e,...t})}const qp=z.createContext(null),Qp=qp.Provider;function qu(){const e=z.useContext(qp);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Xp(e){function t(i,o){const{instance:s,context:l}=e(i).current;return z.useImperativeHandle(o,()=>s),i.children==null?null:es.createElement(Qp,{value:l},i.children)}return z.forwardRef(t)}function Cy(e){function t(i,o){const[s,l]=z.useState(!1),{instance:c}=e(i,l).current;z.useImperativeHandle(o,()=>c),z.useEffect(function(){s&&c.update()},[c,s,i.children]);const f=c._contentNode;return f?Up.createPortal(i.children,f):null}return z.forwardRef(t)}function Ty(e){function t(i,o){const{instance:s}=e(i).current;return z.useImperativeHandle(o,()=>s),null}return z.forwardRef(t)}function Qu(e,t){const i=z.useRef();z.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function Vs(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function Ny(e,t){return function(o,s){const l=qu(),c=e(Vs(o,l),l);return Jp(l.map,o.attribution),Qu(c.current,o.eventHandlers),t(c.current,l,o,s),c}}var Xl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(z0,function(i){var o="1.9.4";function s(n){var r,a,u,h;for(a=1,u=arguments.length;a<u;a++){h=arguments[a];for(r in h)n[r]=h[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function c(n,r){var a=Array.prototype.slice;if(n.bind)return n.bind.apply(n,a.call(arguments,1));var u=a.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(a.call(arguments)):arguments)}}var f=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function g(n,r,a){var u,h,m,_;return _=function(){u=!1,h&&(m.apply(a,h),h=!1)},m=function(){u?h=arguments:(n.apply(a,arguments),setTimeout(_,r),u=!0)},m}function S(n,r,a){var u=r[1],h=r[0],m=u-h;return n===u&&a?n:((n-h)%m+m)%m+h}function x(){return!1}function k(n,r){if(r===!1)return n;var a=Math.pow(10,r===void 0?6:r);return Math.round(n*a)/a}function C(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function E(n){return C(n).split(/\s+/)}function T(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var a in r)n.options[a]=r[a];return n.options}function V(n,r,a){var u=[];for(var h in n)u.push(encodeURIComponent(a?h.toUpperCase():h)+"="+encodeURIComponent(n[h]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function y(n,r){return n.replace(v,function(a,u){var h=r[u];if(h===void 0)throw new Error("No value provided for variable "+a);return typeof h=="function"&&(h=h(r)),h})}var w=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function j(n,r){for(var a=0;a<n.length;a++)if(n[a]===r)return a;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var M=0;function B(n){var r=+new Date,a=Math.max(0,16-(r-M));return M=r+a,window.setTimeout(n,a)}var Q=window.requestAnimationFrame||O("RequestAnimationFrame")||B,W=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function se(n,r,a){if(a&&Q===B)n.call(r);else return Q.call(window,c(n,r))}function ae(n){n&&W.call(window,n)}var Be={__proto__:null,extend:s,create:l,bind:c,get lastId(){return f},stamp:p,throttle:g,wrapNum:S,falseFn:x,formatNum:k,trim:C,splitWords:E,setOptions:T,getParamString:V,template:y,isArray:w,indexOf:j,emptyImageUrl:I,requestFn:Q,cancelFn:W,requestAnimFrame:se,cancelAnimFrame:ae};function ie(){}ie.extend=function(n){var r=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,u=l(a);u.constructor=r,r.prototype=u;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(r[h]=this[h]);return n.statics&&s(r,n.statics),n.includes&&(J(n.includes),s.apply(null,[u].concat(n.includes))),s(u,n),delete u.statics,delete u.includes,u.options&&(u.options=a.options?l(a.options):{},s(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,_=u._initHooks.length;m<_;m++)u._initHooks[m].call(this)}},r},ie.include=function(n){var r=this.prototype.options;return s(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},ie.mergeOptions=function(n){return s(this.prototype.options,n),this},ie.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),a=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function J(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=w(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=E(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a)}return this},off:function(n,r,a){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=E(n);for(var h=arguments.length===1,m=0,_=n.length;m<_;m++)h?this._off(n[m]):this._off(n[m],r,a)}return this},_on:function(n,r,a,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,a)===!1){a===this&&(a=void 0);var h={fn:r,ctx:a};u&&(h.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(h)}},_off:function(n,r,a){var u,h,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(h=0,m=u.length;h<m;h++)u[h].fn=x;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var _=this._listens(n,r,a);if(_!==!1){var P=u[_];this._firingCount&&(P.fn=x,this._events[n]=u=u.slice()),u.splice(_,1)}}},fire:function(n,r,a){if(!this.listens(n,a))return this;var u=s({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var h=this._events[n];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,_=h.length;m<_;m++){var P=h[m],b=P.fn;P.once&&this.off(n,b,P.ctx),b.call(P.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(n,r,a,u){typeof n!="string"&&console.warn('"string" type argument expected');var h=r;typeof r!="function"&&(u=!!r,h=void 0,a=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,h,a)!==!1)return!0;if(u){for(var _ in this._eventParents)if(this._eventParents[_].listens(n,r,a,u))return!0}return!1},_listens:function(n,r,a){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;a===this&&(a=void 0);for(var h=0,m=u.length;h<m;h++)if(u[h].fn===r&&u[h].ctx===a)return h;return!1},once:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=E(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,s({layer:n.target,propagatedFrom:n.target},n),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var xe=ie.extend(Y);function N(n,r,a){this.x=a?Math.round(n):n,this.y=a?Math.round(r):r}var R=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(n){return this.clone()._add(A(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(A(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new N(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new N(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(n){n=A(n);var r=n.x-this.x,a=n.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(n){return n=A(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=A(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function A(n,r,a){return n instanceof N?n:w(n)?new N(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new N(n.x,n.y):new N(n,r,a)}function Z(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}Z.prototype={extend:function(n){var r,a;if(!n)return this;if(n instanceof N||typeof n[0]=="number"||"x"in n)r=a=A(n);else if(n=X(n),r=n.min,a=n.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(n){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,a;return typeof n[0]=="number"||n instanceof N?n=A(n):n=X(n),n instanceof Z?(r=n.min,a=n.max):r=a=n,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(n){n=X(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>=r.x&&u.x<=a.x,_=h.y>=r.y&&u.y<=a.y;return m&&_},overlaps:function(n){n=X(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>r.x&&u.x<a.x,_=h.y>r.y&&u.y<a.y;return m&&_},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,a=this.max,u=Math.abs(r.x-a.x)*n,h=Math.abs(r.y-a.y)*n;return X(A(r.x-u,r.y-h),A(a.x+u,a.y+h))},equals:function(n){return n?(n=X(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function X(n,r){return!n||n instanceof Z?n:new Z(n,r)}function pe(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}pe.prototype={extend:function(n){var r=this._southWest,a=this._northEast,u,h;if(n instanceof le)u=n,h=n;else if(n instanceof pe){if(u=n._southWest,h=n._northEast,!u||!h)return this}else return n?this.extend(K(n)||he(n)):this;return!r&&!a?(this._southWest=new le(u.lat,u.lng),this._northEast=new le(h.lat,h.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),a.lat=Math.max(h.lat,a.lat),a.lng=Math.max(h.lng,a.lng)),this},pad:function(n){var r=this._southWest,a=this._northEast,u=Math.abs(r.lat-a.lat)*n,h=Math.abs(r.lng-a.lng)*n;return new pe(new le(r.lat-u,r.lng-h),new le(a.lat+u,a.lng+h))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof le||"lat"in n?n=K(n):n=he(n);var r=this._southWest,a=this._northEast,u,h;return n instanceof pe?(u=n.getSouthWest(),h=n.getNorthEast()):u=h=n,u.lat>=r.lat&&h.lat<=a.lat&&u.lng>=r.lng&&h.lng<=a.lng},intersects:function(n){n=he(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>=r.lat&&u.lat<=a.lat,_=h.lng>=r.lng&&u.lng<=a.lng;return m&&_},overlaps:function(n){n=he(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>r.lat&&u.lat<a.lat,_=h.lng>r.lng&&u.lng<a.lng;return m&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=he(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(n,r){return n instanceof pe?n:new pe(n,r)}function le(n,r,a){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,a!==void 0&&(this.alt=+a)}le.prototype={equals:function(n,r){if(!n)return!1;n=K(n);var a=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return a<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+k(this.lat,n)+", "+k(this.lng,n)+")"},distanceTo:function(n){return Ze.distance(this,K(n))},wrap:function(){return Ze.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,a=r/Math.cos(Math.PI/180*this.lat);return he([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function K(n,r,a){return n instanceof le?n:w(n)&&typeof n[0]!="object"?n.length===3?new le(n[0],n[1],n[2]):n.length===2?new le(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new le(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new le(n,r,a)}var Ae={latLngToPoint:function(n,r){var a=this.projection.project(n),u=this.scale(r);return this.transformation._transform(a,u)},pointToLatLng:function(n,r){var a=this.scale(r),u=this.transformation.untransform(n,a);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(n),u=this.transformation.transform(r.min,a),h=this.transformation.transform(r.max,a);return new Z(u,h)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?S(n.lng,this.wrapLng,!0):n.lng,a=this.wrapLat?S(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new le(a,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),a=this.wrapLatLng(r),u=r.lat-a.lat,h=r.lng-a.lng;if(u===0&&h===0)return n;var m=n.getSouthWest(),_=n.getNorthEast(),P=new le(m.lat-u,m.lng-h),b=new le(_.lat-u,_.lng-h);return new pe(P,b)}},Ze=s({},Ae,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var a=Math.PI/180,u=n.lat*a,h=r.lat*a,m=Math.sin((r.lat-n.lat)*a/2),_=Math.sin((r.lng-n.lng)*a/2),P=m*m+Math.cos(u)*Math.cos(h)*_*_,b=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*b}}),Vt=6378137,Qn={R:Vt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,n.lat),-a),h=Math.sin(u*r);return new N(this.R*n.lng*r,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(n){var r=180/Math.PI;return new le((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=Vt*Math.PI;return new Z([-n,-n],[n,n])}()};function Xn(n,r,a,u){if(w(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=a,this._d=u}Xn.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new N((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function we(n,r,a,u){return new Xn(n,r,a,u)}var lt=s({},Ze,{code:"EPSG:3857",projection:Qn,transformation:function(){var n=.5/(Math.PI*Qn.R);return we(n,.5,-n,.5)}()}),Kt=s({},lt,{code:"EPSG:900913"});function ei(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Xu(n,r){var a="",u,h,m,_,P,b;for(u=0,m=n.length;u<m;u++){for(P=n[u],h=0,_=P.length;h<_;h++)b=P[h],a+=(h?"L":"M")+b.x+" "+b.y;a+=r?$.svg?"z":"x":""}return a||"M0 0"}var Ys=document.documentElement.style,eo="ActiveXObject"in window,lm=eo&&!document.addEventListener,ec="msLaunchUri"in navigator&&!("documentMode"in document),qs=It("webkit"),tc=It("android"),nc=It("android 2")||It("android 3"),um=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),cm=tc&&It("Google")&&um<537&&!("AudioNode"in window),Qs=!!window.opera,ic=!ec&&It("chrome"),rc=It("gecko")&&!qs&&!Qs&&!eo,dm=!ic&&It("safari"),oc=It("phantom"),sc="OTransition"in Ys,hm=navigator.platform.indexOf("Win")===0,ac=eo&&"transition"in Ys,Xs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nc,lc="MozPerspective"in Ys,fm=!window.L_DISABLE_3D&&(ac||Xs||lc)&&!sc&&!oc,$i=typeof orientation<"u"||It("mobile"),pm=$i&&qs,mm=$i&&Xs,uc=!window.PointerEvent&&window.MSPointerEvent,cc=!!(window.PointerEvent||uc),dc="ontouchstart"in window||!!window.TouchEvent,gm=!window.L_NO_TOUCH&&(dc||cc),vm=$i&&Qs,_m=$i&&rc,ym=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xm=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",x,r),window.removeEventListener("testPassiveEventSupport",x,r)}catch{}return n}(),wm=function(){return!!document.createElement("canvas").getContext}(),ea=!!(document.createElementNS&&ei("svg").createSVGRect),Sm=!!ea&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),km=!ea&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Pm=navigator.platform.indexOf("Mac")===0,bm=navigator.platform.indexOf("Linux")===0;function It(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var $={ie:eo,ielt9:lm,edge:ec,webkit:qs,android:tc,android23:nc,androidStock:cm,opera:Qs,chrome:ic,gecko:rc,safari:dm,phantom:oc,opera12:sc,win:hm,ie3d:ac,webkit3d:Xs,gecko3d:lc,any3d:fm,mobile:$i,mobileWebkit:pm,mobileWebkit3d:mm,msPointer:uc,pointer:cc,touch:gm,touchNative:dc,mobileOpera:vm,mobileGecko:_m,retina:ym,passiveEvents:xm,canvas:wm,svg:ea,vml:km,inlineSvg:Sm,mac:Pm,linux:bm},hc=$.msPointer?"MSPointerDown":"pointerdown",fc=$.msPointer?"MSPointerMove":"pointermove",pc=$.msPointer?"MSPointerUp":"pointerup",mc=$.msPointer?"MSPointerCancel":"pointercancel",ta={touchstart:hc,touchmove:fc,touchend:pc,touchcancel:mc},gc={touchstart:zm,touchmove:to,touchend:to,touchcancel:to},ti={},vc=!1;function Cm(n,r,a){return r==="touchstart"&&Lm(),gc[r]?(a=gc[r].bind(this,a),n.addEventListener(ta[r],a,!1),a):(console.warn("wrong event specified:",r),x)}function Tm(n,r,a){if(!ta[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(ta[r],a,!1)}function Nm(n){ti[n.pointerId]=n}function Em(n){ti[n.pointerId]&&(ti[n.pointerId]=n)}function _c(n){delete ti[n.pointerId]}function Lm(){vc||(document.addEventListener(hc,Nm,!0),document.addEventListener(fc,Em,!0),document.addEventListener(pc,_c,!0),document.addEventListener(mc,_c,!0),vc=!0)}function to(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in ti)r.touches.push(ti[a]);r.changedTouches=[r],n(r)}}function zm(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Ue(r),to(n,r)}function Mm(n){var r={},a,u;for(u in n)a=n[u],r[u]=a&&a.bind?a.bind(n):a;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Am=200;function jm(n,r){n.addEventListener("dblclick",r);var a=0,u;function h(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var _=kc(m);if(!(_.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!_.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var P=Date.now();P-a<=Am?(u++,u===2&&r(Mm(m))):u=1,a=P}}}return n.addEventListener("click",h),{dblclick:r,simDblclick:h}}function Om(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var na=ro(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gi=ro(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yc=Gi==="webkitTransition"||Gi==="OTransition"?Gi+"End":"transitionend";function xc(n){return typeof n=="string"?document.getElementById(n):n}function Ji(n,r){var a=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);a=u?u[r]:null}return a==="auto"?null:a}function de(n,r,a){var u=document.createElement(n);return u.className=r||"",a&&a.appendChild(u),u}function Se(n){var r=n.parentNode;r&&r.removeChild(n)}function no(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function ni(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function ii(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function ia(n,r){if(n.classList!==void 0)return n.classList.contains(r);var a=io(n);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function te(n,r){if(n.classList!==void 0)for(var a=E(r),u=0,h=a.length;u<h;u++)n.classList.add(a[u]);else if(!ia(n,r)){var m=io(n);ra(n,(m?m+" ":"")+r)}}function Ne(n,r){n.classList!==void 0?n.classList.remove(r):ra(n,C((" "+io(n)+" ").replace(" "+r+" "," ")))}function ra(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function io(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function gt(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&Im(n,r)}function Im(n,r){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function ro(n){for(var r=document.documentElement.style,a=0;a<n.length;a++)if(n[a]in r)return n[a];return!1}function An(n,r,a){var u=r||new N(0,0);n.style[na]=($.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function Le(n,r){n._leaflet_pos=r,$.any3d?An(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function jn(n){return n._leaflet_pos||new N(0,0)}var Yi,qi,oa;if("onselectstart"in document)Yi=function(){ee(window,"selectstart",Ue)},qi=function(){me(window,"selectstart",Ue)};else{var Qi=ro(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yi=function(){if(Qi){var n=document.documentElement.style;oa=n[Qi],n[Qi]="none"}},qi=function(){Qi&&(document.documentElement.style[Qi]=oa,oa=void 0)}}function sa(){ee(window,"dragstart",Ue)}function aa(){me(window,"dragstart",Ue)}var oo,la;function ua(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(so(),oo=n,la=n.style.outlineStyle,n.style.outlineStyle="none",ee(window,"keydown",so))}function so(){oo&&(oo.style.outlineStyle=la,oo=void 0,la=void 0,me(window,"keydown",so))}function wc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ca(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Dm={__proto__:null,TRANSFORM:na,TRANSITION:Gi,TRANSITION_END:yc,get:xc,getStyle:Ji,create:de,remove:Se,empty:no,toFront:ni,toBack:ii,hasClass:ia,addClass:te,removeClass:Ne,setClass:ra,getClass:io,setOpacity:gt,testProp:ro,setTransform:An,setPosition:Le,getPosition:jn,get disableTextSelection(){return Yi},get enableTextSelection(){return qi},disableImageDrag:sa,enableImageDrag:aa,preventOutline:ua,restoreOutline:so,getSizedParentNode:wc,getScale:ca};function ee(n,r,a,u){if(r&&typeof r=="object")for(var h in r)ha(n,h,r[h],a);else{r=E(r);for(var m=0,_=r.length;m<_;m++)ha(n,r[m],a,u)}return this}var Dt="_leaflet_events";function me(n,r,a,u){if(arguments.length===1)Sc(n),delete n[Dt];else if(r&&typeof r=="object")for(var h in r)fa(n,h,r[h],a);else if(r=E(r),arguments.length===2)Sc(n,function(P){return j(r,P)!==-1});else for(var m=0,_=r.length;m<_;m++)fa(n,r[m],a,u);return this}function Sc(n,r){for(var a in n[Dt]){var u=a.split(/\d/)[0];(!r||r(u))&&fa(n,u,null,null,a)}}var da={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ha(n,r,a,u){var h=r+p(a)+(u?"_"+p(u):"");if(n[Dt]&&n[Dt][h])return this;var m=function(P){return a.call(u||n,P||window.event)},_=m;!$.touchNative&&$.pointer&&r.indexOf("touch")===0?m=Cm(n,r,m):$.touch&&r==="dblclick"?m=jm(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(da[r]||r,m,$.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(P){P=P||window.event,ma(n,P)&&_(P)},n.addEventListener(da[r],m,!1)):n.addEventListener(r,_,!1):n.attachEvent("on"+r,m),n[Dt]=n[Dt]||{},n[Dt][h]=m}function fa(n,r,a,u,h){h=h||r+p(a)+(u?"_"+p(u):"");var m=n[Dt]&&n[Dt][h];if(!m)return this;!$.touchNative&&$.pointer&&r.indexOf("touch")===0?Tm(n,r,m):$.touch&&r==="dblclick"?Om(n,m):"removeEventListener"in n?n.removeEventListener(da[r]||r,m,!1):n.detachEvent("on"+r,m),n[Dt][h]=null}function On(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function pa(n){return ha(n,"wheel",On),this}function Xi(n){return ee(n,"mousedown touchstart dblclick contextmenu",On),n._leaflet_disable_click=!0,this}function Ue(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function In(n){return Ue(n),On(n),this}function kc(n){if(n.composedPath)return n.composedPath();for(var r=[],a=n.target;a;)r.push(a),a=a.parentNode;return r}function Pc(n,r){if(!r)return new N(n.clientX,n.clientY);var a=ca(r),u=a.boundingClientRect;return new N((n.clientX-u.left)/a.x-r.clientLeft,(n.clientY-u.top)/a.y-r.clientTop)}var Rm=$.linux&&$.chrome?window.devicePixelRatio:$.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bc(n){return $.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Rm:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ma(n,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==n;)a=a.parentNode}catch{return!1}return a!==n}var Fm={__proto__:null,on:ee,off:me,stopPropagation:On,disableScrollPropagation:pa,disableClickPropagation:Xi,preventDefault:Ue,stop:In,getPropagationPath:kc,getMousePosition:Pc,getWheelDelta:bc,isExternalTarget:ma,addListener:ee,removeListener:me},Cc=xe.extend({run:function(n,r,a,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=jn(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=se(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var a=this._startPos.add(this._offset.multiplyBy(n));r&&a._round(),Le(this._el,a),this.fire("step")},_complete:function(){ae(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),ue=xe.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=T(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(K(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gi&&$.any3d&&!$.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,yc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(K(n),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=s({animate:a.animate},a.zoom),a.pan=s({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,a.zoom):this._tryAnimatedPan(n,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,a){var u=this.getZoomScale(r),h=this.getSize().divideBy(2),m=n instanceof N?n:this.latLngToContainerPoint(n),_=m.subtract(h).multiplyBy(1-1/u),P=this.containerPointToLatLng(h.add(_));return this.setView(P,r,{zoom:a})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():he(n);var a=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),h=this.getBoundsZoom(n,!1,a.add(u));if(h=typeof r.maxZoom=="number"?Math.min(r.maxZoom,h):h,h===1/0)return{center:n.getCenter(),zoom:h};var m=u.subtract(a).divideBy(2),_=this.project(n.getSouthWest(),h),P=this.project(n.getNorthEast(),h),b=this.unproject(_.add(P).divideBy(2).add(m),h);return{center:b,zoom:h}},fitBounds:function(n,r){if(n=he(n),!n.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(n,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=A(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){te(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,a){if(a=a||{},a.animate===!1||!$.any3d)return this.setView(n,r,a);this._stop();var u=this.project(this.getCenter()),h=this.project(n),m=this.getSize(),_=this._zoom;n=K(n),r=r===void 0?_:r;var P=Math.max(m.x,m.y),b=P*this.getZoomScale(_,r),D=h.distanceTo(u)||1,U=1.42,G=U*U;function re(ze){var yo=ze?-1:1,T0=ze?b:P,N0=b*b-P*P+yo*G*G*D*D,E0=2*T0*G*D,Ca=N0/E0,sd=Math.sqrt(Ca*Ca+1)-Ca,L0=sd<1e-9?-18:Math.log(sd);return L0}function Ye(ze){return(Math.exp(ze)-Math.exp(-ze))/2}function De(ze){return(Math.exp(ze)+Math.exp(-ze))/2}function _t(ze){return Ye(ze)/De(ze)}var tt=re(0);function ui(ze){return P*(De(tt)/De(tt+U*ze))}function k0(ze){return P*(De(tt)*_t(tt+U*ze)-Ye(tt))/G}function P0(ze){return 1-Math.pow(1-ze,1.5)}var b0=Date.now(),rd=(re(1)-tt)/U,C0=a.duration?1e3*a.duration:1e3*rd*.8;function od(){var ze=(Date.now()-b0)/C0,yo=P0(ze)*rd;ze<=1?(this._flyToFrame=se(od,this),this._move(this.unproject(u.add(h.subtract(u).multiplyBy(k0(yo)/D)),_),this.getScaleZoom(P/ui(yo),_),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),od.call(this),this},flyToBounds:function(n,r){var a=this._getBoundsCenterZoom(n,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(n){return n=he(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,he(n));return a.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var a=A(r.paddingTopLeft||r.padding||[0,0]),u=A(r.paddingBottomRight||r.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(n),_=this.getPixelBounds(),P=X([_.min.add(a),_.max.subtract(u)]),b=P.getSize();if(!P.contains(m)){this._enforcingBounds=!0;var D=m.subtract(P.getCenter()),U=P.extend(m).getSize().subtract(b);h.x+=D.x<0?-U.x:U.x,h.y+=D.y<0?-U.y:U.y,this.panTo(this.unproject(h),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=s({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=r.divideBy(2).round(),h=a.divideBy(2).round(),m=u.subtract(h);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),a=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,n):navigator.geolocation.getCurrentPosition(r,a,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,a=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,a=n.coords.longitude,u=new le(r,a),h=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var _=this.getBoundsZoom(h);this.setView(u,m.maxZoom?Math.min(_,m.maxZoom):_)}var P={latlng:u,bounds:h,timestamp:n.timestamp};for(var b in n.coords)typeof n.coords[b]=="number"&&(P[b]=n.coords[b]);this.fire("locationfound",P)}},addHandler:function(n,r){if(!r)return this;var a=this[n]=new r(this);return this._handlers.push(a),this.options[n]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ae(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Se(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var a="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=de("div",a,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),a=this.unproject(n.getTopRight());return new pe(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,a){n=he(n),a=A(a||[0,0]);var u=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),_=n.getNorthWest(),P=n.getSouthEast(),b=this.getSize().subtract(a),D=X(this.project(P,u),this.project(_,u)).getSize(),U=$.any3d?this.options.zoomSnap:1,G=b.x/D.x,re=b.y/D.y,Ye=r?Math.max(G,re):Math.min(G,re);return u=this.getScaleZoom(Ye,u),U&&(u=Math.round(u/(U/100))*(U/100),u=r?Math.ceil(u/U)*U:Math.floor(u/U)*U),Math.max(h,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var a=this._getTopLeftPoint(n,r);return new Z(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(n)/a.scale(r)},getScaleZoom:function(n,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var u=a.zoom(n*a.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(K(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(A(n),r)},layerPointToLatLng:function(n){var r=A(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(K(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(K(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(he(n))},distance:function(n,r){return this.options.crs.distance(K(n),K(r))},containerPointToLayerPoint:function(n){return A(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return A(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(A(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(n)))},mouseEventToContainerPoint:function(n){return Pc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=xc(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(r,"scroll",this._onScroll,this),this._containerId=p(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&$.any3d,te(n,"leaflet-container"+($.touch?" leaflet-touch":"")+($.retina?" leaflet-retina":"")+($.ielt9?" leaflet-oldie":"")+($.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Ji(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Le(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(te(n.markerPane,"leaflet-zoom-hide"),te(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,a){Le(this._mapPane,new N(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var h=this._zoom!==r;this._moveStart(h,a)._move(n,r)._moveEnd(h),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,a,u){r===void 0&&(r=this._zoom);var h=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?a&&a.pinch&&this.fire("zoom",a):((h||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ae(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Le(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var r=n?me:ee;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),$.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ae(this._resizeRequest),this._resizeRequest=se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var a=[],u,h=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,_=!1;m;){if(u=this._targets[p(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){_=!0;break}if(u&&u.listens(r,!0)&&(h&&!ma(m,n)||(a.push(u),h))||m===this._container)break;m=m.parentNode}return!a.length&&!_&&!h&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var a=n.type;a==="mousedown"&&ua(r),this._fireDOMEvent(n,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,a){if(n.type==="click"){var u=s({},n);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var h=this._findEventTargets(n,r);if(a){for(var m=[],_=0;_<a.length;_++)a[_].listens(r,!0)&&m.push(a[_]);h=m.concat(h)}if(h.length){r==="contextmenu"&&Ue(n);var P=h[0],b={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var D=P.getLatLng&&(!P._radius||P._radius<=10);b.containerPoint=D?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(n),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=D?P.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(_=0;_<h.length;_++)if(h[_].fire(r,b,!0),b.originalEvent._stopped||h[_].options.bubblingMouseEvents===!1&&j(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return jn(this._mapPane)||new N(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var a=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var a=this.getSize()._divideBy(2);return this.project(n,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return X([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,a){if(!a)return n;var u=this.project(n,r),h=this.getSize().divideBy(2),m=new Z(u.subtract(h),u.add(h)),_=this._getBoundsOffset(m,a,r);return Math.abs(_.x)<=1&&Math.abs(_.y)<=1?n:this.unproject(u.add(_),r)},_limitOffset:function(n,r){if(!r)return n;var a=this.getPixelBounds(),u=new Z(a.min.add(n),a.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,a){var u=X(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),h=u.min.subtract(n.min),m=u.max.subtract(n.max),_=this._rebound(h.x,-m.x),P=this._rebound(h.y,-m.y);return new N(_,P)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),a=this.getMaxZoom(),u=$.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(a,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ne(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var a=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var n=this._proxy=de("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var a=na,u=this._proxy.style[a];An(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();An(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),h=this._getCenterOffset(n)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(h)?!1:(se(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ne(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bm(n,r){return new ue(n,r)}var bt=ie.extend({options:{position:"topright"},initialize:function(n){T(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),a=this.getPosition(),u=n._controlCorners[a];return te(r,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),er=function(n){return new bt(n)};ue.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",a=this._controlContainer=de("div",r+"control-container",this._container);function u(h,m){var _=r+h+" "+r+m;n[h+m]=de("div",_,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Se(this._controlCorners[n]);Se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tc=bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,a,u){return a<u?-1:u<a?1:0}},initialize:function(n,r,a){T(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return bt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(p(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Ne(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ne(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=de("div",n),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Xi(r),pa(r);var u=this._section=de("section",n+"-list");a&&(this._map.on("click",this.collapse,this),ee(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=de("a",n+"-toggle",r);h.href="#",h.title="Layers",h.setAttribute("role","button"),ee(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Ue(m),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=de("div",n+"-base",u),this._separator=de("div",n+"-separator",u),this._overlaysList=de("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&p(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,a){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(c(function(u,h){return this.options.sortFunction(u.layer,h.layer,u.name,h.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;no(this._baseLayersList),no(this._overlaysList),this._layerControlInputs=[];var n,r,a,u,h=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,h+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&h>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(p(n.target)),a=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(n,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(n){var r=document.createElement("label"),a=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+p(this),a),this._layerControlInputs.push(u),u.layerId=p(n.layer),ee(u,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(h);var _=n.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,a,u=[],h=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],a=this._getLayer(r.layerId).layer,r.checked?u.push(a):r.checked||h.push(a);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,a,u=this._map.getZoom(),h=n.length-1;h>=0;h--)r=n[h],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ee(n,"click",Ue),this.expand();var r=this;setTimeout(function(){me(n,"click",Ue),r._preventClick=!1})}}),Zm=function(n,r,a){return new Tc(n,r,a)},ga=bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",a=de("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,a,u,h){var m=de("a",a,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),Xi(m),ee(m,"click",In),ee(m,"click",h,this),ee(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";Ne(this._zoomInButton,r),Ne(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(te(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(te(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});ue.mergeOptions({zoomControl:!0}),ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ga,this.addControl(this.zoomControl))});var Um=function(n){return new ga(n)},Nc=bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",a=de("div",r),u=this.options;return this._addScales(u,r+"-line",a),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),a},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,a){n.metric&&(this._mScale=de("div",r,a)),n.imperial&&(this._iScale=de("div",r,a))},_update:function(){var n=this._map,r=n.getSize().y/2,a=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/n)},_updateImperial:function(n){var r=n*3.2808399,a,u,h;r>5280?(a=r/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(h=this._getRoundNum(r),this._updateScale(this._iScale,h+" ft",h/r))},_updateScale:function(n,r,a){n.style.width=Math.round(this.options.maxWidth*a)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),a=n/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),Hm=function(n){return new Nc(n)},Wm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',va=bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($.inlineSvg?Wm+" ":"")+"Leaflet</a>"},initialize:function(n){T(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=de("div","leaflet-control-attribution"),Xi(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),n.length&&a.push(n.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});ue.mergeOptions({attributionControl:!0}),ue.addInitHook(function(){this.options.attributionControl&&new va().addTo(this)});var Vm=function(n){return new va(n)};bt.Layers=Tc,bt.Zoom=ga,bt.Scale=Nc,bt.Attribution=va,er.layers=Zm,er.zoom=Um,er.scale=Hm,er.attribution=Vm;var Rt=ie.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rt.addTo=function(n,r){return n.addHandler(r,this),this};var Km={Events:Y},Ec=$.touch?"touchstart mousedown":"mousedown",ln=xe.extend({options:{clickTolerance:3},initialize:function(n,r,a,u){T(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=a},enable:function(){this._enabled||(ee(this._dragStartTarget,Ec,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(!0),me(this._dragStartTarget,Ec,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ia(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){ln._dragging===this&&this.finishDrag();return}if(!(ln._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(ln._dragging=this,this._preventOutline&&ua(this._element),sa(),Yi(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,a=wc(this._element);this._startPoint=new N(r.clientX,r.clientY),this._startPos=jn(this._element),this._parentScale=ca(a);var u=n.type==="mousedown";ee(document,u?"mousemove":"touchmove",this._onMove,this),ee(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,a=new N(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,Ue(n),this._moved||(this.fire("dragstart"),this._moved=!0,te(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Le(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Ne(document.body,"leaflet-dragging"),this._lastTarget&&(Ne(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),me(document,"mousemove touchmove",this._onMove,this),me(document,"mouseup touchend touchcancel",this._onUp,this),aa(),qi();var r=this._moved&&this._moving;this._moving=!1,ln._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Lc(n,r,a){var u,h=[1,4,2,8],m,_,P,b,D,U,G,re;for(m=0,U=n.length;m<U;m++)n[m]._code=Dn(n[m],r);for(P=0;P<4;P++){for(G=h[P],u=[],m=0,U=n.length,_=U-1;m<U;_=m++)b=n[m],D=n[_],b._code&G?D._code&G||(re=ao(D,b,G,r,a),re._code=Dn(re,r),u.push(re)):(D._code&G&&(re=ao(D,b,G,r,a),re._code=Dn(re,r),u.push(re)),u.push(b));n=u}return n}function zc(n,r){var a,u,h,m,_,P,b,D,U;if(!n||n.length===0)throw new Error("latlngs not passed");vt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var G=K([0,0]),re=he(n),Ye=re.getNorthWest().distanceTo(re.getSouthWest())*re.getNorthEast().distanceTo(re.getNorthWest());Ye<1700&&(G=_a(n));var De=n.length,_t=[];for(a=0;a<De;a++){var tt=K(n[a]);_t.push(r.project(K([tt.lat-G.lat,tt.lng-G.lng])))}for(P=b=D=0,a=0,u=De-1;a<De;u=a++)h=_t[a],m=_t[u],_=h.y*m.x-m.y*h.x,b+=(h.x+m.x)*_,D+=(h.y+m.y)*_,P+=_*3;P===0?U=_t[0]:U=[b/P,D/P];var ui=r.unproject(A(U));return K([ui.lat+G.lat,ui.lng+G.lng])}function _a(n){for(var r=0,a=0,u=0,h=0;h<n.length;h++){var m=K(n[h]);r+=m.lat,a+=m.lng,u++}return K([r/u,a/u])}var $m={__proto__:null,clipPolygon:Lc,polygonCenter:zc,centroid:_a};function Mc(n,r){if(!r||!n.length)return n.slice();var a=r*r;return n=Ym(n,a),n=Jm(n,a),n}function Ac(n,r,a){return Math.sqrt(tr(n,r,a,!0))}function Gm(n,r,a){return tr(n,r,a)}function Jm(n,r){var a=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,h=new u(a);h[0]=h[a-1]=1,ya(n,h,r,0,a-1);var m,_=[];for(m=0;m<a;m++)h[m]&&_.push(n[m]);return _}function ya(n,r,a,u,h){var m=0,_,P,b;for(P=u+1;P<=h-1;P++)b=tr(n[P],n[u],n[h],!0),b>m&&(_=P,m=b);m>a&&(r[_]=1,ya(n,r,a,u,_),ya(n,r,a,_,h))}function Ym(n,r){for(var a=[n[0]],u=1,h=0,m=n.length;u<m;u++)qm(n[u],n[h])>r&&(a.push(n[u]),h=u);return h<m-1&&a.push(n[m-1]),a}var jc;function Oc(n,r,a,u,h){var m=u?jc:Dn(n,a),_=Dn(r,a),P,b,D;for(jc=_;;){if(!(m|_))return[n,r];if(m&_)return!1;P=m||_,b=ao(n,r,P,a,h),D=Dn(b,a),P===m?(n=b,m=D):(r=b,_=D)}}function ao(n,r,a,u,h){var m=r.x-n.x,_=r.y-n.y,P=u.min,b=u.max,D,U;return a&8?(D=n.x+m*(b.y-n.y)/_,U=b.y):a&4?(D=n.x+m*(P.y-n.y)/_,U=P.y):a&2?(D=b.x,U=n.y+_*(b.x-n.x)/m):a&1&&(D=P.x,U=n.y+_*(P.x-n.x)/m),new N(D,U,h)}function Dn(n,r){var a=0;return n.x<r.min.x?a|=1:n.x>r.max.x&&(a|=2),n.y<r.min.y?a|=4:n.y>r.max.y&&(a|=8),a}function qm(n,r){var a=r.x-n.x,u=r.y-n.y;return a*a+u*u}function tr(n,r,a,u){var h=r.x,m=r.y,_=a.x-h,P=a.y-m,b=_*_+P*P,D;return b>0&&(D=((n.x-h)*_+(n.y-m)*P)/b,D>1?(h=a.x,m=a.y):D>0&&(h+=_*D,m+=P*D)),_=n.x-h,P=n.y-m,u?_*_+P*P:new N(h,m)}function vt(n){return!w(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ic(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vt(n)}function Dc(n,r){var a,u,h,m,_,P,b,D;if(!n||n.length===0)throw new Error("latlngs not passed");vt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var U=K([0,0]),G=he(n),re=G.getNorthWest().distanceTo(G.getSouthWest())*G.getNorthEast().distanceTo(G.getNorthWest());re<1700&&(U=_a(n));var Ye=n.length,De=[];for(a=0;a<Ye;a++){var _t=K(n[a]);De.push(r.project(K([_t.lat-U.lat,_t.lng-U.lng])))}for(a=0,u=0;a<Ye-1;a++)u+=De[a].distanceTo(De[a+1])/2;if(u===0)D=De[0];else for(a=0,m=0;a<Ye-1;a++)if(_=De[a],P=De[a+1],h=_.distanceTo(P),m+=h,m>u){b=(m-u)/h,D=[P.x-b*(P.x-_.x),P.y-b*(P.y-_.y)];break}var tt=r.unproject(A(D));return K([tt.lat+U.lat,tt.lng+U.lng])}var Qm={__proto__:null,simplify:Mc,pointToSegmentDistance:Ac,closestPointOnSegment:Gm,clipSegment:Oc,_getEdgeIntersection:ao,_getBitCode:Dn,_sqClosestPointOnSegment:tr,isFlat:vt,_flat:Ic,polylineCenter:Dc},xa={project:function(n){return new N(n.lng,n.lat)},unproject:function(n){return new le(n.y,n.x)},bounds:new Z([-180,-90],[180,90])},wa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,a=this.R,u=n.lat*r,h=this.R_MINOR/a,m=Math.sqrt(1-h*h),_=m*Math.sin(u),P=Math.tan(Math.PI/4-u/2)/Math.pow((1-_)/(1+_),m/2);return u=-a*Math.log(Math.max(P,1e-10)),new N(n.lng*r*a,u)},unproject:function(n){for(var r=180/Math.PI,a=this.R,u=this.R_MINOR/a,h=Math.sqrt(1-u*u),m=Math.exp(-n.y/a),_=Math.PI/2-2*Math.atan(m),P=0,b=.1,D;P<15&&Math.abs(b)>1e-7;P++)D=h*Math.sin(_),D=Math.pow((1-D)/(1+D),h/2),b=Math.PI/2-2*Math.atan(m*D)-_,_+=b;return new le(_*r,n.x*r/a)}},Xm={__proto__:null,LonLat:xa,Mercator:wa,SphericalMercator:Qn},e0=s({},Ze,{code:"EPSG:3395",projection:wa,transformation:function(){var n=.5/(Math.PI*wa.R);return we(n,.5,-n,.5)}()}),Rc=s({},Ze,{code:"EPSG:4326",projection:xa,transformation:we(1/180,1,-1/180,.5)}),t0=s({},Ae,{projection:xa,transformation:we(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var a=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(a*a+u*u)},infinite:!0});Ae.Earth=Ze,Ae.EPSG3395=e0,Ae.EPSG3857=lt,Ae.EPSG900913=Kt,Ae.EPSG4326=Rc,Ae.Simple=t0;var Ct=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});ue.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=p(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=p(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},_addLayers:function(n){n=n?w(n)?n:[n]:[];for(var r=0,a=n.length;r<a;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=p(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var h=this._zoomBoundLayers[u].options;n=h.minZoom===void 0?n:Math.min(n,h.minZoom),r=h.maxZoom===void 0?r:Math.max(r,h.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ri=Ct.extend({initialize:function(n,r){T(this,r),this._layers={};var a,u;if(n)for(a=0,u=n.length;a<u;a++)this.addLayer(n[a])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),n0=function(n,r){return new ri(n,r)},$t=ri.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ri.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ri.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new pe;for(var r in this._layers){var a=this._layers[r];n.extend(a.getBounds?a.getBounds():a.getLatLng())}return n}}),i0=function(n,r){return new $t(n,r)},oi=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){T(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var a=this._getIconUrl(n);if(!a){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var a=this.options,u=a[r+"Size"];typeof u=="number"&&(u=[u,u]);var h=A(u),m=A(r==="shadow"&&a.shadowAnchor||a.iconAnchor||h&&h.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(a.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),h&&(n.style.width=h.x+"px",n.style.height=h.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return $.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function r0(n){return new oi(n)}var nr=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof nr.imagePath!="string"&&(nr.imagePath=this._detectIconPath()),(this.options.imagePath||nr.imagePath)+oi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(a,u,h){var m=u.exec(a);return m&&m[h]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=de("div","leaflet-default-icon-path",document.body),r=Ji(n,"background-image")||Ji(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Fc=Rt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new ln(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),te(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ne(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,a=r._map,u=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=jn(r._icon),_=a.getPixelBounds(),P=a.getPixelOrigin(),b=X(_.min._subtract(P).add(h),_.max._subtract(P).subtract(h));if(!b.contains(m)){var D=A((Math.max(b.max.x,m.x)-b.max.x)/(_.max.x-b.max.x)-(Math.min(b.min.x,m.x)-b.min.x)/(_.min.x-b.min.x),(Math.max(b.max.y,m.y)-b.max.y)/(_.max.y-b.max.y)-(Math.min(b.min.y,m.y)-b.min.y)/(_.min.y-b.min.y)).multiplyBy(u);a.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),Le(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=se(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ae(this._panRequest),this._panRequest=se(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,a=r._shadow,u=jn(r._icon),h=r._map.layerPointToLatLng(u);a&&Le(a,u),r._latlng=h,n.latlng=h,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ae(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),lo=Ct.extend({options:{icon:new nr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){T(this,r),this._latlng=K(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=K(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=n.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(a.title=n.title),a.tagName==="IMG"&&(a.alt=n.alt||"")),te(a,r),n.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(a,"focus",this._panOnFocus,this);var h=n.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(te(h,r),h.alt=""),this._shadow=h,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(this._icon,"focus",this._panOnFocus,this),Se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Se(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Le(this._icon,n),this._shadow&&Le(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&gt(this._icon,n),this._shadow&&gt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,a=r.iconSize?A(r.iconSize):A(0,0),u=r.iconAnchor?A(r.iconAnchor):A(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function o0(n,r){return new lo(n,r)}var un=Ct.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return T(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),uo=un.extend({options:{fill:!0,radius:10},initialize:function(n,r){T(this,r),this._latlng=K(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=K(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return un.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,a=this._clickTolerance(),u=[n+a,r+a];this._pxBounds=new Z(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function s0(n,r){return new uo(n,r)}var Sa=uo.extend({initialize:function(n,r,a){if(typeof r=="number"&&(r=s({},a,{radius:r})),T(this,r),this._latlng=K(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new pe(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:un.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===Ze.distance){var h=Math.PI/180,m=this._mRadius/Ze.R/h,_=a.project([r+m,n]),P=a.project([r-m,n]),b=_.add(P).divideBy(2),D=a.unproject(b).lat,U=Math.acos((Math.cos(m*h)-Math.sin(r*h)*Math.sin(D*h))/(Math.cos(r*h)*Math.cos(D*h)))/h;(isNaN(U)||U===0)&&(U=m/Math.cos(Math.PI/180*r)),this._point=b.subtract(a.getPixelOrigin()),this._radius=isNaN(U)?0:b.x-a.project([D,n-U]).x,this._radiusY=b.y-_.y}else{var G=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(G).x}this._updateBounds()}});function a0(n,r,a){return new Sa(n,r,a)}var Gt=un.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){T(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,a=null,u=tr,h,m,_=0,P=this._parts.length;_<P;_++)for(var b=this._parts[_],D=1,U=b.length;D<U;D++){h=b[D-1],m=b[D];var G=u(n,h,m,!0);G<r&&(r=G,a=u(n,h,m))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=K(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new pe,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return vt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],a=vt(n),u=0,h=n.length;u<h;u++)a?(r[u]=K(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new N(n,n);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,a){var u=n[0]instanceof le,h=n.length,m,_;if(u){for(_=[],m=0;m<h;m++)_[m]=this._map.latLngToLayerPoint(n[m]),a.extend(_[m]);r.push(_)}else for(m=0;m<h;m++)this._projectLatlngs(n[m],r,a)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,u,h,m,_,P,b;for(a=0,h=0,m=this._rings.length;a<m;a++)for(b=this._rings[a],u=0,_=b.length;u<_-1;u++)P=Oc(b[u],b[u+1],n,u,!0),P&&(r[h]=r[h]||[],r[h].push(P[0]),(P[1]!==b[u+1]||u===_-2)&&(r[h].push(P[1]),h++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,a=0,u=n.length;a<u;a++)n[a]=Mc(n[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var a,u,h,m,_,P,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,m=this._parts.length;a<m;a++)for(P=this._parts[a],u=0,_=P.length,h=_-1;u<_;h=u++)if(!(!r&&u===0)&&Ac(n,P[h],P[u])<=b)return!0;return!1}});function l0(n,r){return new Gt(n,r)}Gt._flat=Ic;var si=Gt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Gt.prototype._convertLatLngs.call(this,n),a=r.length;return a>=2&&r[0]instanceof le&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(n){Gt.prototype._setLatLngs.call(this,n),vt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,a=new N(r,r);if(n=new Z(n.min.subtract(a),n.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,h=this._rings.length,m;u<h;u++)m=Lc(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,a,u,h,m,_,P,b,D;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,b=this._parts.length;m<b;m++)for(a=this._parts[m],_=0,D=a.length,P=D-1;_<D;P=_++)u=a[_],h=a[P],u.y>n.y!=h.y>n.y&&n.x<(h.x-u.x)*(n.y-u.y)/(h.y-u.y)+u.x&&(r=!r);return r||Gt.prototype._containsPoint.call(this,n,!0)}});function u0(n,r){return new si(n,r)}var Jt=$t.extend({initialize:function(n,r){T(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=w(n)?n:n.features,a,u,h;if(r){for(a=0,u=r.length;a<u;a++)h=r[a],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var _=co(n,m);return _?(_.feature=po(n),_.defaultOptions=_.options,this.resetStyle(_),m.onEachFeature&&m.onEachFeature(n,_),this.addLayer(_)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function co(n,r){var a=n.type==="Feature"?n.geometry:n,u=a?a.coordinates:null,h=[],m=r&&r.pointToLayer,_=r&&r.coordsToLatLng||ka,P,b,D,U;if(!u&&!a)return null;switch(a.type){case"Point":return P=_(u),Bc(m,n,P,r);case"MultiPoint":for(D=0,U=u.length;D<U;D++)P=_(u[D]),h.push(Bc(m,n,P,r));return new $t(h);case"LineString":case"MultiLineString":return b=ho(u,a.type==="LineString"?0:1,_),new Gt(b,r);case"Polygon":case"MultiPolygon":return b=ho(u,a.type==="Polygon"?1:2,_),new si(b,r);case"GeometryCollection":for(D=0,U=a.geometries.length;D<U;D++){var G=co({geometry:a.geometries[D],type:"Feature",properties:n.properties},r);G&&h.push(G)}return new $t(h);case"FeatureCollection":for(D=0,U=a.features.length;D<U;D++){var re=co(a.features[D],r);re&&h.push(re)}return new $t(h);default:throw new Error("Invalid GeoJSON object.")}}function Bc(n,r,a,u){return n?n(r,a):new lo(a,u&&u.markersInheritOptions&&u)}function ka(n){return new le(n[1],n[0],n[2])}function ho(n,r,a){for(var u=[],h=0,m=n.length,_;h<m;h++)_=r?ho(n[h],r-1,a):(a||ka)(n[h]),u.push(_);return u}function Pa(n,r){return n=K(n),n.alt!==void 0?[k(n.lng,r),k(n.lat,r),k(n.alt,r)]:[k(n.lng,r),k(n.lat,r)]}function fo(n,r,a,u){for(var h=[],m=0,_=n.length;m<_;m++)h.push(r?fo(n[m],vt(n[m])?0:r-1,a,u):Pa(n[m],u));return!r&&a&&h.length>0&&h.push(h[0].slice()),h}function ai(n,r){return n.feature?s({},n.feature,{geometry:r}):po(r)}function po(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ba={toGeoJSON:function(n){return ai(this,{type:"Point",coordinates:Pa(this.getLatLng(),n)})}};lo.include(ba),Sa.include(ba),uo.include(ba),Gt.include({toGeoJSON:function(n){var r=!vt(this._latlngs),a=fo(this._latlngs,r?1:0,!1,n);return ai(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),si.include({toGeoJSON:function(n){var r=!vt(this._latlngs),a=r&&!vt(this._latlngs[0]),u=fo(this._latlngs,a?2:r?1:0,!0,n);return r||(u=[u]),ai(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),ri.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(n).geometry.coordinates)}),ai(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var a=r==="GeometryCollection",u=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(n);if(a)u.push(m.geometry);else{var _=po(m);_.type==="FeatureCollection"?u.push.apply(u,_.features):u.push(_)}}}),a?ai(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Zc(n,r){return new Jt(n,r)}var c0=Zc,mo=Ct.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,a){this._url=n,this._bounds=he(r),T(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&ni(this._image),this},bringToBack:function(){return this._map&&ii(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=he(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:de("img");if(te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;An(this._image,a,r)},_reset:function(){var n=this._image,r=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Le(n,r.min),n.style.width=a.x+"px",n.style.height=a.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),d0=function(n,r,a){return new mo(n,r,a)},Uc=mo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:de("video");if(te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onloadeddata=c(this.fire,this,"load"),n){for(var a=r.getElementsByTagName("source"),u=[],h=0;h<a.length;h++)u.push(a[h].src);this._url=a.length>0?u:[r.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var _=de("source");_.src=this._url[m],r.appendChild(_)}}});function h0(n,r,a){return new Uc(n,r,a)}var Hc=mo.extend({_initImage:function(){var n=this._image=this._url;te(n,"leaflet-image-layer"),this._zoomAnimated&&te(n,"leaflet-zoom-animated"),this.options.className&&te(n,this.options.className),n.onselectstart=x,n.onmousemove=x}});function f0(n,r,a){return new Hc(n,r,a)}var Ft=Ct.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof le||w(n))?(this._latlng=K(n),T(this,r)):(T(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(c(Se,void 0,this._container),200)):Se(this._container),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=K(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ni(this._container),this},bringToBack:function(){return this._map&&ii(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof $t){r=null;var a=this._source._layers;for(var u in a)if(a[u]._map){r=a[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=A(this.options.offset),a=this._getAnchor();this._zoomAnimated?Le(this._container,n.add(a)):r=r.add(n).add(a);var u=this._containerBottom=-r.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});ue.include({_initOverlay:function(n,r,a,u){var h=r;return h instanceof n||(h=new n(u).setContent(r)),a&&h.setLatLng(a),h}}),Ct.include({_initOverlay:function(n,r,a,u){var h=a;return h instanceof n?(T(h,u),h._source=this):(h=r&&!u?r:new n(u,this),h.setContent(a)),h}});var go=Ft.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ft.prototype.openOn.call(this,n)},onAdd:function(n){Ft.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof un||this._source.on("preclick",On))},onRemove:function(n){Ft.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof un||this._source.off("preclick",On))},getEvents:function(){var n=Ft.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=de("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=de("div",n+"-content-wrapper",r);if(this._contentNode=de("div",n+"-content",a),Xi(r),pa(this._contentNode),ee(r,"contextmenu",On),this._tipContainer=de("div",n+"-tip-container",r),this._tip=de("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=de("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',ee(u,"click",function(h){Ue(h),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var a=n.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&u>h?(r.height=h+"px",te(n,m)):Ne(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),a=this._getAnchor();Le(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(Ji(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,u=this._containerWidth,h=new N(this._containerLeft,-a-this._containerBottom);h._add(jn(this._container));var m=n.layerPointToContainerPoint(h),_=A(this.options.autoPanPadding),P=A(this.options.autoPanPaddingTopLeft||_),b=A(this.options.autoPanPaddingBottomRight||_),D=n.getSize(),U=0,G=0;m.x+u+b.x>D.x&&(U=m.x+u-D.x+b.x),m.x-U-P.x<0&&(U=m.x-P.x),m.y+a+b.y>D.y&&(G=m.y+a-D.y+b.y),m.y-G-P.y<0&&(G=m.y-P.y),(U||G)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([U,G]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),p0=function(n,r){return new go(n,r)};ue.mergeOptions({closePopupOnClick:!0}),ue.include({openPopup:function(n,r,a){return this._initOverlay(go,n,r,a).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Ct.include({bindPopup:function(n,r){return this._popup=this._initOverlay(go,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){In(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof un)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var vo=Ft.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ft.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ft.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ft.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=de("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,a,u=this._map,h=this._container,m=u.latLngToContainerPoint(u.getCenter()),_=u.layerPointToContainerPoint(n),P=this.options.direction,b=h.offsetWidth,D=h.offsetHeight,U=A(this.options.offset),G=this._getAnchor();P==="top"?(r=b/2,a=D):P==="bottom"?(r=b/2,a=0):P==="center"?(r=b/2,a=D/2):P==="right"?(r=0,a=D/2):P==="left"?(r=b,a=D/2):_.x<m.x?(P="right",r=0,a=D/2):(P="left",r=b+(U.x+G.x)*2,a=D/2),n=n.subtract(A(r,a,!0)).add(U).add(G),Ne(h,"leaflet-tooltip-right"),Ne(h,"leaflet-tooltip-left"),Ne(h,"leaflet-tooltip-top"),Ne(h,"leaflet-tooltip-bottom"),te(h,"leaflet-tooltip-"+P),Le(h,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&gt(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),m0=function(n,r){return new vo(n,r)};ue.include({openTooltip:function(n,r,a){return this._initOverlay(vo,n,r,a).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Ct.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vo,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(ee(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ee(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,a,u;this._tooltip.options.sticky&&n.originalEvent&&(a=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var Wc=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),a=this.options;if(a.html instanceof Element?(no(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=A(a.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function g0(n){return new Wc(n)}oi.Default=nr;var ir=Ct.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){T(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Se(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof N?n:new N(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,a=-n(-1/0,1/0),u=0,h=r.length,m;u<h;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(a=n(a,+m));isFinite(a)&&(this.options.zIndex=a+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$.ielt9){gt(this._container,this.options.opacity);var n=+new Date,r=!1,a=!1;for(var u in this._tiles){var h=this._tiles[u];if(!(!h.current||!h.loaded)){var m=Math.min(1,(n-h.loaded)/200);gt(h.el,m),m<1?r=!0:(h.active?a=!0:this._onOpaqueTile(h),h.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(ae(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=de("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===n?(this._levels[a].el.style.zIndex=r-Math.abs(n-a),this._onUpdateLevel(a)):(Se(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[n],h=this._map;return u||(u=this._levels[n]={},u.el=de("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=h.project(h.unproject(h.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,h.getCenter(),h.getZoom()),x(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var n,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Se(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,a,u){var h=Math.floor(n/2),m=Math.floor(r/2),_=a-1,P=new N(+h,+m);P.z=+_;var b=this._tileCoordsToKey(P),D=this._tiles[b];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),_>u?this._retainParent(h,m,_,u):!1)},_retainChildren:function(n,r,a,u){for(var h=2*n;h<2*n+2;h++)for(var m=2*r;m<2*r+2;m++){var _=new N(h,m);_.z=a+1;var P=this._tileCoordsToKey(_),b=this._tiles[P];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);a+1<u&&this._retainChildren(h,m,a+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,a,u){var h=Math.round(r);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!u||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(n),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],n,r)},_setZoomTransform:function(n,r,a){var u=this._map.getZoomScale(a,n.zoom),h=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,a)).round();$.any3d?An(n.el,h,u):Le(n.el,h)},_resetGrid:function(){var n=this._map,r=n.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/a.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/a.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(a,this._tileZoom),h=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new Z(h.subtract(m),h.add(m))},_update:function(n){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),h=this._pxBoundsToTileRange(u),m=h.getCenter(),_=[],P=this.options.keepBuffer,b=new Z(h.getBottomLeft().subtract([P,-P]),h.getTopRight().add([P,-P]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var U=this._tiles[D].coords;(U.z!==this._tileZoom||!b.contains(new N(U.x,U.y)))&&(this._tiles[D].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(n,a);return}for(var G=h.min.y;G<=h.max.y;G++)for(var re=h.min.x;re<=h.max.x;re++){var Ye=new N(re,G);if(Ye.z=this._tileZoom,!!this._isValidTile(Ye)){var De=this._tiles[this._tileCoordsToKey(Ye)];De?De.current=!0:_.push(Ye)}}if(_.sort(function(tt,ui){return tt.distanceTo(m)-ui.distanceTo(m)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _t=document.createDocumentFragment();for(re=0;re<_.length;re++)this._addTile(_[re],_t);this._level.el.appendChild(_t)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(n.x<a.min.x||n.x>a.max.x)||!r.wrapLat&&(n.y<a.min.y||n.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return he(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,a=this.getTileSize(),u=n.scaleBy(a),h=u.add(a),m=r.unproject(u,n.z),_=r.unproject(h,n.z);return[m,_]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),a=new pe(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),a=new N(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(n){var r=this._tiles[n];r&&(Se(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){te(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=x,n.onmousemove=x,$.ielt9&&this.options.opacity<1&&gt(n,this.options.opacity)},_addTile:function(n,r){var a=this._getTilePos(n),u=this._tileCoordsToKey(n),h=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(h),this.createTile.length<2&&se(c(this._tileReady,this,n,null,h)),Le(h,a),this._tiles[u]={el:h,coords:n,current:!0},r.appendChild(h),this.fire("tileloadstart",{tile:h,coords:n})},_tileReady:function(n,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:n});var u=this._tileCoordsToKey(n);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(gt(a.el,0),ae(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(te(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$.ielt9||!this._map._fadeAnimated?se(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new N(this._wrapX?S(n.x,this._wrapX):n.x,this._wrapY?S(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new Z(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function v0(n){return new ir(n)}var li=ir.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=T(this,r),r.detectRetina&&$.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var a=document.createElement("img");return ee(a,"load",c(this._tileOnLoad,this,r,a)),ee(a,"error",c(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(n),a},getTileUrl:function(n){var r={r:$.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=a),r["-y"]=a}return y(this._url,s(r,this.options))},_tileOnLoad:function(n,r){$.ielt9?setTimeout(c(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,a){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(a,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=x,r.onerror=x,!r.complete)){r.src=I;var a=this._tiles[n].coords;Se(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",I),ir.prototype._removeTile.call(this,n)},_tileReady:function(n,r,a){if(!(!this._map||a&&a.getAttribute("src")===I))return ir.prototype._tileReady.call(this,n,r,a)}});function Vc(n,r){return new li(n,r)}var Kc=li.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var a=s({},this.defaultWmsParams);for(var u in r)u in this.options||(a[u]=r[u]);r=T(this,r);var h=r.detectRetina&&$.retina?2:1,m=this.getTileSize();a.width=m.x*h,a.height=m.y*h,this.wmsParams=a},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,li.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),a=this._crs,u=X(a.project(r[0]),a.project(r[1])),h=u.min,m=u.max,_=(this._wmsVersion>=1.3&&this._crs===Rc?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),P=li.prototype.getTileUrl.call(this,n);return P+V(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(n,r){return s(this.wmsParams,n),r||this.redraw(),this}});function _0(n,r){return new Kc(n,r)}li.WMS=Kc,Vc.wms=_0;var Yt=Ct.extend({options:{padding:.1},initialize:function(n){T(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var a=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,r),m=u.multiplyBy(-a).add(h).subtract(this._map._getNewPixelOrigin(n,r));$.any3d?An(this._container,m,a):Le(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new Z(a,a.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$c=Yt.extend({options:{tolerance:0},getEvents:function(){var n=Yt.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ee(n,"mousemove",this._onMouseMove,this),ee(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ae(this._redrawRequest),delete this._ctx,Se(this._container),me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var n=this._bounds,r=this._container,a=n.getSize(),u=$.retina?2:1;Le(r,n.min),r.width=u*a.x,r.height=u*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",$.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Yt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,a=r.next,u=r.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),a=[],u,h;for(h=0;h<r.length;h++){if(u=Number(r[h]),isNaN(u))return;a.push(u)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||se(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var a,u,h,m,_=n._parts,P=_.length,b=this._ctx;if(P){for(b.beginPath(),a=0;a<P;a++){for(u=0,h=_[a].length;u<h;u++)m=_[a][u],b[u?"lineTo":"moveTo"](m.x,m.y);r&&b.closePath()}this._fillStroke(b,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,a=this._ctx,u=Math.max(Math.round(n._radius),1),h=(Math.max(Math.round(n._radiusY),1)||u)/u;h!==1&&(a.save(),a.scale(1,h)),a.beginPath(),a.arc(r.x,r.y/h,u,0,Math.PI*2,!1),h!==1&&a.restore(),this._fillStroke(a,n)}},_fillStroke:function(n,r){var a=r.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(te(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,a){this._map._fireDOMEvent(r,a||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function Gc(n){return $.canvas?new $c(n):null}var rr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),y0={_initContainer:function(){this._container=de("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yt.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=rr("shape");te(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=rr("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Se(r),n.removeInteractiveTarget(r),delete this._layers[p(n)]},_updateStyle:function(n){var r=n._stroke,a=n._fill,u=n.options,h=n._container;h.stroked=!!u.stroke,h.filled=!!u.fill,u.stroke?(r||(r=n._stroke=rr("stroke")),h.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=w(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(h.removeChild(r),n._stroke=null),u.fill?(a||(a=n._fill=rr("fill")),h.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(h.removeChild(a),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),a=Math.round(n._radius),u=Math.round(n._radiusY||a);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){ni(n._container)},_bringToBack:function(n){ii(n._container)}},_o=$.vml?rr:ei,or=Yt.extend({_initContainer:function(){this._container=_o("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_o("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Se(this._container),me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var n=this._bounds,r=n.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Le(a,n.min),a.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=_o("path");n.options.className&&te(r,n.options.className),n.options.interactive&&te(r,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Se(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,a=n.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Xu(n._parts,r))},_updateCircle:function(n){var r=n._point,a=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||a,h="a"+a+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-a)+","+r.y+h+a*2+",0 "+h+-a*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){ni(n._path)},_bringToBack:function(n){ii(n._path)}});$.vml&&or.include(y0);function Jc(n){return $.svg||$.vml?new or(n):null}ue.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&Gc(n)||Jc(n)}});var Yc=si.extend({initialize:function(n,r){si.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=he(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function x0(n,r){return new Yc(n,r)}or.create=_o,or.pointsToPath=Xu,Jt.geometryToLayer=co,Jt.coordsToLatLng=ka,Jt.coordsToLatLngs=ho,Jt.latLngToCoords=Pa,Jt.latLngsToCoords=fo,Jt.getFeature=ai,Jt.asFeature=po,ue.mergeOptions({boxZoom:!0});var qc=Rt.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yi(),sa(),this._startPoint=this._map.mouseEventToContainerPoint(n),ee(document,{contextmenu:In,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=de("div","leaflet-zoom-box",this._container),te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new Z(this._point,this._startPoint),a=r.getSize();Le(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(Se(this._box),Ne(this._container,"leaflet-crosshair")),qi(),aa(),me(document,{contextmenu:In,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ue.addInitHook("addHandler","boxZoom",qc),ue.mergeOptions({doubleClickZoom:!0});var Qc=Rt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,a=r.getZoom(),u=r.options.zoomDelta,h=n.originalEvent.shiftKey?a-u:a+u;r.options.doubleClickZoom==="center"?r.setZoom(h):r.setZoomAround(n.containerPoint,h)}});ue.addInitHook("addHandler","doubleClickZoom",Qc),ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xc=Rt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new ln(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ne(this._map._container,"leaflet-grab"),Ne(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=he(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,h=(u-r+a)%n+r-a,m=(u+r+a)%n-r-a,_=Math.abs(h+a)<Math.abs(m+a)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(n){var r=this._map,a=r.options,u=!a.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,_=a.easeLinearity,P=h.multiplyBy(_/m),b=P.distanceTo([0,0]),D=Math.min(a.inertiaMaxSpeed,b),U=P.multiplyBy(D/b),G=D/(a.inertiaDeceleration*_),re=U.multiplyBy(-G/2).round();!re.x&&!re.y?r.fire("moveend"):(re=r._limitOffset(re,r.options.maxBounds),se(function(){r.panBy(re,{duration:G,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});ue.addInitHook("addHandler","dragging",Xc),ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ed=Rt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ee(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,a=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},a=this.keyCodes,u,h;for(u=0,h=a.left.length;u<h;u++)r[a.left[u]]=[-1*n,0];for(u=0,h=a.right.length;u<h;u++)r[a.right[u]]=[n,0];for(u=0,h=a.down.length;u<h;u++)r[a.down[u]]=[0,n];for(u=0,h=a.up.length;u<h;u++)r[a.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},a=this.keyCodes,u,h;for(u=0,h=a.zoomIn.length;u<h;u++)r[a.zoomIn[u]]=n;for(u=0,h=a.zoomOut.length;u<h;u++)r[a.zoomOut[u]]=-n},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,a=this._map,u;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=A(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(A(u),a.options.maxBounds)),a.options.worldCopyJump){var h=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(h)}else a.panBy(u)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;In(n)}}});ue.addInitHook("addHandler","keyboard",ed),ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var td=Rt.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=bc(n),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),In(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),a=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=a?Math.ceil(h/a)*a:h,_=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,_&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+_):n.setZoomAround(this._lastMousePos,r+_))}});ue.addInitHook("addHandler","scrollWheelZoom",td);var w0=600;ue.mergeOptions({tapHold:$.touchNative&&$.safari&&$.mobile,tapTolerance:15});var nd=Rt.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new N(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",Ue),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),w0),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){me(document,"touchend",Ue),me(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new N(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var a=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});ue.addInitHook("addHandler","tapHold",nd),ue.mergeOptions({touchZoom:$.touch,bounceAtZoomLimits:!0});var id=Rt.extend({addHooks:function(){te(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),Ue(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),h=a.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(h,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&h<1||this._zoom>r.getMaxZoom()&&h>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),ae(this._animRequest);var _=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=se(_,this,!0),Ue(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ae(this._animRequest),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ue.addInitHook("addHandler","touchZoom",id),ue.BoxZoom=qc,ue.DoubleClickZoom=Qc,ue.Drag=Xc,ue.Keyboard=ed,ue.ScrollWheelZoom=td,ue.TapHold=nd,ue.TouchZoom=id,i.Bounds=Z,i.Browser=$,i.CRS=Ae,i.Canvas=$c,i.Circle=Sa,i.CircleMarker=uo,i.Class=ie,i.Control=bt,i.DivIcon=Wc,i.DivOverlay=Ft,i.DomEvent=Fm,i.DomUtil=Dm,i.Draggable=ln,i.Evented=xe,i.FeatureGroup=$t,i.GeoJSON=Jt,i.GridLayer=ir,i.Handler=Rt,i.Icon=oi,i.ImageOverlay=mo,i.LatLng=le,i.LatLngBounds=pe,i.Layer=Ct,i.LayerGroup=ri,i.LineUtil=Qm,i.Map=ue,i.Marker=lo,i.Mixin=Km,i.Path=un,i.Point=N,i.PolyUtil=$m,i.Polygon=si,i.Polyline=Gt,i.Popup=go,i.PosAnimation=Cc,i.Projection=Xm,i.Rectangle=Yc,i.Renderer=Yt,i.SVG=or,i.SVGOverlay=Hc,i.TileLayer=li,i.Tooltip=vo,i.Transformation=Xn,i.Util=Be,i.VideoOverlay=Uc,i.bind=c,i.bounds=X,i.canvas=Gc,i.circle=a0,i.circleMarker=s0,i.control=er,i.divIcon=g0,i.extend=s,i.featureGroup=i0,i.geoJSON=Zc,i.geoJson=c0,i.gridLayer=v0,i.icon=r0,i.imageOverlay=d0,i.latLng=K,i.latLngBounds=he,i.layerGroup=n0,i.map=Bm,i.marker=o0,i.point=A,i.polygon=u0,i.polyline=l0,i.popup=p0,i.rectangle=x0,i.setOptions=T,i.stamp=p,i.svg=Jc,i.svgOverlay=f0,i.tileLayer=Vc,i.tooltip=m0,i.transformation=we,i.version=o,i.videoOverlay=h0;var S0=window.L;i.noConflict=function(){return window.L=S0,this},window.L=i})})(Xl,Xl.exports);var Ot=Xl.exports;function Ks(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function $s(e,t){return t==null?function(o,s){const l=z.useRef();return l.current||(l.current=e(o,s)),l}:function(o,s){const l=z.useRef();l.current||(l.current=e(o,s));const c=z.useRef(o),{instance:f}=l.current;return z.useEffect(function(){c.current!==o&&(t(f,o,c.current),c.current=o)},[f,o,s]),l}}function em(e,t){z.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function tm(e){return function(i){const o=qu(),s=e(Vs(i,o),o);return Jp(o.map,i.attribution),Qu(s.current,i.eventHandlers),em(s.current,o),s}}function Ey(e,t){const i=z.useRef();z.useEffect(function(){if(t.pathOptions!==i.current){const s=t.pathOptions??{};e.instance.setStyle(s),i.current=s}},[e,t])}function Ly(e){return function(i){const o=qu(),s=e(Vs(i,o),o);return Qu(s.current,i.eventHandlers),em(s.current,o),Ey(s.current,i),s}}function zy(e,t){const i=$s(e,t),o=tm(i);return Xp(o)}function My(e,t){const i=$s(e),o=Ny(i,t);return Cy(o)}function Ay(e,t){const i=$s(e,t),o=Ly(i);return Xp(o)}function jy(e,t){const i=$s(e,t),o=tm(i);return Ty(o)}function Oy(e,t,i){const{opacity:o,zIndex:s}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),s!=null&&s!==i.zIndex&&e.setZIndex(s)}function eu(){return eu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},eu.apply(this,arguments)}function Iy({bounds:e,boundsOptions:t,center:i,children:o,className:s,id:l,placeholder:c,style:f,whenReady:p,zoom:g,...S},x){const[k]=z.useState({className:s,id:l,style:f}),[C,E]=z.useState(null);z.useImperativeHandle(x,()=>(C==null?void 0:C.map)??null,[C]);const T=z.useCallback(v=>{if(v!==null&&C===null){const y=new Ot.Map(v,S);i!=null&&g!=null?y.setView(i,g):e!=null&&y.fitBounds(e,t),p!=null&&y.whenReady(p),E(by(y))}},[]);z.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const V=C?es.createElement(Qp,{value:C},o):c??null;return es.createElement("div",eu({},k,{ref:T}),V)}const Gs=z.forwardRef(Iy),Kr=zy(function({position:t,...i},o){const s=new Ot.Marker(t,i);return Ks(s,Yp(o,{overlayContainer:s}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),nm=Ay(function({positions:t,...i},o){const s=new Ot.Polyline(t,i);return Ks(s,Yp(o,{overlayContainer:s}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),$r=My(function(t,i){const o=new Ot.Popup(t,i.overlayContainer);return Ks(o,i)},function(t,i,{position:o},s){z.useEffect(function(){const{instance:c}=t;function f(g){g.popup===c&&(c.update(),s(!0))}function p(g){g.popup===c&&s(!1)}return i.map.on({popupopen:f,popupclose:p}),i.overlayContainer==null?(o!=null&&c.setLatLng(o),c.openOn(i.map)):i.overlayContainer.bindPopup(c),function(){var S;i.map.off({popupopen:f,popupclose:p}),(S=i.overlayContainer)==null||S.unbindPopup(),i.map.removeLayer(c)}},[t,i,s,o])}),Js=jy(function({url:t,...i},o){const s=new Ot.TileLayer(t,Vs(i,o));return Ks(s,o)},function(t,i,o){Oy(t,i,o);const{url:s}=i;s!=null&&s!==o.url&&t.setUrl(s)}),Dy={FLL:{lat:26.0726,lng:-80.1527,name:"Fort Lauderdale"},SFO:{lat:37.6213,lng:-122.379,name:"San Francisco"},DEN:{lat:39.8561,lng:-104.6737,name:"Denver"},MNL:{lat:14.5086,lng:121.0194,name:"Manila"},BCD:{lat:10.7764,lng:123.0148,name:"Bacolod"},NRT:{lat:35.772,lng:140.3929,name:"Tokyo Narita"},HND:{lat:35.5494,lng:139.7798,name:"Tokyo Haneda"},UENO:{lat:35.7141,lng:139.7774,name:"Ueno Station"},JOETSU:{lat:37.1033,lng:138.2531,name:"Jetsumyk Station"}},Sh=50,Ry=.1,Fy=new Ot.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[20,33],iconAnchor:[10,33],popupAnchor:[1,-28],shadowSize:[33,33]}),By=new Ot.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[20,33],iconAnchor:[10,33],popupAnchor:[1,-28],shadowSize:[33,33]}),Zy={color:"#3b82f6",weight:2,opacity:.8,dashArray:"10, 10"},kh=e=>{if(!e)return null;const t=e.match(/^([A-Z]{3})/);return t?t[1]:null},Ph=e=>e?Dy[e]:null,Uy=(e,t)=>{const i=(e.lat+t.lat)/2,o=(e.lng+t.lng)/2;return[i,o]},Hy=(e,t)=>{const i=Math.abs(e.lat-t.lat),o=Math.abs(e.lng-t.lng),s=Math.max(i,o);return s>100?1:s>50?2:s>20?3:s>10?4:s>5?5:6},Wy=(e,t)=>{const i=Math.abs(e.lat-t.lat),o=Math.abs(e.lng-t.lng);return Math.max(i,o)},Vy=(e,t,i)=>{const o=[];for(let s=0;s<=Sh;s++){const l=s/Sh,c=e[0]+(t[0]-e[0])*l,f=e[1]+(t[1]-e[1])*l,p=Math.sin(l*Math.PI)*(i*Ry);o.push([c+p*.3,f])}return o};function Ky({departureAirport:e,arrivalAirport:t,route:i,type:o}){const s=kh(e),l=kh(t),c=Ph(s),f=Ph(l);if(!c||!f)return null;const p=[c.lat,c.lng],g=[f.lat,f.lng],S=Uy(c,f),x=Hy(c,f),k=Wy(c,f),C=Vy(p,g,k),E=i||`${s}  ${l}`;return d.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-blue-800/50",style:{minHeight:"180px"},children:[d.jsxs("div",{className:"absolute top-2 left-2 z-[1000] bg-blue-900/90 backdrop-blur-sm px-2.5 py-1.5 rounded-lg border border-blue-700/50 flex items-center gap-2",children:[d.jsx(Fi,{size:16,className:"text-blue-400"}),d.jsx("span",{className:"text-sm font-medium text-blue-200",children:E})]}),d.jsxs(Gs,{center:S,zoom:x,scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[d.jsx(Js,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),d.jsx(nm,{positions:C,pathOptions:Zy}),d.jsx(Kr,{position:p,icon:Fy,children:d.jsx($r,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold",children:" Departure"}),d.jsxs("div",{className:"text-xs",children:[c.name," (",s,")"]})]})})}),d.jsx(Kr,{position:g,icon:By,children:d.jsx($r,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold",children:" Arrival"}),d.jsxs("div",{className:"text-xs",children:[f.name," (",l,")"]})]})})})]})]})}const $y=e=>e.status==="BUFFER",Gy=e=>!!(e.departureAirport&&e.arrivalAirport),Jy=e=>{switch(e){case 1:return"bg-green-950/40 border border-green-900/50";case 2:return"bg-amber-950/40 border border-amber-900/50";case 3:return"bg-red-950/40 border border-red-900/50";default:return"bg-zinc-950/40 border border-zinc-900/50"}};function Yy({bufferSegmentItem:e}){const t=!!e.location,i=e.type&&e.type!=="Buffer",o=e.details||e.route||"Scheduled buffer period";return d.jsx("div",{className:"p-3 md:p-4",children:d.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-violet-950/40 via-purple-950/30 to-indigo-950/40 border border-violet-700/40 p-4 md:p-5",children:[d.jsxs("div",{className:"absolute inset-0 opacity-10",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-500 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-indigo-500 rounded-full blur-3xl"})]}),d.jsxs("div",{className:"relative flex items-center gap-3 md:gap-5",children:[d.jsx("div",{className:"flex-shrink-0 w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-2xl bg-gradient-to-br from-violet-600/30 to-indigo-600/30 border border-violet-500/40 flex items-center justify-center",children:d.jsx(g_,{className:"w-6 h-6 md:w-8 md:h-8 text-violet-300"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1.5 md:mb-2",children:[d.jsx("h3",{className:"text-base md:text-lg font-semibold text-violet-100",children:" Buffer Time"}),d.jsx(Yu,{code:e.status})]}),d.jsx("p",{className:"text-violet-200/80 text-xs md:text-sm mb-2 md:mb-3 truncate",children:o}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[e.time&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-violet-800/40 border border-violet-600/50 text-xs md:text-sm text-violet-200",children:[d.jsx(Ri,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-violet-400"}),d.jsx("span",{children:e.time})]}),t&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-violet-800/40 border border-violet-600/50 text-xs md:text-sm text-violet-200",children:[d.jsx(At,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-violet-400"}),d.jsx("span",{children:e.location})]}),i&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-indigo-800/40 border border-indigo-600/50 text-xs md:text-sm text-indigo-200",children:[d.jsx(u_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-indigo-400"}),d.jsx("span",{children:e.type})]})]})]}),d.jsxs("div",{className:"hidden sm:flex flex-col items-center gap-2 text-violet-400/60",children:[d.jsx(y_,{className:"w-6 h-6"}),d.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Safe"})]})]})]})})}function qy({backupPlanData:e}){const[t,i]=z.useState(!1),o=()=>i(!t);return d.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-900/20",children:[d.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-xs font-medium text-red-400 hover:text-red-300",children:[t?d.jsx(Vi,{className:"h-3 w-3"}):d.jsx(Ki,{className:"h-3 w-3"})," Backup Plan: ",e.trigger]}),t&&d.jsx("div",{className:"mt-2 space-y-2 pl-5",children:e.options.map(s=>d.jsx("div",{className:Te("text-xs rounded p-2",Jy(s.priority)),children:d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-zinc-100",children:["P",s.priority,": ",s.title]}),d.jsx("div",{className:"text-zinc-400 mt-0.5",children:s.description}),s.contact&&d.jsxs("div",{className:"text-zinc-500 mt-0.5 italic",children:["Contact: ",s.contact]})]}),d.jsx(Yu,{code:s.status})]})},s.id))})]})}const Qy=z.memo(function({items:t,isExpanded:i,onToggle:o,showBackupPlans:s}){if(!t||t.length===0)return null;const l=t.length;return d.jsxs("div",{className:"border border-blue-900/50 rounded-lg overflow-hidden bg-blue-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2.5 md:py-3 hover:bg-blue-900/20 transition flex items-center justify-between bg-blue-900/30",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(Fi,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"}),d.jsxs("span",{className:"text-sm md:text-base font-medium text-blue-200",children:[" Travel ",d.jsxs("span",{className:"text-blue-500",children:["(",l,")"]})]})]}),i?d.jsx(Vi,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"}):d.jsx(Ki,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"})]}),i&&d.jsx("div",{className:"divide-y divide-blue-900/30 bg-blue-950/10 slide-down mb-3",children:t.map(c=>$y(c)?d.jsx(Yy,{bufferSegmentItem:c},c.id):d.jsxs("div",{className:"p-3 md:p-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4 md:min-h-[180px]",children:[d.jsxs("div",{className:"w-full md:w-[60%] min-w-0 flex flex-col justify-between",children:[d.jsx("div",{children:d.jsxs("div",{className:"flex items-start justify-between gap-2 md:gap-3 mb-2 md:mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-100 text-base md:text-lg",children:c.route}),c.flight&&d.jsxs("div",{className:"text-xs md:text-sm text-blue-400 mt-1",children:[c.airline," ",c.flight,c.aircraft&&d.jsxs("span",{className:"text-blue-500",children:["  ",c.aircraft]})]})]}),c.status&&d.jsx(Yu,{code:c.status})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-blue-300",children:[c.time&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[d.jsx(Ri,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{children:c.time})]}),c.duration&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[d.jsx(w_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{children:c.duration})]}),c.cabinClass&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[d.jsx(a_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{children:c.cabinClass})]})]})]}),Gy(c)&&d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",children:d.jsx(Ky,{departureAirport:c.departureAirport,arrivalAirport:c.arrivalAirport,route:c.route,type:c.type})})]}),(c.departureAirport||c.arrivalAirport)&&d.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 mt-2 md:mt-3 pt-2 md:pt-3 border-t border-blue-900/30",children:[c.departureAirport&&d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-blue-300",children:[d.jsx(Fi,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400 rotate-[-45deg]"}),d.jsx("span",{className:"text-blue-400 font-medium",children:"From:"}),d.jsx("span",{className:"truncate",children:c.departureAirport})]}),c.arrivalAirport&&d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-blue-300",children:[d.jsx(At,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{className:"text-blue-400 font-medium",children:"To:"}),d.jsx("span",{className:"truncate",children:c.arrivalAirport})]})]}),s&&c.backupPlan&&d.jsx(qy,{backupPlanData:c.backupPlan})]},c.id))})]})}),Xy=new Ot.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),ex={Sports:"#3b82f6",Food:"#f97316",Sightseeing:"#a855f7",Shopping:"#ec4899",Logistics:"#71717a",Relaxation:"#06b6d4",Family:"#f43f5e",Rest:"#6366f1",Entertainment:"#8b5cf6",Cultural:"#ef4444",Personal:"#64748b",Transport:"#0ea5e9",Outdoor:"#22c55e",Nightlife:"#d946ef"},Do={color:"#14b8a6",weight:3,opacity:.6,dashArray:"10, 10"},tx=(e,t="#14b8a6")=>new Ot.DivIcon({html:`
      <div style="
        background-color: ${t};
        border: 3px solid white;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: bold;
        color: white;
        box-shadow: 0 3px 6px rgba(0,0,0,0.4);
      ">
        ${e}
      </div>
    `,className:"custom-numbered-marker",iconSize:[36,36],iconAnchor:[18,18],popupAnchor:[0,-18]}),nx=(e,t)=>{const i=Math.max(e,t);return i>.1?12:i>.05?13:14},ix=e=>{if(e.length===0)return{center:[0,0],zoom:14};const t=e.map(p=>p.lat),i=e.map(p=>p.lng),o=(Math.min(...t)+Math.max(...t))/2,s=(Math.min(...i)+Math.max(...i))/2,l=Math.max(...t)-Math.min(...t),c=Math.max(...i)-Math.min(...i),f=nx(l,c);return{center:[o,s],zoom:f}},rx=e=>e.filter(t=>{var i,o;return((i=t.coordinates)==null?void 0:i.lat)&&((o=t.coordinates)==null?void 0:o.lng)}),ox=e=>e.map((t,i)=>({position:[t.coordinates.lat,t.coordinates.lng],name:t.name,location:t.location,category:t.category,time:t.timeStart||t.time,index:i+1})),sx=e=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.name||`${e.coordinates.lat},${e.coordinates.lng}`)}`,ax=e=>{if(e.length<2)return null;const t=e[0],i=e[e.length-1];let o="https://www.google.com/maps/dir/?api=1";if(o+=`&origin=${t.position[0]},${t.position[1]}`,o+=`&destination=${i.position[0]},${i.position[1]}`,e.length>2){const l=e.slice(1,-1).map(c=>`${c.position[0]},${c.position[1]}`).join("|");o+=`&waypoints=${l}`}return o};function im({isOpen:e,onClose:t,type:i,data:o}){if(z.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const s=i==="shelter",l=i==="activities";let c=[0,0],f=14,p=[];if(s&&(o!=null&&o.coordinates)&&(c=[o.coordinates.lat,o.coordinates.lng],f=15,p=[{position:c,name:o.name,address:o.address,type:o.type}]),l&&(o!=null&&o.activities)){const C=rx(o.activities);if(C.length>0){const E=C.map(v=>v.coordinates),{center:T,zoom:V}=ix(E);c=T,f=V,p=ox(C)}}const S=s&&(o!=null&&o.coordinates)?sx(o):l&&p.length>1?ax(p):null,x=s?(o==null?void 0:o.name)||"Shelter Location":`Activity Locations (${p.length})`,k=l&&p.length>1;return d.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-2 md:p-4 bg-black/80 backdrop-blur-sm",onClick:t,children:d.jsxs("div",{className:"relative w-full max-w-5xl h-[90vh] md:h-[80vh] bg-zinc-900 rounded-xl md:rounded-2xl border border-zinc-700 overflow-hidden shadow-2xl",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[1001] bg-zinc-900/95 backdrop-blur-sm border-b border-zinc-700 px-3 md:px-4 py-2.5 md:py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0 flex-1",children:[d.jsx(At,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm md:text-lg font-semibold text-white truncate",children:x})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[S&&d.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 md:gap-2 px-2 md:px-3 py-1 md:py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs md:text-sm font-medium rounded-lg transition-colors",children:[d.jsx(En,{size:14,className:"md:hidden"}),d.jsx(En,{size:16,className:"hidden md:block"}),d.jsx("span",{className:"hidden sm:inline",children:"Open in Google Maps"}),d.jsx("span",{className:"sm:hidden",children:"Maps"})]}),d.jsxs("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-zinc-700 rounded-lg transition-colors text-zinc-400 hover:text-white",children:[d.jsx(Ts,{size:18,className:"md:hidden"}),d.jsx(Ts,{size:20,className:"hidden md:block"})]})]})]}),d.jsx("div",{className:"w-full h-full pt-12 md:pt-14",children:d.jsxs(Gs,{center:c,zoom:f,scrollWheelZoom:!0,dragging:!0,zoomControl:!0,attributionControl:!0,style:{height:"100%",width:"100%"},children:[d.jsx(Js,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),p.map((C,E)=>{const T=l?tx(C.index,ex[C.category]||"#14b8a6"):Xy;return d.jsx(Kr,{position:C.position,icon:T,children:d.jsx($r,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold text-zinc-900",children:C.name}),C.location&&d.jsx("div",{className:"text-zinc-600",children:C.location}),C.address&&d.jsx("div",{className:"text-zinc-600",children:C.address}),C.time&&d.jsxs("div",{className:"text-zinc-500 mt-1",children:[" ",C.time]}),C.category&&d.jsx("div",{className:"text-zinc-500",children:C.category}),C.type&&d.jsx("div",{className:"text-zinc-500",children:C.type})]})})},E)}),k&&d.jsx(nm,{positions:p.map(C=>C.position),color:Do.color,weight:Do.weight,opacity:Do.opacity,dashArray:Do.dashArray})]})})]})})}const lx=new Ot.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),ux=15,cx=13,dx=2e3,hx={Hotel:"",Airbnb:"","Personal residence":""},fx="";function px(e,t,i){return`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i||`${e},${t}`)}&center=${e},${t}`}function mx(e){return e==="Hotel"||e==="Airbnb"?ux:cx}function gx(e){return hx[e]||fx}function vx(e){return(e==null?void 0:e.lat)!=null&&(e==null?void 0:e.lng)!=null}function _x(e){return[e.lat,e.lng]}const rm=z.memo(function({coordinates:t,name:i,address:o,type:s}){const[l,c]=z.useState(!1),[f,p]=z.useState(!1);if(!vx(t))return null;const g=_x(t),S=px(t.lat,t.lng,i||o),x=mx(s),k=gx(s),C=z.useCallback(async T=>{if(T.stopPropagation(),T.preventDefault(),!o)return;const[,V]=await navigator.clipboard.writeText(o).then(()=>[void 0,null],v=>[null,v instanceof Error?v:new Error(String(v))]);if(V){console.error("Failed to copy address:",V);return}p(!0),setTimeout(()=>p(!1),dx)},[o]),E=z.useCallback(T=>{T.stopPropagation(),c(!0)},[]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[d.jsxs("div",{className:"absolute top-3 left-3 z-[1000] bg-zinc-900/90 backdrop-blur-sm px-3 py-2 rounded-lg border border-zinc-700/50 flex items-center gap-2",children:[d.jsx(At,{size:18,className:"text-blue-400"}),d.jsxs("span",{className:"text-sm font-medium text-zinc-200",children:[k," ",i||"Tonight's Stay"]})]}),d.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",onClick:T=>T.stopPropagation(),className:"absolute top-3 right-3 z-[1000] bg-blue-600/90 hover:bg-blue-500/90 backdrop-blur-sm px-3 py-2 rounded-lg border border-blue-500/50 flex items-center gap-2 transition-colors",children:[d.jsx(En,{size:16,className:"text-white"}),d.jsx("span",{className:"text-sm font-medium text-white",children:"Open in Maps"})]}),o&&d.jsxs("button",{onClick:C,className:`absolute bottom-3 left-3 z-[1000] backdrop-blur-sm px-3 py-2 rounded-lg border flex items-center gap-2 transition-colors ${f?"bg-emerald-600/90 border-emerald-500/50":"bg-zinc-800/90 hover:bg-zinc-700/90 border-zinc-600/50"}`,title:f?"Copied!":"Copy address",children:[f?d.jsx(Wr,{size:16,className:"text-white"}):d.jsx(Vr,{size:16,className:"text-white"}),d.jsx("span",{className:"text-sm font-medium text-white",children:f?"Copied!":"Copy Address"})]}),d.jsx("button",{onClick:E,className:"absolute bottom-3 right-3 z-[1000] bg-zinc-800/90 hover:bg-zinc-700/90 backdrop-blur-sm p-2 rounded-lg border border-zinc-600/50 transition-colors",title:"Expand map",children:d.jsx(Vp,{size:16,className:"text-white"})}),d.jsxs(Gs,{center:g,zoom:x,scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[d.jsx(Js,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),d.jsx(Kr,{position:g,icon:lx,children:d.jsx($r,{className:"custom-popup",children:d.jsxs("div",{className:"text-sm",children:[d.jsxs("div",{className:"font-semibold",children:[k," ",i]}),o&&d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:o}),d.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs text-blue-600 hover:text-blue-700 font-medium",children:[d.jsx(En,{size:10}),"Open in Google Maps"]})]})})})]}),d.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-zinc-950/40 via-transparent to-transparent z-[500]"})]}),d.jsx(im,{isOpen:l,onClose:()=>c(!1),type:"shelter",data:{coordinates:t,name:i,address:o,type:s}})]})}),yx=2e3,xx=e=>!e||Object.keys(e).length===0,wx=e=>e.checkOut&&e.dayOfStay===e.totalStayDays,Sx=z.memo(function({shelter:t,isExpanded:i,onToggle:o}){const[s,l]=z.useState(!1);if(xx(t))return null;const c=z.useCallback(async S=>{if(S.stopPropagation(),!t.address)return;const[,x]=await navigator.clipboard.writeText(t.address).then(()=>[void 0,null],k=>[null,k instanceof Error?k:new Error(String(k))]);if(x){console.error("Failed to copy address:",x);return}l(!0),setTimeout(()=>l(!1),yx)},[t.address]),f=wx(t),p=!!t.coordinates,g=t.isMultiDayStay&&t.dayOfStay&&t.totalStayDays;return d.jsxs("div",{className:"border border-purple-900/50 rounded-lg overflow-hidden bg-purple-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2.5 md:py-3 hover:bg-purple-900/20 transition flex items-center justify-between bg-purple-900/30",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(l_,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"}),d.jsx("span",{className:"text-sm md:text-base font-medium text-purple-200",children:" Shelter"})]}),i?d.jsx(Vi,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"}):d.jsx(Ki,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"})]}),i&&d.jsxs("div",{className:"p-3 md:p-4 bg-purple-950/10 slide-down",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4",children:[d.jsxs("div",{className:"w-full md:w-[60%] min-w-0 flex flex-col gap-3 md:gap-4",children:[d.jsx("div",{children:t.name&&d.jsxs("div",{className:"mb-2 md:mb-3",children:[d.jsx("div",{className:"text-base md:text-lg font-semibold text-purple-100",children:t.name}),t.address&&d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-purple-300 mt-1",children:[d.jsx(At,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400"}),d.jsx("span",{className:"truncate",children:t.address}),d.jsx("button",{onClick:c,className:Te("p-1 rounded transition-colors flex-shrink-0",s?"text-emerald-400":"text-purple-400 hover:text-purple-200 hover:bg-purple-800/50"),title:s?"Copied!":"Copy address",children:s?d.jsx(Wr,{className:"h-3 w-3 md:h-3.5 md:w-3.5"}):d.jsx(Vr,{className:"h-3 w-3 md:h-3.5 md:w-3.5"})})]})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[t.type&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-purple-900/40 border border-purple-700/50 text-xs md:text-sm text-purple-200",children:[d.jsx(m_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400"}),d.jsx("span",{children:t.type})]}),t.checkIn&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-emerald-900/40 border border-emerald-700/50 text-xs md:text-sm text-emerald-200",children:[d.jsx(Ri,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-emerald-400"}),d.jsxs("span",{children:["Check-in: ",t.checkIn]})]}),f&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-amber-900/40 border border-amber-700/50 text-xs md:text-sm text-amber-200",children:[d.jsx(Ri,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-amber-400"}),d.jsxs("span",{children:["Check-out: ",t.checkOut]})]}),g&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-indigo-900/40 border border-indigo-700/50 text-xs md:text-sm text-indigo-200",children:[d.jsx(Hp,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-indigo-400"}),d.jsxs("span",{children:["Night ",t.dayOfStay," of ",t.totalStayDays]})]})]})]}),p&&d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0 h-[140px]",children:d.jsx(rm,{coordinates:t.coordinates,name:t.name,address:t.address,type:t.type})})]}),t.notes&&d.jsxs("div",{className:"flex items-start gap-1.5 md:gap-2 mt-2 md:mt-3 pt-2 md:pt-3 border-t border-purple-900/30 text-xs md:text-sm text-purple-300",children:[d.jsx(x_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"italic",children:t.notes})]})]})]})}),kx=z.memo(function({meals:t,isExpanded:i,onToggle:o}){if(!t||t.length===0)return null;const s=t.length;return d.jsxs("div",{className:"border border-amber-900/50 rounded-lg overflow-hidden bg-amber-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2 md:py-2.5 hover:bg-amber-900/20 transition flex items-center justify-between bg-amber-900/30",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(S_,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"}),d.jsxs("span",{className:"text-sm md:text-base font-medium text-amber-200",children:[" Meals ",d.jsxs("span",{className:"text-amber-500",children:["(",s,")"]})]})]}),i?d.jsx(Vi,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"}):d.jsx(Ki,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"})]}),i&&d.jsx("div",{className:"divide-y divide-amber-900/30 bg-amber-950/10 slide-down",children:t.map((l,c)=>d.jsx("div",{className:"px-3 md:px-4 py-2 md:py-3",children:d.jsxs("div",{className:"flex items-start justify-between gap-2 md:gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"text-sm md:text-base font-medium text-amber-100",children:l.type}),l.location&&d.jsxs("div",{className:"text-xs md:text-sm text-amber-400 mt-0.5 truncate",children:[" ",l.location]}),l.details&&d.jsx("div",{className:"text-xs md:text-sm text-amber-300 mt-0.5",children:l.details})]}),l.time&&d.jsxs("div",{className:"text-xs md:text-sm text-amber-400 whitespace-nowrap flex-shrink-0",children:[" ",l.time]})]})},c))})]})}),Px={Sports:"#3b82f6",Food:"#f97316",Sightseeing:"#a855f7",Shopping:"#ec4899",Logistics:"#71717a",Relaxation:"#06b6d4",Family:"#f43f5e",Rest:"#6366f1",Entertainment:"#8b5cf6",Cultural:"#ef4444",Personal:"#64748b",Transport:"#0ea5e9",Outdoor:"#22c55e",Nightlife:"#d946ef"},om="#14b8a6",Ro=.01,bx=(e,t=om)=>new Ot.DivIcon({html:`
      <div style="
        background-color: ${t};
        border: 2px solid white;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
        color: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${e}
      </div>
    `,className:"custom-numbered-marker",iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]}),Cx=(e,t,i)=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i||`${e},${t}`)}&center=${e},${t}`,Tx=e=>e.filter(t=>{var i,o;return((i=t.coordinates)==null?void 0:i.lat)&&((o=t.coordinates)==null?void 0:o.lng)}),Nx=e=>{if(!e||e.length<2)return null;const t=Tx(e);if(t.length<2)return null;const i=t[0],o=t[t.length-1],s=t.slice(1,-1);let l="https://www.google.com/maps/dir/?api=1";if(l+=`&origin=${i.coordinates.lat},${i.coordinates.lng}`,l+=`&destination=${o.coordinates.lat},${o.coordinates.lng}`,s.length>0){const c=s.map(f=>`${f.coordinates.lat},${f.coordinates.lng}`).join("|");l+=`&waypoints=${c}`}return l+="&travelmode=driving",l},Ex=e=>{const t=e.map(o=>o.coordinates.lat),i=e.map(o=>o.coordinates.lng);return[[Math.min(...t)-Ro,Math.min(...i)-Ro],[Math.max(...t)+Ro,Math.max(...i)+Ro]]},Lx=e=>Px[e]||om;function zx({activities:e,height:t=180}){const[i,o]=z.useState(!1),s=z.useMemo(()=>(e||[]).map((S,x)=>({...S,displayIndex:x+1})).filter(S=>{var x,k;return((x=S.coordinates)==null?void 0:x.lat)&&((k=S.coordinates)==null?void 0:k.lng)}),[e]);if(s.length===0)return null;const l=z.useMemo(()=>Ex(s),[s]),f=s.length===1?[s[0].coordinates.lat,s[0].coordinates.lng]:null,p=Nx(s),g=s.length;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg border border-teal-900/50",style:{height:`${t}px`},children:[d.jsxs("div",{className:"absolute top-2 left-2 z-[1000] bg-zinc-900/90 backdrop-blur-sm px-2 py-1 rounded-lg border border-teal-700/50 flex items-center gap-1.5",children:[d.jsx(At,{size:14,className:"text-teal-400"}),d.jsxs("span",{className:"text-xs font-medium text-teal-200",children:[" Activity Locations (",g,")"]})]}),p&&d.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),className:"absolute top-2 right-2 z-[1000] bg-teal-600/90 hover:bg-teal-500/90 backdrop-blur-sm px-2 py-1.5 rounded-lg border border-teal-500/50 flex items-center gap-1.5 transition-colors",children:[d.jsx(En,{size:12,className:"text-white"}),d.jsx("span",{className:"text-xs font-medium text-white",children:"Route in Maps"})]}),d.jsx("button",{onClick:S=>{S.stopPropagation(),o(!0)},className:"absolute bottom-2 right-2 z-[1000] bg-zinc-800/90 hover:bg-zinc-700/90 backdrop-blur-sm p-1.5 rounded-lg border border-zinc-600/50 transition-colors",title:"Expand map",children:d.jsx(Vp,{size:14,className:"text-white"})}),d.jsx("div",{style:{height:"100%",width:"100%"},children:d.jsxs(Gs,{...f?{center:f,zoom:14}:{bounds:l},scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[d.jsx(Js,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),s.map(S=>{const x=[S.coordinates.lat,S.coordinates.lng],k=Lx(S.category),C=bx(S.displayIndex,k),E=Cx(S.coordinates.lat,S.coordinates.lng,S.location||S.name);return d.jsx(Kr,{position:x,icon:C,children:d.jsx($r,{className:"custom-popup",children:d.jsxs("div",{className:"text-sm min-w-[180px]",children:[d.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[S.icon," ",S.name]}),S.location&&d.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[" ",S.location]}),S.timeStart&&d.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[" ",S.timeStart,S.timeEnd?` - ${S.timeEnd}`:""]}),d.jsxs("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:text-teal-700 font-medium",children:[d.jsx(En,{size:10}),"Open in Google Maps"]})]})})},S.id||S.displayIndex)})]})}),d.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-zinc-950/30 via-transparent to-transparent z-[500]"})]}),d.jsx(im,{isOpen:i,onClose:()=>o(!1),type:"activities",data:{activities:e}})]})}function Mx({isOpen:e,onClose:t,onConfirm:i,activityName:o}){return e?d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[4000] p-3 md:p-4",children:d.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-sm",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-zinc-700",children:[d.jsxs("h2",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(Xo,{size:18,className:"text-red-400"}),"Delete Activity"]}),d.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-700 rounded-lg transition-colors","aria-label":"Close dialog",children:d.jsx(Ts,{size:18,className:"text-zinc-400"})})]}),d.jsxs("div",{className:"p-3 md:p-4",children:[d.jsx("p",{className:"text-sm md:text-base text-zinc-300 mb-2",children:"Are you sure you want to delete this activity?"}),d.jsx("p",{className:"text-sm md:text-base text-white font-medium bg-zinc-800 px-3 py-2 rounded-lg border border-zinc-700 truncate",children:o}),d.jsx("p",{className:"text-xs md:text-sm text-zinc-500 mt-3",children:"This action cannot be undone."})]}),d.jsxs("div",{className:"flex gap-2 md:gap-3 p-3 md:p-4 border-t border-zinc-700",children:[d.jsx("button",{onClick:t,className:"flex-1 py-2 md:py-2.5 text-sm md:text-base bg-zinc-700 hover:bg-zinc-600 text-white font-medium rounded-lg transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:i,className:"flex-1 py-2 md:py-2.5 text-sm md:text-base bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[d.jsx(Bi,{size:16}),"Delete"]})]})]})}):null}const bh={high:"border-l-amber-500 bg-amber-950/20",medium:"border-l-teal-500 bg-teal-950/10",low:"border-l-zinc-600 bg-zinc-900/20"},Ax={Sports:"bg-blue-900/40 text-blue-300 border-blue-700/50",Food:"bg-orange-900/40 text-orange-300 border-orange-700/50",Sightseeing:"bg-purple-900/40 text-purple-300 border-purple-700/50",Shopping:"bg-pink-900/40 text-pink-300 border-pink-700/50",Logistics:"bg-zinc-800/60 text-zinc-300 border-zinc-600/50",Relaxation:"bg-cyan-900/40 text-cyan-300 border-cyan-700/50",Family:"bg-rose-900/40 text-rose-300 border-rose-700/50",Rest:"bg-indigo-900/40 text-indigo-300 border-indigo-700/50",Entertainment:"bg-violet-900/40 text-violet-300 border-violet-700/50",Cultural:"bg-red-900/40 text-red-300 border-red-700/50",Personal:"bg-slate-900/40 text-slate-300 border-slate-600/50",Transport:"bg-sky-900/40 text-sky-300 border-sky-700/50",Outdoor:"bg-green-900/40 text-green-300 border-green-700/50",Nightlife:"bg-fuchsia-900/40 text-fuchsia-300 border-fuchsia-700/50"},jx="bg-zinc-800 text-zinc-300 border-zinc-600/50",Ox=2e3,Ix=e=>{var i,o;const t=encodeURIComponent(e.location||e.name);return(i=e.coordinates)!=null&&i.lat&&((o=e.coordinates)!=null&&o.lng)?`https://www.google.com/maps/search/?api=1&query=${t}&center=${e.coordinates.lat},${e.coordinates.lng}`:`https://www.google.com/maps/search/?api=1&query=${t}`},Dx=e=>{const t=e===1?100:e===2?200:300,i=e>=3;return{containerHeight:t,needsScrolling:i}},Rx=e=>bh[e]||bh.medium,Ch=e=>Ax[e]||jx,Fx=(e,t)=>t.includes(e.id),Bx=z.memo(function({items:t,isExpanded:i,onToggle:o,manualActivityIds:s=[],onRemoveActivity:l,onEditActivity:c}){var E;const[f,p]=z.useState({isOpen:!1,activity:null}),[g,S]=z.useState(null);if(!t||t.length===0)return null;const x=z.useCallback(async(T,V)=>{if(T.stopPropagation(),!V.location)return;const[,v]=await navigator.clipboard.writeText(V.location).then(()=>[void 0,null],y=>[null,y instanceof Error?y:new Error(String(y))]);if(v){console.error("Failed to copy location:",v);return}S(V.id),setTimeout(()=>S(null),Ox)},[]),k=z.useCallback((T,V)=>{T.stopPropagation(),p({isOpen:!0,activity:V})},[]),C=z.useCallback(()=>{f.activity&&l&&l(f.activity.id),p({isOpen:!1,activity:null})},[f.activity,l]);return d.jsxs("div",{className:"border border-teal-900/50 rounded-lg overflow-hidden bg-teal-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-4 py-3.5 md:py-3 hover:bg-teal-900/20 transition flex items-center justify-between bg-teal-900/30 min-h-[48px]",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(At,{className:"h-5 w-5 text-teal-400"}),d.jsxs("span",{className:"text-sm md:text-base font-medium text-teal-200",children:[" Activities ",d.jsxs("span",{className:"text-teal-500",children:["(",t.length,")"]})]})]}),d.jsx("div",{className:"p-1",children:i?d.jsx(Vi,{className:"h-5 w-5 text-teal-400"}):d.jsx(Ki,{className:"h-5 w-5 text-teal-400"})})]}),i&&(()=>{const{containerHeight:T,needsScrolling:V}=Dx(t.length);return d.jsx("div",{className:"p-3 md:p-4 bg-teal-950/10 slide-down",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4",children:[d.jsx("div",{className:`w-full md:w-[60%] min-w-0 space-y-2.5 md:space-y-2 md:pr-2 ${V?"overflow-y-auto":""}`,style:V?{maxHeight:"350px"}:{},children:t.map((v,y)=>{const w=Fx(v,s),j=Rx(v.priority),I=Ix(v),O=y+1;return d.jsxs("div",{className:Te("rounded-lg relative","md:px-4 md:py-3 md:border-l-3","border border-teal-800/50 md:border-0 md:border-l-3",j,w&&"ring-1 ring-blue-700/50"),children:[d.jsxs("div",{className:"md:hidden",children:[d.jsxs("div",{className:"flex items-center gap-2.5 p-3 pb-2.5 border-b border-teal-800/30",children:[d.jsx("span",{className:"text-sm font-bold bg-teal-600 text-white w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0",children:O}),v.icon&&d.jsx("span",{className:"text-xl",children:v.icon}),d.jsx("span",{className:"flex-1 font-semibold text-teal-100 text-sm truncate",children:v.name}),(v.timeStart||v.time)&&d.jsx("span",{className:"text-xs text-teal-300 bg-teal-900/60 px-2.5 py-1 rounded-full flex-shrink-0",children:v.timeStart||v.time})]}),d.jsxs("div",{className:"p-3 pt-2.5 space-y-2.5",children:[v.location&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(At,{className:"h-4 w-4 text-teal-400 flex-shrink-0"}),d.jsx("span",{className:"text-xs text-teal-300 flex-1 truncate",children:v.location}),d.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"p-2 -m-1 text-teal-500 flex items-center justify-center flex-shrink-0 min-w-[44px] min-h-[44px]",onClick:M=>M.stopPropagation(),children:d.jsx(En,{size:18})})]}),d.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[v.category&&d.jsx("span",{className:Te("text-[11px] px-2.5 py-1 rounded-full border",Ch(v.category)),children:v.category}),v.estimatedCost&&d.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full bg-amber-900/40 text-amber-300 border border-amber-700/50",children:[" ",v.estimatedCost.toLocaleString()," ",v.currency]}),w&&d.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-full bg-blue-900/40 text-blue-300 border border-blue-700/50",children:" Manual"})]})]}),d.jsxs("div",{className:"flex items-center justify-end gap-1 px-2 pb-2",children:[d.jsx("button",{onClick:M=>x(M,v),className:Te("p-2.5 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",g===v.id?"text-emerald-400 bg-emerald-900/30":"text-teal-400 bg-teal-900/30 active:bg-teal-800/50"),children:g===v.id?d.jsx(Wr,{size:20}):d.jsx(Vr,{size:20})}),c&&d.jsx("button",{onClick:M=>{M.stopPropagation(),c(v)},className:"p-2.5 rounded-lg bg-amber-900/40 text-amber-300 active:bg-amber-800/50 min-w-[44px] min-h-[44px] flex items-center justify-center",children:d.jsx(vh,{size:20})}),l&&d.jsx("button",{onClick:M=>k(M,v),className:"p-2.5 rounded-lg bg-red-900/40 text-red-300 active:bg-red-800/50 min-w-[44px] min-h-[44px] flex items-center justify-center",children:d.jsx(Bi,{size:20})})]})]}),d.jsxs("div",{className:"hidden md:block",children:[d.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 z-10",children:[c&&d.jsx("button",{onClick:M=>{M.stopPropagation(),c(v)},className:"p-1.5 rounded-md bg-amber-900/50 hover:bg-amber-700/50 text-amber-300 transition-colors",title:"Edit activity",children:d.jsx(vh,{size:14})}),l&&d.jsx("button",{onClick:M=>k(M,v),className:"p-1.5 rounded-md bg-red-900/50 hover:bg-red-700/50 text-red-300 transition-colors",title:"Delete activity",children:d.jsx(Bi,{size:14})})]}),d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.jsx("span",{className:"text-sm font-bold bg-teal-700/60 text-teal-100 w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0",children:O}),v.icon&&d.jsx("span",{className:"text-lg",children:v.icon}),d.jsx("span",{className:"text-base font-medium text-teal-100 truncate",children:v.name})]}),(v.timeStart||v.time)&&d.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-teal-900/40 border border-teal-700/50 text-sm text-teal-200 flex-shrink-0",children:[d.jsx(Ri,{className:"h-3.5 w-3.5 text-teal-400"}),d.jsxs("span",{children:[v.timeStart||v.time,v.timeEnd&&`  ${v.timeEnd}`]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[v.category&&d.jsx("span",{className:Te("text-sm px-2.5 py-1 rounded-full border",Ch(v.category)),children:v.category}),w&&d.jsx("span",{className:"text-sm px-2.5 py-1 rounded-full bg-blue-900/40 text-blue-300 border border-blue-700/50",children:" Manual"}),v.estimatedCost&&d.jsxs("span",{className:"flex items-center gap-1 text-sm px-2.5 py-1 rounded-full bg-amber-900/40 text-amber-300 border border-amber-700/50",children:[d.jsx(Wp,{className:"h-3.5 w-3.5"}),v.estimatedCost.toLocaleString()," ",v.currency]})]}),v.location&&d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx(At,{className:"h-4 w-4 text-teal-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-teal-300 truncate",children:v.location}),d.jsx("button",{onClick:M=>x(M,v),className:Te("p-1 rounded transition-colors flex-shrink-0",g===v.id?"text-emerald-400":"text-teal-500 hover:text-teal-300 hover:bg-teal-800/50"),title:g===v.id?"Copied!":"Copy location",children:g===v.id?d.jsx(Wr,{size:14}):d.jsx(Vr,{size:14})}),d.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-teal-500 hover:text-teal-300 transition-colors flex-shrink-0",onClick:M=>M.stopPropagation(),children:d.jsx(En,{size:14})})]})]})]},v.id||y)})}),d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",style:{height:`${T}px`},children:d.jsx(zx,{activities:t,height:T})})]})})})(),d.jsx(Mx,{isOpen:f.isOpen,onClose:()=>p({isOpen:!1,activity:null}),onConfirm:C,activityName:((E=f.activity)==null?void 0:E.name)||""})]})});function Zx(e){return e.toLocaleString()}function Ux(e){return e.join("/")}function Hx(e,t){return e>0&&t&&t.length>0}function Wx(e){return e&&e.length>0}function Vx(e,t){return e&&t>0}function Kx({day:e}){if(!e.metadata)return null;const{hasTravel:t,locationFlags:i,estimatedCost:o,costCurrencies:s,unbootedCount:l,hasUnbooked:c}=e.metadata;return d.jsxs("div",{className:"flex items-center gap-4 flex-wrap mt-2",children:[t&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-blue-800/50 border border-blue-600/60",children:[d.jsx(Fi,{className:"h-5 w-5 text-blue-300"}),d.jsx("span",{className:"text-base font-medium text-blue-200",children:"Travel Day"})]}),Wx(i)&&d.jsx("div",{className:"flex items-center gap-3",children:i.map((f,p)=>d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-purple-800/40 border border-purple-600/50",children:[d.jsx(At,{className:"h-5 w-5 text-purple-300"}),d.jsx("span",{className:"text-base font-medium text-purple-200",children:f})]},p))}),Hx(o,s)&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-amber-800/50 border border-amber-600/60",children:[d.jsx(Wp,{className:"h-5 w-5 text-amber-300"}),d.jsxs("span",{className:"text-base font-medium text-amber-200",children:[Zx(o),d.jsx("span",{className:"ml-1 text-amber-300",children:Ux(s)})]})]}),Vx(c,l)&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-red-800/50 border border-red-600/60",children:[d.jsx(bs,{className:"h-5 w-5 text-red-300"}),d.jsxs("span",{className:"text-base font-medium text-red-200",children:[l," to book"]})]})]})}const sm=[{value:"Food",icon:""},{value:"Shopping",icon:""},{value:"Sightseeing",icon:""},{value:"Entertainment",icon:""},{value:"Cultural",icon:""},{value:"Personal",icon:""},{value:"Transport",icon:""},{value:"Outdoor",icon:""},{value:"Nightlife",icon:""},{value:"Relaxation",icon:""}],$x=["high","medium","low"],Gx=["USD","PHP","JPY"],nl={name:"",timeStart:"",timeEnd:"",location:"",category:"Sightseeing",icon:"",priority:"medium",notes:"",estimatedCost:"",currency:"JPY"};function Jx(e){const t=sm.find(i=>i.value===e);return(t==null?void 0:t.icon)||null}function Yx(e,t){return e&&t?`${e} - ${t}`:e||""}function qx(){return`manual-${Date.now()}`}function Qx(e,t){return{id:t||qx(),name:e.name,timeStart:e.timeStart,timeEnd:e.timeEnd,location:e.location,category:e.category,icon:e.icon,priority:e.priority,notes:e.notes,estimatedCost:e.estimatedCost?parseFloat(e.estimatedCost):null,currency:e.currency,time:Yx(e.timeStart,e.timeEnd)}}function Xx(e){return{name:e.name||"",timeStart:e.timeStart||"",timeEnd:e.timeEnd||"",location:e.location||"",category:e.category||"Sightseeing",icon:e.icon||"",priority:e.priority||"medium",notes:e.notes||"",estimatedCost:e.estimatedCost?String(e.estimatedCost):"",currency:e.currency||"JPY"}}function e1(e){return e.charAt(0).toUpperCase()+e.slice(1)}function t1({isOpen:e,onClose:t,onAdd:i,onUpdate:o,date:s,editingActivity:l=null}){const[c,f]=z.useState(nl),p=!!l;z.useEffect(()=>{f(l?Xx(l):nl)},[l,e]);const g=x=>{const{name:k,value:C}=x.target;f(E=>{const T={...E,[k]:C};if(k==="category"){const V=Jx(C);V&&(T.icon=V)}return T})},S=x=>{x.preventDefault();const k=Qx(c,p?l.id:null);p&&o?o(k,s):i(k,s),f(nl),t()};return e?d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[3000] p-2 md:p-4",children:d.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-md max-h-[95vh] md:max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-zinc-700 sticky top-0 bg-zinc-900 z-10",children:[d.jsx("h2",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:p?d.jsxs(d.Fragment,{children:[d.jsx(_h,{size:18,className:"text-amber-400"}),"Edit Activity"]}):d.jsxs(d.Fragment,{children:[d.jsx(Yl,{size:18,className:"text-blue-400"}),"Add Activity"]})}),d.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-700 rounded-lg transition-colors",children:d.jsx(Ts,{size:20,className:"text-zinc-400"})})]}),d.jsxs("form",{onSubmit:S,className:"p-3 md:p-4 space-y-3 md:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Activity Name *"}),d.jsx("input",{type:"text",name:"name",value:c.name,onChange:g,required:!0,placeholder:"e.g., Visit Senso-ji Temple",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Start Time"}),d.jsx("input",{type:"text",name:"timeStart",value:c.timeStart,onChange:g,placeholder:"9:00 AM",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"End Time"}),d.jsx("input",{type:"text",name:"timeEnd",value:c.timeEnd,onChange:g,placeholder:"11:00 AM",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Location"}),d.jsx("input",{type:"text",name:"location",value:c.location,onChange:g,placeholder:"e.g., Asakusa, Tokyo",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Category"}),d.jsx("select",{name:"category",value:c.category,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:sm.map(x=>d.jsxs("option",{value:x.value,children:[x.icon," ",x.value]},x.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Priority"}),d.jsx("select",{name:"priority",value:c.priority,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:$x.map(x=>d.jsx("option",{value:x,children:e1(x)},x))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Icon (emoji)"}),d.jsx("input",{type:"text",name:"icon",value:c.icon,onChange:g,placeholder:"",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Estimated Cost"}),d.jsx("input",{type:"number",name:"estimatedCost",value:c.estimatedCost,onChange:g,placeholder:"0",min:"0",step:"0.01",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Currency"}),d.jsx("select",{name:"currency",value:c.currency,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:Gx.map(x=>d.jsx("option",{value:x,children:x},x))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Notes / Tips"}),d.jsx("textarea",{name:"notes",value:c.notes,onChange:g,placeholder:"Any additional details...",rows:3,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500 resize-none"})]}),d.jsx("button",{type:"submit",className:`w-full py-2 md:py-2.5 text-sm md:text-base ${p?"bg-amber-600 hover:bg-amber-500":"bg-blue-600 hover:bg-blue-500"} text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2`,children:p?d.jsxs(d.Fragment,{children:[d.jsx(_h,{size:16}),"Save Changes"]}):d.jsxs(d.Fragment,{children:[d.jsx(Yl,{size:16}),"Add Activity"]})})]})]})}):null}const n1=[],dn={travel:"travel",shelter:"shelter",meals:"meals",activities:"activities"},Fo={US:{flag:"",label:"US",bg:"bg-blue-900/40",border:"border-blue-700/50",text:"text-blue-300"},PH:{flag:"",label:"PH",bg:"bg-yellow-900/40",border:"border-yellow-700/50",text:"text-yellow-300"},JP:{flag:"",label:"JP",bg:"bg-red-900/40",border:"border-red-700/50",text:"text-red-300"}},i1=2e3;function am(e,t){return t==="US"||e!=null&&e.includes("ET")||e!=null&&e.includes("PT")||e!=null&&e.includes("MT")?Fo.US:t==="JP"||e!=null&&e.includes("JST")?Fo.JP:t==="PH"||e!=null&&e.includes("PHT")?Fo.PH:Fo.US}function r1(e,t){return`${e}:${t}`}function o1(e,t,i){return[...(e||[]).filter(s=>!i.includes(s.id)),...t]}function s1(e){return e.map(t=>t.id)}function a1(e){switch(e){case"BOOKED":return"";case"TO_BOOK":return"";default:return""}}function l1(e){var o,s,l,c;const t=[],i=am(e.timezone,e.tz);if(t.push(` ${e.dateDisplay} ${i.flag}`),t.push(` ${e.summary}`),e.isInFlight&&t.push(" In Flight (crossing date line)"),t.push(""),e.metadata){const f=e.metadata;f.hasTravel&&t.push(" Travel Day"),((o=f.locationFlags)==null?void 0:o.length)>0&&t.push(` Locations: ${f.locationFlags.join(", ")}`),f.estimatedCost>0&&t.push(` Est. Cost: ${f.estimatedCost.toLocaleString()} ${(s=f.costCurrencies)==null?void 0:s.join("/")}`),f.hasUnbooked&&t.push(` ${f.unbootedCount} item(s) to book`),(f.hasTravel||f.estimatedCost>0||f.hasUnbooked)&&t.push("")}return((l=e.travel)==null?void 0:l.length)>0&&(t.push(" TRAVEL:"),e.travel.forEach(f=>{const p=a1(f.status);if(t.push(`  ${p} ${f.route||f.location||"Transit"}`),f.timeStart){const g=f.timeEnd?`${f.timeStart}  ${f.timeEnd}`:f.timeStart;t.push(`      ${g}`)}f.details&&t.push(`     ${f.details}`),f.flightNumber&&t.push(`     Flight: ${f.flightNumber} (${f.airline||""})`)}),t.push("")),e.shelter&&(t.push(" ACCOMMODATION:"),t.push(`  ${e.shelter.name||"TBD"}`),e.shelter.address&&t.push(`   ${e.shelter.address}`),e.shelter.notes&&t.push(`   ${e.shelter.notes}`),t.push("")),((c=e.activities)==null?void 0:c.length)>0&&(t.push(" ACTIVITIES:"),e.activities.forEach(f=>{if(t.push(`   ${f.details||f.name||"Activity"}`),f.timeStart){const p=f.timeEnd?`${f.timeStart} - ${f.timeEnd}`:f.timeStart;t.push(`     ${p}`)}}),t.push("")),t.join(`
`)}const u1=z.memo(function({day:t,isExpanded:i,onToggle:o,expandedSections:s,onToggleSection:l,showBackupPlans:c,manualActivities:f,deletedActivityIds:p,onAddActivity:g,onRemoveActivity:S,onUpdateActivity:x,todayDateKey:k}){var ie,J;const[C,E]=z.useState(!1),[T,V]=z.useState(!1),[v,y]=z.useState(null),w=z.useMemo(()=>o1(t.activities,f,p),[t.activities,f,p]),j=z.useMemo(()=>f.length>0?s1(f):n1,[f]),I=z.useMemo(()=>am(t.timezone,t.tz),[t.timezone,t.tz]),O=t.dateKey===k,M=z.useCallback(Y=>{const xe=r1(t.dateKey,Y);return s.has(xe)},[t.dateKey,s]),B=z.useCallback(async Y=>{Y.stopPropagation();const xe=l1(t),[,N]=await navigator.clipboard.writeText(xe).then(()=>[void 0,null],R=>[null,R instanceof Error?R:new Error(String(R))]);if(N){console.error("Failed to copy:",N);return}E(!0),setTimeout(()=>E(!1),i1)},[t]),Q=z.useCallback(Y=>{g==null||g(Y,t.dateKey)},[g,t.dateKey]),W=z.useCallback(Y=>{x==null||x(Y,t.dateKey)},[x,t.dateKey]),se=z.useCallback(Y=>{S==null||S(Y,t.dateKey)},[S,t.dateKey]),ae=z.useCallback(Y=>{y(Y),V(!0)},[]),Be=z.useCallback(()=>{V(!1),y(null)},[]);return d.jsxs("div",{id:`day-${t.dateKey}`,className:Te("rounded-xl md:rounded-2xl border",O&&"ring-2 ring-blue-500 ring-offset-2 md:ring-offset-4 ring-offset-zinc-950",(ie=t.metadata)!=null&&ie.hasUnbooked?"border-red-600/80 bg-zinc-900 shadow-lg shadow-red-900/30":"border-zinc-700 bg-zinc-900"),children:[d.jsxs("div",{onClick:o,className:"flex flex-col md:flex-row cursor-pointer hover:bg-zinc-800/30 transition md:min-h-[400px]",children:[d.jsxs("div",{className:"w-full md:w-[60%] p-4 md:p-8 flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-0",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[i?d.jsx(Vi,{className:"h-6 w-6 md:h-9 md:w-9 text-zinc-300"}):d.jsx(Ki,{className:"h-6 w-6 md:h-9 md:w-9 text-zinc-300"}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-wrap",children:[d.jsx("span",{className:"font-bold text-lg md:text-2xl text-white",children:t.dateDisplay}),O&&d.jsx("span",{className:"px-2 py-1 md:px-4 md:py-2 text-xs md:text-base font-bold bg-blue-500 text-white rounded-full",children:"TODAY"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx("button",{onClick:B,className:Te("p-2 md:p-3 rounded-lg border transition-all",C?"bg-emerald-800/60 border-emerald-500/60 text-emerald-300":"bg-zinc-800 border-zinc-600 text-zinc-300 hover:bg-zinc-700 hover:text-white"),title:C?"Copied!":"Copy day itinerary",children:C?d.jsx(Wr,{className:"h-4 w-4 md:h-5 md:w-5"}):d.jsx(Vr,{className:"h-4 w-4 md:h-5 md:w-5"})}),d.jsxs("div",{className:Te("flex items-center gap-1.5 md:gap-2 px-2 py-1 md:px-4 md:py-2 rounded-lg border text-xs md:text-base font-semibold",I.bg,I.border,I.text),children:[d.jsx("span",{className:"text-sm md:text-lg",children:I.flag}),d.jsx("span",{className:"hidden sm:inline",children:t.timezone})]})]})]}),d.jsxs("div",{className:"text-sm md:text-lg text-zinc-300 my-3 md:my-0",children:[t.summary,t.isInFlight&&d.jsx("span",{className:"ml-2 text-sky-400 font-medium",children:" In Flight"})]}),d.jsx(Kx,{day:t})]}),((J=t.shelter)==null?void 0:J.coordinates)&&d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",children:d.jsx(rm,{coordinates:t.shelter.coordinates,name:t.shelter.name,address:t.shelter.address,type:t.shelter.type})})]}),i&&d.jsxs("div",{className:"border-t border-zinc-700 p-3 md:p-5 space-y-3 md:space-y-5 slide-down",children:[d.jsx(Qy,{items:t.travel,isExpanded:M(dn.travel),onToggle:()=>l(dn.travel),showBackupPlans:c}),t.shelter&&d.jsx(Sx,{shelter:t.shelter,isExpanded:M(dn.shelter),onToggle:()=>l(dn.shelter)}),d.jsx(kx,{items:t.meals,isExpanded:M(dn.meals),onToggle:()=>l(dn.meals)}),d.jsx(Bx,{items:w,isExpanded:M(dn.activities),onToggle:()=>l(dn.activities),manualActivityIds:j,onRemoveActivity:se,onEditActivity:ae}),d.jsxs("button",{onClick:()=>V(!0),className:"w-full py-2 px-3 md:px-4 border-2 border-dashed border-zinc-700 hover:border-blue-500 rounded-xl text-sm md:text-base text-zinc-400 hover:text-blue-400 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Yl,{size:16,className:"md:w-[18px] md:h-[18px]"}),"Add Activity"]})]}),d.jsx(t1,{isOpen:T,onClose:Be,onAdd:Q,onUpdate:W,date:t.dateKey,editingActivity:v})]})}),gn=1,Ei=2,Li=3,c1=".json";function d1(e){return!e||typeof e!="object"?[null,new Error("Invalid JSON structure")]:!e.trips||!Array.isArray(e.trips)?[null,new Error('JSON must contain a "trips" array')]:[!0,null]}function h1(e){return(e==null?void 0:e.endsWith(c1))??!1}function f1(e){var t;return((t=e==null?void 0:e.trips)==null?void 0:t.length)??0}function p1(e,t){const i="border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all";return e?Te(i,"border-blue-500 bg-blue-500/10"):t?Te(i,"border-emerald-500 bg-emerald-500/10"):Te(i,"border-zinc-700 hover:border-zinc-500 hover:bg-zinc-800/50")}function m1(e){switch(e){case gn:return d.jsx(ql,{className:"h-8 w-8 text-white"});case Ei:return d.jsx(Ju,{className:"h-8 w-8 text-white animate-spin"});case Li:return d.jsx(Cs,{className:"h-8 w-8 text-white"});default:return d.jsx(ql,{className:"h-8 w-8 text-white"})}}function g1(e){switch(e){case gn:return"Upload Itinerary ";case Ei:return"Setting Up...";case Li:return"All Set! ";default:return"Upload Itinerary "}}function v1(e){switch(e){case gn:return"Import your travel itinerary JSON file";case Ei:return"Importing your trip data";case Li:return"Your itinerary is ready to go";default:return"Import your travel itinerary JSON file"}}function _1({isDialogOpen:e,onConfirmReset:t,onCancelReset:i,isResetInProgress:o}){return e?d.jsx("div",{className:"fixed inset-0 z-[6000] flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm",children:d.jsx("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl max-w-sm w-full overflow-hidden",children:d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:"p-3 bg-red-500/20 rounded-full",children:d.jsx(Bi,{className:"h-8 w-8 text-red-400"})})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Reset All Data?"}),d.jsx("p",{className:"text-zinc-400 text-sm",children:"This will permanently delete all your itinerary data from this browser. You'll need to upload your JSON file again."})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:i,disabled:o,className:"flex-1 py-2.5 px-4 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 font-medium rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),d.jsx("button",{onClick:t,disabled:o,className:"flex-1 py-2.5 px-4 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Ju,{className:"h-4 w-4 animate-spin"}),"Resetting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Bi,{className:"h-4 w-4"}),"Reset"]})})]})]})})}):null}function y1({onComplete:e,onImportJson:t,onReset:i}){const[o,s]=z.useState(gn),[l,c]=z.useState(null),[f,p]=z.useState(null),[g,S]=z.useState(null),[x,k]=z.useState(null),[C,E]=z.useState(!1),[T,V]=z.useState(!1),[v,y]=z.useState(!1),w=z.useRef(null),j=async J=>{if(c(null),!J)return;if(!h1(J.name)){c("Please upload a JSON file");return}const[Y,xe]=await J.text().then(Z=>[Z,null],Z=>[null,Z instanceof Error?Z:new Error(String(Z))]);if(xe){c("Failed to read file");return}const[N,R]=(()=>{try{return[JSON.parse(Y),null]}catch(Z){return[null,Z instanceof Error?Z:new Error("Invalid JSON")]}})();if(R){c("Invalid JSON format. Please check your file.");return}const[,A]=d1(N);if(A){c(A.message);return}S(N),k(J.name)},I=J=>{var xe;const Y=(xe=J.target.files)==null?void 0:xe[0];Y&&j(Y)},O=J=>{J.preventDefault(),J.stopPropagation(),E(!0)},M=J=>{J.preventDefault(),J.stopPropagation()},B=J=>{J.preventDefault(),J.stopPropagation(),!J.currentTarget.contains(J.relatedTarget)&&E(!1)},Q=J=>{var xe;J.preventDefault(),J.stopPropagation(),E(!1);const Y=(xe=J.dataTransfer.files)==null?void 0:xe[0];Y&&j(Y)},W=async()=>{if(!g){c("Please upload a JSON file first");return}s(Ei),c(null);const[J,Y]=await t(g);if(Y){c(Y.message),s(gn);return}p(J),s(Li)},se=async()=>{if(!i)return;y(!0);const[,J]=await i();if(J){c("Failed to reset: "+J.message),y(!1);return}s(gn),S(null),k(null),p(null),c(null),V(!1),y(!1)},ae=g!==null,Be=f1(g),ie=p1(C,ae);return d.jsxs("div",{className:"fixed inset-0 z-[5000] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:[d.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[d.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 p-6 text-center overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-white/10 rounded-full blur-xl animate-pulse"}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse delay-300"}),d.jsx(Fi,{className:"absolute top-4 right-8 h-6 w-6 text-white/20 animate-bounce"}),d.jsx(At,{className:"absolute bottom-4 left-8 h-5 w-5 text-white/20 animate-bounce delay-150"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:m1(o)})}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:g1(o)}),d.jsx("p",{className:"text-white/80 text-sm",children:v1(o)})]})]}),d.jsxs("div",{className:"p-6",children:[o===gn&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-zinc-300 text-sm leading-relaxed",children:"Upload your travel itinerary JSON file to get started. Your data stays private and is stored only in your browser."}),d.jsxs("div",{onClick:()=>{var J;return(J=w.current)==null?void 0:J.click()},onDragEnter:O,onDragOver:M,onDragLeave:B,onDrop:Q,className:ie,children:[d.jsx("input",{ref:w,type:"file",accept:".json",onChange:I,className:"hidden"}),ae?d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-emerald-500/20 rounded-full",children:d.jsx(h_,{className:"h-6 w-6 text-emerald-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-emerald-400 font-medium",children:x}),d.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[Be," trips found  Click to change"]})]})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-zinc-800 rounded-full",children:d.jsx(f_,{className:"h-6 w-6 text-zinc-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-zinc-300 font-medium",children:"Drop your JSON file here"}),d.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"or click to browse"})]})]})]}),d.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg shrink-0",children:d.jsx(gh,{className:"h-4 w-4 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-zinc-200",children:"Private & Local"}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Data never leaves your device"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg shrink-0",children:d.jsx(Hp,{className:"h-4 w-4 text-emerald-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-zinc-200",children:"Add Activities"}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Customize your plans anytime"})]})]})]}),l&&d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:[d.jsx(bs,{className:"h-4 w-4 text-red-400 shrink-0"}),d.jsx("span",{className:"text-sm text-red-300",children:l})]}),d.jsxs("button",{onClick:W,disabled:!ae,className:Te("w-full py-3 px-4 font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2",ae?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white shadow-lg shadow-blue-500/25":"bg-zinc-800 text-zinc-500 cursor-not-allowed"),children:[d.jsx(ql,{className:"h-4 w-4"}),"Import Itinerary"]})]}),o===Ei&&d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-zinc-700 border-t-blue-500 rounded-full animate-spin"}),d.jsx(gh,{className:"absolute inset-0 m-auto h-6 w-6 text-zinc-400"})]})}),d.jsxs("div",{className:"text-center space-y-1",children:[d.jsx("p",{className:"text-zinc-300 text-sm",children:"Importing your trip data..."}),d.jsx("p",{className:"text-zinc-500 text-xs",children:"Setting up local database"})]}),d.jsx("div",{className:"flex justify-center gap-1",children:[0,1,2].map(J=>d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:`${J*150}ms`}},J))})]}),o===Li&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-500/20 rounded-full mb-3",children:d.jsx(Cs,{className:"h-8 w-8 text-emerald-400"})}),d.jsx("p",{className:"text-zinc-300 text-sm",children:"Your itinerary has been set up successfully!"})]}),f&&d.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 grid grid-cols-3 gap-3 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-blue-400",children:f.trips||0}),d.jsx("div",{className:"text-xs text-zinc-500",children:"Trips"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f.segments||0}),d.jsx("div",{className:"text-xs text-zinc-500",children:"Segments"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:f.days||0}),d.jsx("div",{className:"text-xs text-zinc-500",children:"Days"})]})]}),d.jsxs("button",{onClick:e,className:"w-full py-3 px-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/25",children:[d.jsx(Fi,{className:"h-4 w-4"}),"Start Exploring"]})]})]}),d.jsxs("div",{className:"px-6 pb-4 space-y-3",children:[d.jsx("div",{className:"flex justify-center gap-2",children:[gn,Ei,Li].map(J=>d.jsx("div",{className:Te("w-2 h-2 rounded-full transition-all duration-300",o>=J?"bg-blue-500 w-4":"bg-zinc-700")},J))}),i&&d.jsxs("button",{onClick:()=>V(!0),className:"w-full py-2 px-3 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[d.jsx(Bi,{className:"h-3 w-3"}),"Reset All Data"]})]})]}),d.jsx(_1,{isDialogOpen:T,onConfirmReset:se,onCancelReset:()=>V(!1),isResetInProgress:v})]})}const x1={USD:1,PHP:.018,JPY:.0067},w1="manual-",Th=[];function Bo(e,t){const i=x1[t]||1;return e*i}function S1(e){return(e==null?void 0:e.startsWith(w1))??!1}function k1(e){return`shelter-${e.name}-${e.estimatedCost}`}function P1(e,t){return e.id||`activity-${t}-${e.name}`}function Nh(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function b1(e){if(e.length===0)return"";const t=e[0],i=e[e.length-1];return`${Nh(t.dateKey)}  ${Nh(i.dateKey)}`}function C1(e,t){if(!t.trim())return e;const i=t.toLowerCase();return e.filter(o=>o.dateDisplay.toLowerCase().includes(i)||o.summary.toLowerCase().includes(i)||o.timezone.toLowerCase().includes(i))}function T1(e){return e>100?"bg-red-500":e>80?"bg-amber-500":"bg-emerald-500"}function N1(e){return e>=0?"text-emerald-400":"text-red-400"}function E1(e){return e>100?"text-red-400":e>80?"text-amber-400":"text-zinc-300"}function L1(){const[e,t]=z.useState(new Set),[i,o]=z.useState(new Set),[s,l]=z.useState(!1),[c,f]=z.useState(""),{isLoading:p,isReady:g,needsSetup:S,error:x,itineraryData:k,manualActivities:C,deletedActivities:E,addActivity:T,updateActivity:V,removeActivity:v,deleteOriginalActivity:y,importJsonData:w,completeSetup:j,resetDatabase:I}=Sy(),{parsedItineraryDays:O,tripBudgetConfig:M,tripDisplayName:B}=z.useMemo(()=>{if(!g||!k)return{parsedItineraryDays:X_,tripBudgetConfig:M_,tripDisplayName:A_};const R=B_(k);return{parsedItineraryDays:ey(k),tripBudgetConfig:R.budget,tripDisplayName:R.tripName}},[g,k]),Q=C||{},W=z.useMemo(()=>new Date().toISOString().split("T")[0],[]);z.useEffect(()=>{if(!g)return;O.some(A=>A.dateKey===W)&&(t(new Set([W])),setTimeout(()=>{const A=document.getElementById(`day-${W}`);A&&A.scrollIntoView({behavior:"smooth",block:"start"})},100))},[g,O,W]);const se=z.useCallback(async(R,A)=>{const[,Z]=await T(A,R);Z&&console.error("Failed to add activity:",Z)},[T]),ae=z.useCallback(async(R,A)=>{const[,Z]=await V(A,R.id,R);Z&&console.error("Failed to update activity:",Z)},[V]),Be=z.useCallback(async(R,A)=>{if(S1(R)){const[,Z]=await v(A,R);Z&&console.error("Failed to remove activity:",Z)}else{const[,Z]=await y(A,R);Z&&console.error("Failed to remove activity:",Z)}},[v,y]),ie=z.useMemo(()=>{const R={};let A=0,Z=0;const X=new Set;O.forEach(K=>{var Ae,Ze,Vt,Qn,Xn;if((Ae=K.travel)==null||Ae.forEach(we=>{if(we.estimatedCost&&we.currency&&we.id&&!X.has(we.id)){X.add(we.id);const lt=we.currency;R[lt]=(R[lt]||0)+we.estimatedCost,Z+=Bo(we.estimatedCost,lt)}}),(Ze=K.shelter)!=null&&Ze.estimatedCost&&((Vt=K.shelter)!=null&&Vt.currency)){const we=!K.shelter.isMultiDayStay||K.shelter.dayOfStay===1,lt=k1(K.shelter);if(we&&!X.has(lt)){X.add(lt);const Kt=K.shelter.currency;R[Kt]=(R[Kt]||0)+K.shelter.estimatedCost,Z+=Bo(K.shelter.estimatedCost,Kt)}}(Qn=K.activities)==null||Qn.forEach(we=>{var lt;if(we.estimatedCost&&we.currency){const Kt=P1(we,K.dateKey);if((lt=E[K.dateKey])!=null&&lt.includes(Kt))return;if(!X.has(Kt)){X.add(Kt);const ei=we.currency;R[ei]=(R[ei]||0)+we.estimatedCost,Z+=Bo(we.estimatedCost,ei)}}}),(Xn=K.metadata)!=null&&Xn.unbootedCount&&(A+=K.metadata.unbootedCount)}),Object.entries(Q).forEach(([K,Ae])=>{Ae.forEach(Ze=>{if(Ze.estimatedCost&&Ze.currency){const Vt=Ze.currency;R[Vt]=(R[Vt]||0)+Ze.estimatedCost,Z+=Bo(Ze.estimatedCost,Vt)}})});const pe=M.total||3500,he=pe-Z,le=Z/pe*100;return{costByCurrency:R,totalUnbooked:A,totalUSD:Z,budget:pe,remaining:he,percentUsed:le}},[Q,E,O,M]),J=z.useMemo(()=>b1(O),[O]),Y=z.useMemo(()=>C1(O,c),[c,O]),xe=z.useCallback(R=>{t(A=>{const Z=new Set(A);return Z.has(R)?Z.delete(R):Z.add(R),Z})},[]),N=z.useCallback((R,A)=>{const Z=`${R}:${A}`;o(X=>{const pe=new Set(X);return pe.has(Z)?pe.delete(Z):pe.add(Z),pe})},[]);return p?d.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(Ju,{className:"h-8 w-8 text-blue-500 animate-spin"}),d.jsx("p",{className:"text-zinc-400",children:"Loading your itinerary..."}),d.jsx("button",{onClick:async()=>{if(confirm("Reset all data and start fresh?")){const[,R]=await Ns();if(R){console.error("Failed to clear data:",R);return}window.location.reload()}},className:"mt-4 px-4 py-2 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors",children:"Reset Data"})]})}):S?d.jsx(y1,{onComplete:j,onImportJson:w,onReset:I}):x?d.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[d.jsx(bs,{className:"h-8 w-8 text-red-500"}),d.jsx("p",{className:"text-red-400",children:"Failed to load itinerary data"}),d.jsx("p",{className:"text-zinc-500 text-sm",children:x}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-sm",children:"Retry"})]})}):d.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 p-4 md:p-6",children:[d.jsxs("div",{className:"max-w-6xl mx-auto mb-6 md:mb-8",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-white mb-1 md:mb-2",children:[" ",B]}),d.jsx("p",{className:"text-sm md:text-base text-zinc-400 mb-4 md:mb-6",children:J})]}),d.jsx("button",{onClick:async()=>{if(confirm("Reset all data? You will need to upload your JSON file again.")){const[,R]=await Ns();if(R){console.error("Failed to clear data:",R);return}window.location.reload()}},className:"px-3 py-1.5 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors border border-zinc-800 hover:border-red-500/30",children:"Reset"})]}),d.jsxs("div",{className:"bg-zinc-900/80 border border-zinc-700 rounded-xl md:rounded-2xl p-4 md:p-5 mb-4 md:mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(k_,{className:"h-4 w-4 md:h-5 md:w-5 text-emerald-400"}),d.jsx("span",{className:"text-sm md:text-base font-semibold text-zinc-200",children:"Trip Budget"})]}),d.jsxs("span",{className:"text-lg md:text-2xl font-bold text-white",children:["$",ie.budget.toLocaleString()," USD"]})]}),d.jsx("div",{className:"relative h-4 bg-zinc-800 rounded-full overflow-hidden mb-3",children:d.jsx("div",{className:Te("absolute left-0 top-0 h-full rounded-full transition-all",T1(ie.percentUsed)),style:{width:`${Math.min(ie.percentUsed,100)}%`}})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Spent"}),d.jsxs("div",{className:"text-base md:text-lg font-bold text-amber-400",children:["$",Math.round(ie.totalUSD).toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Remaining"}),d.jsxs("div",{className:Te("text-base md:text-lg font-bold",N1(ie.remaining)),children:["$",Math.round(ie.remaining).toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Used"}),d.jsxs("div",{className:Te("text-base md:text-lg font-bold",E1(ie.percentUsed)),children:[Math.round(ie.percentUsed),"%"]})]})]}),Object.keys(ie.costByCurrency).length>0&&d.jsxs("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-zinc-800",children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"By Currency"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(ie.costByCurrency).map(([R,A])=>d.jsxs("span",{className:"px-2 py-1 bg-zinc-800 rounded-lg text-xs md:text-sm",children:[d.jsxs("span",{className:"text-zinc-400",children:[R,":"]})," ",d.jsx("span",{className:"text-zinc-200 font-medium",children:A.toLocaleString()})]},R))})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-4 md:mb-6",children:[d.jsxs("div",{className:Te("border rounded-xl p-3 md:p-4",ie.totalUnbooked>0?"bg-red-950/40 border-red-800/60":"bg-zinc-900/60 border-zinc-800"),children:[d.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-xs md:text-sm mb-1",children:[d.jsx(bs,{className:"h-3 w-3 md:h-4 md:w-4"}),d.jsx("span",{children:"Items to Book"})]}),d.jsx("div",{className:Te("text-lg md:text-xl font-bold",ie.totalUnbooked>0?"text-red-400":"text-emerald-400"),children:ie.totalUnbooked>0?`${ie.totalUnbooked} items`:"All booked "})]}),d.jsxs("div",{className:"bg-zinc-900/60 border border-zinc-800 rounded-xl p-3 md:p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-xs md:text-sm mb-1",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Trip Duration"})]}),d.jsxs("div",{className:"text-lg md:text-xl font-bold text-sky-400",children:[O.length," days"]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 md:gap-4 mb-4 md:mb-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx(__,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 md:h-5 md:w-5 text-zinc-500"}),d.jsx("input",{type:"text",placeholder:"Search by date, location...",value:c,onChange:R=>f(R.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base rounded-lg bg-zinc-900 border border-zinc-800 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>l(!s),className:Te("flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-2 rounded-lg text-sm md:text-base font-medium transition",s?"bg-red-600 hover:bg-red-700 text-white":"bg-zinc-800 hover:bg-zinc-700 text-zinc-100"),children:[s?d.jsx(d_,{className:"h-4 w-4"}):d.jsx(c_,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:s?"Hide Backup Plans":"Show Backup Plans"}),d.jsx("span",{className:"sm:hidden",children:s?"Hide":"Backups"})]})}),d.jsxs("div",{className:"text-xs md:text-sm text-zinc-400",children:["Showing ",Y.length," of ",O.length," days"]})]})]}),d.jsxs("div",{className:"max-w-6xl mx-auto space-y-4 md:space-y-6",children:[Y.map(R=>d.jsx(u1,{day:R,isExpanded:e.has(R.dateKey),onToggle:()=>xe(R.dateKey),expandedSections:i,onToggleSection:A=>N(R.dateKey,A),showBackupPlans:s,manualActivities:Q[R.dateKey]||Th,deletedActivityIds:E[R.dateKey]||Th,onAddActivity:se,onRemoveActivity:Be,onUpdateActivity:ae,todayDateKey:W},R.dateKey)),Y.length===0&&d.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[d.jsx("p",{className:"text-lg",children:"No days match your search."}),d.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search query."})]})]})]})}function z1(){return d.jsx(L1,{})}il.createRoot(document.getElementById("root")).render(d.jsx(es.StrictMode,{children:d.jsx(z1,{})}));
