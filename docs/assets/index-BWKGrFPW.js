(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lh={exports:{}},Ls={},zh={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),j0=Symbol.for("react.portal"),O0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),R0=Symbol.for("react.provider"),F0=Symbol.for("react.context"),B0=Symbol.for("react.forward_ref"),Z0=Symbol.for("react.suspense"),U0=Symbol.for("react.memo"),H0=Symbol.for("react.lazy"),ad=Symbol.iterator;function W0(e){return e===null||typeof e!="object"?null:(e=ad&&e[ad]||e["@@iterator"],typeof e=="function"?e:null)}var Mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ah=Object.assign,jh={};function Hi(e,t,i){this.props=e,this.context=t,this.refs=jh,this.updater=i||Mh}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Oh(){}Oh.prototype=Hi.prototype;function nu(e,t,i){this.props=e,this.context=t,this.refs=jh,this.updater=i||Mh}var iu=nu.prototype=new Oh;iu.constructor=nu;Ah(iu,Hi.prototype);iu.isPureReactComponent=!0;var ld=Array.isArray,Ih=Object.prototype.hasOwnProperty,ru={current:null},Dh={key:!0,ref:!0,__self:!0,__source:!0};function Rh(e,t,i){var o,s={},l=null,c=null;if(t!=null)for(o in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(l=""+t.key),t)Ih.call(t,o)&&!Dh.hasOwnProperty(o)&&(s[o]=t[o]);var f=arguments.length-2;if(f===1)s.children=i;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];s.children=p}if(e&&e.defaultProps)for(o in f=e.defaultProps,f)s[o]===void 0&&(s[o]=f[o]);return{$$typeof:Jr,type:e,key:l,ref:c,props:s,_owner:ru.current}}function V0(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ou(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function K0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var ud=/\/+/g;function Ta(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K0(""+e.key):t.toString(36)}function Uo(e,t,i,o,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Jr:case j0:c=!0}}if(c)return c=e,s=s(c),e=o===""?"."+Ta(c,0):o,ld(s)?(i="",e!=null&&(i=e.replace(ud,"$&/")+"/"),Uo(s,t,i,"",function(g){return g})):s!=null&&(ou(s)&&(s=V0(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(ud,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=o===""?".":o+":",ld(e))for(var f=0;f<e.length;f++){l=e[f];var p=o+Ta(l,f);c+=Uo(l,t,i,p,s)}else if(p=W0(e),typeof p=="function")for(e=p.call(e),f=0;!(l=e.next()).done;)l=l.value,p=o+Ta(l,f++),c+=Uo(l,t,i,p,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function wo(e,t,i){if(e==null)return e;var o=[],s=0;return Uo(e,o,"","",function(l){return t.call(i,l,s++)}),o}function $0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Ho={transition:null},G0={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Ho,ReactCurrentOwner:ru};function Fh(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:wo,forEach:function(e,t,i){wo(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return wo(e,function(){t++}),t},toArray:function(e){return wo(e,function(t){return t})||[]},only:function(e){if(!ou(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Hi;se.Fragment=O0;se.Profiler=D0;se.PureComponent=nu;se.StrictMode=I0;se.Suspense=Z0;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G0;se.act=Fh;se.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Ah({},e.props),s=e.key,l=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,c=ru.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Ih.call(t,p)&&!Dh.hasOwnProperty(p)&&(o[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];o.children=f}return{$$typeof:Jr,type:e.type,key:s,ref:l,props:o,_owner:c}};se.createContext=function(e){return e={$$typeof:F0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R0,_context:e},e.Consumer=e};se.createElement=Rh;se.createFactory=function(e){var t=Rh.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:B0,render:e}};se.isValidElement=ou;se.lazy=function(e){return{$$typeof:H0,_payload:{_status:-1,_result:e},_init:$0}};se.memo=function(e,t){return{$$typeof:U0,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Ho.transition;Ho.transition={};try{e()}finally{Ho.transition=t}};se.unstable_act=Fh;se.useCallback=function(e,t){return Qe.current.useCallback(e,t)};se.useContext=function(e){return Qe.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};se.useEffect=function(e,t){return Qe.current.useEffect(e,t)};se.useId=function(){return Qe.current.useId()};se.useImperativeHandle=function(e,t,i){return Qe.current.useImperativeHandle(e,t,i)};se.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Qe.current.useMemo(e,t)};se.useReducer=function(e,t,i){return Qe.current.useReducer(e,t,i)};se.useRef=function(e){return Qe.current.useRef(e)};se.useState=function(e){return Qe.current.useState(e)};se.useSyncExternalStore=function(e,t,i){return Qe.current.useSyncExternalStore(e,t,i)};se.useTransition=function(){return Qe.current.useTransition()};se.version="18.3.1";zh.exports=se;var z=zh.exports;const ts=A0(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=z,Y0=Symbol.for("react.element"),q0=Symbol.for("react.fragment"),Q0=Object.prototype.hasOwnProperty,X0=J0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eg={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,i){var o,s={},l=null,c=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(o in t)Q0.call(t,o)&&!eg.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:Y0,type:e,key:l,ref:c,props:s,_owner:X0.current}}Ls.Fragment=q0;Ls.jsx=Bh;Ls.jsxs=Bh;Lh.exports=Ls;var d=Lh.exports,rl={},Zh={exports:{}},ht={},Uh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,$){var N=E.length;E.push($);e:for(;0<N;){var B=N-1>>>1,H=E[B];if(0<s(H,$))E[B]=$,E[N]=H,N=B;else break e}}function i(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var $=E[0],N=E.pop();if(N!==$){E[0]=N;e:for(var B=0,H=E.length,fe=H>>>1;B<fe;){var oe=2*(B+1)-1,ue=E[oe],q=oe+1,pe=E[q];if(0>s(ue,N))q<H&&0>s(pe,ue)?(E[B]=pe,E[q]=N,B=q):(E[B]=ue,E[oe]=N,B=oe);else if(q<H&&0>s(pe,N))E[B]=pe,E[q]=N,B=q;else break e}}return $}function s(E,$){var N=E.sortIndex-$.sortIndex;return N!==0?N:E.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],g=[],S=1,x=null,k=3,C=!1,M=!1,T=!1,V=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var $=i(g);$!==null;){if($.callback===null)o(g);else if($.startTime<=E)o(g),$.sortIndex=$.expirationTime,t(p,$);else break;$=i(g)}}function j(E){if(T=!1,w(E),!M)if(i(p)!==null)M=!0,J(I);else{var $=i(g);$!==null&&Se(j,$.startTime-E)}}function I(E,$){M=!1,T&&(T=!1,v(F),F=-1),C=!0;var N=k;try{for(w($),x=i(p);x!==null&&(!(x.expirationTime>$)||E&&!ae());){var B=x.callback;if(typeof B=="function"){x.callback=null,k=x.priorityLevel;var H=B(x.expirationTime<=$);$=e.unstable_now(),typeof H=="function"?x.callback=H:x===i(p)&&o(p),w($)}else o(p);x=i(p)}if(x!==null)var fe=!0;else{var oe=i(g);oe!==null&&Se(j,oe.startTime-$),fe=!1}return fe}finally{x=null,k=N,C=!1}}var O=!1,A=null,F=-1,X=5,W=-1;function ae(){return!(e.unstable_now()-W<X)}function le(){if(A!==null){var E=e.unstable_now();W=E;var $=!0;try{$=A(!0,E)}finally{$?Be():(O=!1,A=null)}}else O=!1}var Be;if(typeof y=="function")Be=function(){y(le)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Y=ie.port2;ie.port1.onmessage=le,Be=function(){Y.postMessage(null)}}else Be=function(){V(le,0)};function J(E){A=E,O||(O=!0,Be())}function Se(E,$){F=V(function(){E(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){M||C||(M=!0,J(I))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return i(p)},e.unstable_next=function(E){switch(k){case 1:case 2:case 3:var $=3;break;default:$=k}var N=k;k=$;try{return E()}finally{k=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,$){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var N=k;k=E;try{return $()}finally{k=N}},e.unstable_scheduleCallback=function(E,$,N){var B=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?B+N:B):N=B,E){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=N+H,E={id:S++,callback:$,priorityLevel:E,startTime:N,expirationTime:H,sortIndex:-1},N>B?(E.sortIndex=N,t(g,E),i(p)===null&&E===i(g)&&(T?(v(F),F=-1):T=!0,Se(j,N-B))):(E.sortIndex=H,t(p,E),M||C||(M=!0,J(I))),E},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(E){var $=k;return function(){var N=k;k=$;try{return E.apply(this,arguments)}finally{k=N}}}})(Hh);Uh.exports=Hh;var tg=Uh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng=z,dt=tg;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wh=new Set,Tr={};function Qn(e,t){Mi(e,t),Mi(e+"Capture",t)}function Mi(e,t){for(Tr[e]=t,e=0;e<t.length;e++)Wh.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ol=Object.prototype.hasOwnProperty,ig=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cd={},dd={};function rg(e){return ol.call(dd,e)?!0:ol.call(cd,e)?!1:ig.test(e)?dd[e]=!0:(cd[e]=!0,!1)}function og(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sg(e,t,i,o){if(t===null||typeof t>"u"||og(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,i,o,s,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function au(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(su,au);We[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(su,au);We[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(su,au);We[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function lu(e,t,i,o){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sg(t,i,s,o)&&(i=null),o||s===null?rg(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=i===null?s.type===3?!1:"":i:(t=s.attributeName,o=s.attributeNamespace,i===null?e.removeAttribute(t):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var ln=ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,So=Symbol.for("react.element"),hi=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),sl=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),cu=Symbol.for("react.forward_ref"),al=Symbol.for("react.suspense"),ll=Symbol.for("react.suspense_list"),du=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),$h=Symbol.for("react.offscreen"),hd=Symbol.iterator;function ar(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Ea;function mr(e){if(Ea===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ea=t&&t[1]||""}return`
`+Ea+e}var La=!1;function za(e,t){if(!e||La)return"";La=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var o=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){o=g}e.call(t.prototype)}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),l=o.stack.split(`
`),c=s.length-1,f=l.length-1;1<=c&&0<=f&&s[c]!==l[f];)f--;for(;1<=c&&0<=f;c--,f--)if(s[c]!==l[f]){if(c!==1||f!==1)do if(c--,f--,0>f||s[c]!==l[f]){var p=`
`+s[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=f);break}}}finally{La=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?mr(e):""}function ag(e){switch(e.tag){case 5:return mr(e.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return e=za(e.type,!1),e;case 11:return e=za(e.type.render,!1),e;case 1:return e=za(e.type,!0),e;default:return""}}function ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fi:return"Fragment";case hi:return"Portal";case sl:return"Profiler";case uu:return"StrictMode";case al:return"Suspense";case ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kh:return(e.displayName||"Context")+".Consumer";case Vh:return(e._context.displayName||"Context")+".Provider";case cu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case du:return t=e.displayName||null,t!==null?t:ul(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return ul(e(t))}catch{}}return null}function lg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ul(t);case 8:return t===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ug(e){var t=Gh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){o=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(c){o=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ko(e){e._valueTracker||(e._valueTracker=ug(e))}function Jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Gh(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cl(e,t){var i=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function fd(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=En(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yh(e,t){t=t.checked,t!=null&&lu(e,"checked",t,!1)}function dl(e,t){Yh(e,t);var i=En(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hl(e,t.type,i):t.hasOwnProperty("defaultValue")&&hl(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pd(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function hl(e,t,i){(t!=="number"||ns(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var gr=Array.isArray;function bi(e,t,i,o){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&o&&(e[i].defaultSelected=!0)}else{for(i=""+En(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function md(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(R(92));if(gr(i)){if(1<i.length)throw Error(R(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:En(i)}}function qh(e,t){var i=En(t.value),o=En(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function gd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bo,Xh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Er(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cg=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(e){cg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yr[t]=yr[e]})});function ef(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||yr.hasOwnProperty(e)&&yr[e]?(""+t).trim():t+"px"}function tf(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,s=ef(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,s):e[i]=s}}var dg=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(e,t){if(t){if(dg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,Pi=null,Ci=null;function vd(e){if(e=Qr(e)){if(typeof _l!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Os(t),_l(e.stateNode,e.type,t))}}function nf(e){Pi?Ci?Ci.push(e):Ci=[e]:Pi=e}function rf(){if(Pi){var e=Pi,t=Ci;if(Ci=Pi=null,vd(e),t)for(e=0;e<t.length;e++)vd(t[e])}}function of(e,t){return e(t)}function sf(){}var Ma=!1;function af(e,t,i){if(Ma)return e(t,i);Ma=!0;try{return of(e,t,i)}finally{Ma=!1,(Pi!==null||Ci!==null)&&(sf(),rf())}}function Lr(e,t){var i=e.stateNode;if(i===null)return null;var o=Os(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(R(231,t,typeof i));return i}var yl=!1;if(rn)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){yl=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{yl=!1}function hg(e,t,i,o,s,l,c,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(i,g)}catch(S){this.onError(S)}}var xr=!1,is=null,rs=!1,xl=null,fg={onError:function(e){xr=!0,is=e}};function pg(e,t,i,o,s,l,c,f,p){xr=!1,is=null,hg.apply(fg,arguments)}function mg(e,t,i,o,s,l,c,f,p){if(pg.apply(this,arguments),xr){if(xr){var g=is;xr=!1,is=null}else throw Error(R(198));rs||(rs=!0,xl=g)}}function Xn(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function lf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _d(e){if(Xn(e)!==e)throw Error(R(188))}function gg(e){var t=e.alternate;if(!t){if(t=Xn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var i=e,o=t;;){var s=i.return;if(s===null)break;var l=s.alternate;if(l===null){if(o=s.return,o!==null){i=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===i)return _d(s),e;if(l===o)return _d(s),t;l=l.sibling}throw Error(R(188))}if(i.return!==o.return)i=s,o=l;else{for(var c=!1,f=s.child;f;){if(f===i){c=!0,i=s,o=l;break}if(f===o){c=!0,o=s,i=l;break}f=f.sibling}if(!c){for(f=l.child;f;){if(f===i){c=!0,i=l,o=s;break}if(f===o){c=!0,o=l,i=s;break}f=f.sibling}if(!c)throw Error(R(189))}}if(i.alternate!==o)throw Error(R(190))}if(i.tag!==3)throw Error(R(188));return i.stateNode.current===i?e:t}function uf(e){return e=gg(e),e!==null?cf(e):null}function cf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cf(e);if(t!==null)return t;e=e.sibling}return null}var df=dt.unstable_scheduleCallback,yd=dt.unstable_cancelCallback,vg=dt.unstable_shouldYield,_g=dt.unstable_requestPaint,Le=dt.unstable_now,yg=dt.unstable_getCurrentPriorityLevel,fu=dt.unstable_ImmediatePriority,hf=dt.unstable_UserBlockingPriority,os=dt.unstable_NormalPriority,xg=dt.unstable_LowPriority,ff=dt.unstable_IdlePriority,zs=null,Kt=null;function wg(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(zs,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:bg,Sg=Math.log,kg=Math.LN2;function bg(e){return e>>>=0,e===0?32:31-(Sg(e)/kg|0)|0}var Po=64,Co=4194304;function vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ss(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,s=e.suspendedLanes,l=e.pingedLanes,c=i&268435455;if(c!==0){var f=c&~s;f!==0?o=vr(f):(l&=c,l!==0&&(o=vr(l)))}else c=i&~s,c!==0?o=vr(c):l!==0&&(o=vr(l));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Mt(t),s=1<<i,o|=e[i],t&=~s;return o}function Pg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cg(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-Mt(l),f=1<<c,p=s[c];p===-1?(!(f&i)||f&o)&&(s[c]=Pg(f,t)):p<=t&&(e.expiredLanes|=f),l&=~f}}function wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pf(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function Aa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Yr(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=i}function Ng(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-Mt(i),l=1<<s;t[s]=0,o[s]=-1,e[s]=-1,i&=~l}}function pu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Mt(i),s=1<<o;s&t|e[o]&t&&(e[o]|=t),i&=~s}}var me=0;function mf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gf,mu,vf,_f,yf,Sl=!1,No=[],wn=null,Sn=null,kn=null,zr=new Map,Mr=new Map,gn=[],Tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function ur(e,t,i,o,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Qr(t),t!==null&&mu(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Eg(e,t,i,o,s){switch(t){case"focusin":return wn=ur(wn,e,t,i,o,s),!0;case"dragenter":return Sn=ur(Sn,e,t,i,o,s),!0;case"mouseover":return kn=ur(kn,e,t,i,o,s),!0;case"pointerover":var l=s.pointerId;return zr.set(l,ur(zr.get(l)||null,e,t,i,o,s)),!0;case"gotpointercapture":return l=s.pointerId,Mr.set(l,ur(Mr.get(l)||null,e,t,i,o,s)),!0}return!1}function xf(e){var t=Un(e.target);if(t!==null){var i=Xn(t);if(i!==null){if(t=i.tag,t===13){if(t=lf(i),t!==null){e.blockedOn=t,yf(e.priority,function(){vf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);vl=o,i.target.dispatchEvent(o),vl=null}else return t=Qr(i),t!==null&&mu(t),e.blockedOn=i,!1;t.shift()}return!0}function wd(e,t,i){Wo(e)&&i.delete(t)}function Lg(){Sl=!1,wn!==null&&Wo(wn)&&(wn=null),Sn!==null&&Wo(Sn)&&(Sn=null),kn!==null&&Wo(kn)&&(kn=null),zr.forEach(wd),Mr.forEach(wd)}function cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Lg)))}function Ar(e){function t(s){return cr(s,e)}if(0<No.length){cr(No[0],e);for(var i=1;i<No.length;i++){var o=No[i];o.blockedOn===e&&(o.blockedOn=null)}}for(wn!==null&&cr(wn,e),Sn!==null&&cr(Sn,e),kn!==null&&cr(kn,e),zr.forEach(t),Mr.forEach(t),i=0;i<gn.length;i++)o=gn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<gn.length&&(i=gn[0],i.blockedOn===null);)xf(i),i.blockedOn===null&&gn.shift()}var Ni=ln.ReactCurrentBatchConfig,as=!0;function zg(e,t,i,o){var s=me,l=Ni.transition;Ni.transition=null;try{me=1,gu(e,t,i,o)}finally{me=s,Ni.transition=l}}function Mg(e,t,i,o){var s=me,l=Ni.transition;Ni.transition=null;try{me=4,gu(e,t,i,o)}finally{me=s,Ni.transition=l}}function gu(e,t,i,o){if(as){var s=kl(e,t,i,o);if(s===null)Ha(e,t,o,ls,i),xd(e,o);else if(Eg(s,e,t,i,o))o.stopPropagation();else if(xd(e,o),t&4&&-1<Tg.indexOf(e)){for(;s!==null;){var l=Qr(s);if(l!==null&&gf(l),l=kl(e,t,i,o),l===null&&Ha(e,t,o,ls,i),l===s)break;s=l}s!==null&&o.stopPropagation()}else Ha(e,t,o,null,i)}}var ls=null;function kl(e,t,i,o){if(ls=null,e=hu(o),e=Un(e),e!==null)if(t=Xn(e),t===null)e=null;else if(i=t.tag,i===13){if(e=lf(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ls=e,null}function wf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yg()){case fu:return 1;case hf:return 4;case os:case xg:return 16;case ff:return 536870912;default:return 16}default:return 16}}var yn=null,vu=null,Vo=null;function Sf(){if(Vo)return Vo;var e,t=vu,i=t.length,o,s="value"in yn?yn.value:yn.textContent,l=s.length;for(e=0;e<i&&t[e]===s[e];e++);var c=i-e;for(o=1;o<=c&&t[i-o]===s[l-o];o++);return Vo=s.slice(e,1<o?1-o:void 0)}function Ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function To(){return!0}function Sd(){return!1}function ft(e){function t(i,o,s,l,c){this._reactName=i,this._targetInst=s,this.type=o,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(i=e[f],this[f]=i?i(l):l[f]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?To:Sd,this.isPropagationStopped=Sd,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=ft(Wi),qr=Ce({},Wi,{view:0,detail:0}),Ag=ft(qr),ja,Oa,dr,Ms=Ce({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&e.type==="mousemove"?(ja=e.screenX-dr.screenX,Oa=e.screenY-dr.screenY):Oa=ja=0,dr=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),kd=ft(Ms),jg=Ce({},Ms,{dataTransfer:0}),Og=ft(jg),Ig=Ce({},qr,{relatedTarget:0}),Ia=ft(Ig),Dg=Ce({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rg=ft(Dg),Fg=Ce({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bg=ft(Fg),Zg=Ce({},Wi,{data:0}),bd=ft(Zg),Ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wg[e])?!!t[e]:!1}function yu(){return Vg}var Kg=Ce({},qr,{key:function(e){if(e.key){var t=Ug[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$g=ft(Kg),Gg=Ce({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=ft(Gg),Jg=Ce({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Yg=ft(Jg),qg=Ce({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qg=ft(qg),Xg=Ce({},Ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ev=ft(Xg),tv=[9,13,27,32],xu=rn&&"CompositionEvent"in window,wr=null;rn&&"documentMode"in document&&(wr=document.documentMode);var nv=rn&&"TextEvent"in window&&!wr,kf=rn&&(!xu||wr&&8<wr&&11>=wr),Cd=" ",Nd=!1;function bf(e,t){switch(e){case"keyup":return tv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pi=!1;function iv(e,t){switch(e){case"compositionend":return Pf(t);case"keypress":return t.which!==32?null:(Nd=!0,Cd);case"textInput":return e=t.data,e===Cd&&Nd?null:e;default:return null}}function rv(e,t){if(pi)return e==="compositionend"||!xu&&bf(e,t)?(e=Sf(),Vo=vu=yn=null,pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kf&&t.locale!=="ko"?null:t.data;default:return null}}var ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ov[e.type]:t==="textarea"}function Cf(e,t,i,o){nf(o),t=us(t,"onChange"),0<t.length&&(i=new _u("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Sr=null,jr=null;function sv(e){Df(e,0)}function As(e){var t=vi(e);if(Jh(t))return e}function av(e,t){if(e==="change")return t}var Nf=!1;if(rn){var Da;if(rn){var Ra="oninput"in document;if(!Ra){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),Ra=typeof Ed.oninput=="function"}Da=Ra}else Da=!1;Nf=Da&&(!document.documentMode||9<document.documentMode)}function Ld(){Sr&&(Sr.detachEvent("onpropertychange",Tf),jr=Sr=null)}function Tf(e){if(e.propertyName==="value"&&As(jr)){var t=[];Cf(t,jr,e,hu(e)),af(sv,t)}}function lv(e,t,i){e==="focusin"?(Ld(),Sr=t,jr=i,Sr.attachEvent("onpropertychange",Tf)):e==="focusout"&&Ld()}function uv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(jr)}function cv(e,t){if(e==="click")return As(t)}function dv(e,t){if(e==="input"||e==="change")return As(t)}function hv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:hv;function Or(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var s=i[o];if(!ol.call(t,s)||!Ot(e[s],t[s]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var i=zd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zd(i)}}function Ef(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ef(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lf(){for(var e=window,t=ns();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ns(e.document)}return t}function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fv(e){var t=Lf(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Ef(i.ownerDocument.documentElement,i)){if(o!==null&&wu(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=i.textContent.length,l=Math.min(o.start,s);o=o.end===void 0?l:Math.min(o.end,s),!e.extend&&l>o&&(s=o,o=l,l=s),s=Md(i,l);var c=Md(i,o);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>o?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pv=rn&&"documentMode"in document&&11>=document.documentMode,mi=null,bl=null,kr=null,Pl=!1;function Ad(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Pl||mi==null||mi!==ns(o)||(o=mi,"selectionStart"in o&&wu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),kr&&Or(kr,o)||(kr=o,o=us(bl,"onSelect"),0<o.length&&(t=new _u("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=mi)))}function Eo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var gi={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},Fa={},zf={};rn&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function js(e){if(Fa[e])return Fa[e];if(!gi[e])return e;var t=gi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in zf)return Fa[e]=t[i];return e}var Mf=js("animationend"),Af=js("animationiteration"),jf=js("animationstart"),Of=js("transitionend"),If=new Map,jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){If.set(e,t),Qn(t,[e])}for(var Ba=0;Ba<jd.length;Ba++){var Za=jd[Ba],mv=Za.toLowerCase(),gv=Za[0].toUpperCase()+Za.slice(1);Mn(mv,"on"+gv)}Mn(Mf,"onAnimationEnd");Mn(Af,"onAnimationIteration");Mn(jf,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Of,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Od(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,mg(o,t,void 0,e),e.currentTarget=null}function Df(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],s=o.event;o=o.listeners;e:{var l=void 0;if(t)for(var c=o.length-1;0<=c;c--){var f=o[c],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==l&&s.isPropagationStopped())break e;Od(s,f,g),l=p}else for(c=0;c<o.length;c++){if(f=o[c],p=f.instance,g=f.currentTarget,f=f.listener,p!==l&&s.isPropagationStopped())break e;Od(s,f,g),l=p}}}if(rs)throw e=xl,rs=!1,xl=null,e}function ye(e,t){var i=t[Ll];i===void 0&&(i=t[Ll]=new Set);var o=e+"__bubble";i.has(o)||(Rf(t,e,2,!1),i.add(o))}function Ua(e,t,i){var o=0;t&&(o|=4),Rf(i,e,o,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[Lo]){e[Lo]=!0,Wh.forEach(function(i){i!=="selectionchange"&&(vv.has(i)||Ua(i,!1,e),Ua(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,Ua("selectionchange",!1,t))}}function Rf(e,t,i,o){switch(wf(t)){case 1:var s=zg;break;case 4:s=Mg;break;default:s=gu}i=s.bind(null,t,i,e),s=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Ha(e,t,i,o,s){var l=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var c=o.tag;if(c===3||c===4){var f=o.stateNode.containerInfo;if(f===s||f.nodeType===8&&f.parentNode===s)break;if(c===4)for(c=o.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;c=c.return}for(;f!==null;){if(c=Un(f),c===null)return;if(p=c.tag,p===5||p===6){o=l=c;continue e}f=f.parentNode}}o=o.return}af(function(){var g=l,S=hu(i),x=[];e:{var k=If.get(e);if(k!==void 0){var C=_u,M=e;switch(e){case"keypress":if(Ko(i)===0)break e;case"keydown":case"keyup":C=$g;break;case"focusin":M="focus",C=Ia;break;case"focusout":M="blur",C=Ia;break;case"beforeblur":case"afterblur":C=Ia;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Yg;break;case Mf:case Af:case jf:C=Rg;break;case Of:C=Qg;break;case"scroll":C=Ag;break;case"wheel":C=ev;break;case"copy":case"cut":case"paste":C=Bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Pd}var T=(t&4)!==0,V=!T&&e==="scroll",v=T?k!==null?k+"Capture":null:k;T=[];for(var y=g,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,v!==null&&(j=Lr(y,v),j!=null&&T.push(Dr(y,j,w)))),V)break;y=y.return}0<T.length&&(k=new C(k,M,null,i,S),x.push({event:k,listeners:T}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",k&&i!==vl&&(M=i.relatedTarget||i.fromElement)&&(Un(M)||M[on]))break e;if((C||k)&&(k=S.window===S?S:(k=S.ownerDocument)?k.defaultView||k.parentWindow:window,C?(M=i.relatedTarget||i.toElement,C=g,M=M?Un(M):null,M!==null&&(V=Xn(M),M!==V||M.tag!==5&&M.tag!==6)&&(M=null)):(C=null,M=g),C!==M)){if(T=kd,j="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=Pd,j="onPointerLeave",v="onPointerEnter",y="pointer"),V=C==null?k:vi(C),w=M==null?k:vi(M),k=new T(j,y+"leave",C,i,S),k.target=V,k.relatedTarget=w,j=null,Un(S)===g&&(T=new T(v,y+"enter",M,i,S),T.target=w,T.relatedTarget=V,j=T),V=j,C&&M)t:{for(T=C,v=M,y=0,w=T;w;w=di(w))y++;for(w=0,j=v;j;j=di(j))w++;for(;0<y-w;)T=di(T),y--;for(;0<w-y;)v=di(v),w--;for(;y--;){if(T===v||v!==null&&T===v.alternate)break t;T=di(T),v=di(v)}T=null}else T=null;C!==null&&Id(x,k,C,T,!1),M!==null&&V!==null&&Id(x,V,M,T,!0)}}e:{if(k=g?vi(g):window,C=k.nodeName&&k.nodeName.toLowerCase(),C==="select"||C==="input"&&k.type==="file")var I=av;else if(Td(k))if(Nf)I=dv;else{I=uv;var O=lv}else(C=k.nodeName)&&C.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(I=cv);if(I&&(I=I(e,g))){Cf(x,I,i,S);break e}O&&O(e,k,g),e==="focusout"&&(O=k._wrapperState)&&O.controlled&&k.type==="number"&&hl(k,"number",k.value)}switch(O=g?vi(g):window,e){case"focusin":(Td(O)||O.contentEditable==="true")&&(mi=O,bl=g,kr=null);break;case"focusout":kr=bl=mi=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,Ad(x,i,S);break;case"selectionchange":if(pv)break;case"keydown":case"keyup":Ad(x,i,S)}var A;if(xu)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else pi?bf(e,i)&&(F="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(F="onCompositionStart");F&&(kf&&i.locale!=="ko"&&(pi||F!=="onCompositionStart"?F==="onCompositionEnd"&&pi&&(A=Sf()):(yn=S,vu="value"in yn?yn.value:yn.textContent,pi=!0)),O=us(g,F),0<O.length&&(F=new bd(F,e,null,i,S),x.push({event:F,listeners:O}),A?F.data=A:(A=Pf(i),A!==null&&(F.data=A)))),(A=nv?iv(e,i):rv(e,i))&&(g=us(g,"onBeforeInput"),0<g.length&&(S=new bd("onBeforeInput","beforeinput",null,i,S),x.push({event:S,listeners:g}),S.data=A))}Df(x,t)})}function Dr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function us(e,t){for(var i=t+"Capture",o=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Lr(e,i),l!=null&&o.unshift(Dr(e,l,s)),l=Lr(e,t),l!=null&&o.push(Dr(e,l,s))),e=e.return}return o}function di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Id(e,t,i,o,s){for(var l=t._reactName,c=[];i!==null&&i!==o;){var f=i,p=f.alternate,g=f.stateNode;if(p!==null&&p===o)break;f.tag===5&&g!==null&&(f=g,s?(p=Lr(i,l),p!=null&&c.unshift(Dr(i,p,f))):s||(p=Lr(i,l),p!=null&&c.push(Dr(i,p,f)))),i=i.return}c.length!==0&&e.push({event:t,listeners:c})}var _v=/\r\n?/g,yv=/\u0000|\uFFFD/g;function Dd(e){return(typeof e=="string"?e:""+e).replace(_v,`
`).replace(yv,"")}function zo(e,t,i){if(t=Dd(t),Dd(e)!==t&&i)throw Error(R(425))}function cs(){}var Cl=null,Nl=null;function Tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,wv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(Sv)}:El;function Sv(e){setTimeout(function(){throw e})}function Wa(e,t){var i=t,o=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(o===0){e.removeChild(s),Ar(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=s}while(i);Ar(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Vi,Rr="__reactProps$"+Vi,on="__reactContainer$"+Vi,Ll="__reactEvents$"+Vi,kv="__reactListeners$"+Vi,bv="__reactHandles$"+Vi;function Un(e){var t=e[Vt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[on]||i[Vt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Fd(e);e!==null;){if(i=e[Vt])return i;e=Fd(e)}return t}e=i,i=e.parentNode}return null}function Qr(e){return e=e[Vt]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Os(e){return e[Rr]||null}var zl=[],_i=-1;function An(e){return{current:e}}function xe(e){0>_i||(e.current=zl[_i],zl[_i]=null,_i--)}function _e(e,t){_i++,zl[_i]=e.current,e.current=t}var Ln={},Ge=An(Ln),it=An(!1),$n=Ln;function Ai(e,t){var i=e.type.contextTypes;if(!i)return Ln;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in i)s[l]=t[l];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rt(e){return e=e.childContextTypes,e!=null}function ds(){xe(it),xe(Ge)}function Bd(e,t,i){if(Ge.current!==Ln)throw Error(R(168));_e(Ge,t),_e(it,i)}function Ff(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(R(108,lg(e)||"Unknown",s));return Ce({},i,o)}function hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,$n=Ge.current,_e(Ge,e),_e(it,it.current),!0}function Zd(e,t,i){var o=e.stateNode;if(!o)throw Error(R(169));i?(e=Ff(e,t,$n),o.__reactInternalMemoizedMergedChildContext=e,xe(it),xe(Ge),_e(Ge,e)):xe(it),_e(it,i)}var Xt=null,Is=!1,Va=!1;function Bf(e){Xt===null?Xt=[e]:Xt.push(e)}function Pv(e){Is=!0,Bf(e)}function jn(){if(!Va&&Xt!==null){Va=!0;var e=0,t=me;try{var i=Xt;for(me=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Xt=null,Is=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(e+1)),df(fu,jn),s}finally{me=t,Va=!1}}return null}var yi=[],xi=0,fs=null,ps=0,_t=[],yt=0,Gn=null,en=1,tn="";function Bn(e,t){yi[xi++]=ps,yi[xi++]=fs,fs=e,ps=t}function Zf(e,t,i){_t[yt++]=en,_t[yt++]=tn,_t[yt++]=Gn,Gn=e;var o=en;e=tn;var s=32-Mt(o)-1;o&=~(1<<s),i+=1;var l=32-Mt(t)+s;if(30<l){var c=s-s%5;l=(o&(1<<c)-1).toString(32),o>>=c,s-=c,en=1<<32-Mt(t)+s|i<<s|o,tn=l+e}else en=1<<l|i<<s|o,tn=e}function Su(e){e.return!==null&&(Bn(e,1),Zf(e,1,0))}function ku(e){for(;e===fs;)fs=yi[--xi],yi[xi]=null,ps=yi[--xi],yi[xi]=null;for(;e===Gn;)Gn=_t[--yt],_t[yt]=null,tn=_t[--yt],_t[yt]=null,en=_t[--yt],_t[yt]=null}var ct=null,ut=null,we=!1,zt=null;function Uf(e,t){var i=xt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ud(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Gn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=xt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ct=e,ut=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Al(e){if(we){var t=ut;if(t){var i=t;if(!Ud(e,t)){if(Ml(e))throw Error(R(418));t=bn(i.nextSibling);var o=ct;t&&Ud(e,t)?Uf(o,i):(e.flags=e.flags&-4097|2,we=!1,ct=e)}}else{if(Ml(e))throw Error(R(418));e.flags=e.flags&-4097|2,we=!1,ct=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Mo(e){if(e!==ct)return!1;if(!we)return Hd(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tl(e.type,e.memoizedProps)),t&&(t=ut)){if(Ml(e))throw Hf(),Error(R(418));for(;t;)Uf(e,t),t=bn(t.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ut=bn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?bn(e.stateNode.nextSibling):null;return!0}function Hf(){for(var e=ut;e;)e=bn(e.nextSibling)}function ji(){ut=ct=null,we=!1}function bu(e){zt===null?zt=[e]:zt.push(e)}var Cv=ln.ReactCurrentBatchConfig;function hr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(R(309));var o=i.stateNode}if(!o)throw Error(R(147,e));var s=o,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var f=s.refs;c===null?delete f[l]:f[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(R(284));if(!i._owner)throw Error(R(290,e))}return e}function Ao(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wd(e){var t=e._init;return t(e._payload)}function Wf(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function i(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function o(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Tn(v,y),v.index=0,v.sibling=null,v}function l(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function c(v){return e&&v.alternate===null&&(v.flags|=2),v}function f(v,y,w,j){return y===null||y.tag!==6?(y=Qa(w,v.mode,j),y.return=v,y):(y=s(y,w),y.return=v,y)}function p(v,y,w,j){var I=w.type;return I===fi?S(v,y,w.props.children,j,w.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===pn&&Wd(I)===y.type)?(j=s(y,w.props),j.ref=hr(v,y,w),j.return=v,j):(j=Xo(w.type,w.key,w.props,null,v.mode,j),j.ref=hr(v,y,w),j.return=v,j)}function g(v,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Xa(w,v.mode,j),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function S(v,y,w,j,I){return y===null||y.tag!==7?(y=Kn(w,v.mode,j,I),y.return=v,y):(y=s(y,w),y.return=v,y)}function x(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qa(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case So:return w=Xo(y.type,y.key,y.props,null,v.mode,w),w.ref=hr(v,null,y),w.return=v,w;case hi:return y=Xa(y,v.mode,w),y.return=v,y;case pn:var j=y._init;return x(v,j(y._payload),w)}if(gr(y)||ar(y))return y=Kn(y,v.mode,w,null),y.return=v,y;Ao(v,y)}return null}function k(v,y,w,j){var I=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:f(v,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case So:return w.key===I?p(v,y,w,j):null;case hi:return w.key===I?g(v,y,w,j):null;case pn:return I=w._init,k(v,y,I(w._payload),j)}if(gr(w)||ar(w))return I!==null?null:S(v,y,w,j,null);Ao(v,w)}return null}function C(v,y,w,j,I){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(w)||null,f(y,v,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case So:return v=v.get(j.key===null?w:j.key)||null,p(y,v,j,I);case hi:return v=v.get(j.key===null?w:j.key)||null,g(y,v,j,I);case pn:var O=j._init;return C(v,y,w,O(j._payload),I)}if(gr(j)||ar(j))return v=v.get(w)||null,S(y,v,j,I,null);Ao(y,j)}return null}function M(v,y,w,j){for(var I=null,O=null,A=y,F=y=0,X=null;A!==null&&F<w.length;F++){A.index>F?(X=A,A=null):X=A.sibling;var W=k(v,A,w[F],j);if(W===null){A===null&&(A=X);break}e&&A&&W.alternate===null&&t(v,A),y=l(W,y,F),O===null?I=W:O.sibling=W,O=W,A=X}if(F===w.length)return i(v,A),we&&Bn(v,F),I;if(A===null){for(;F<w.length;F++)A=x(v,w[F],j),A!==null&&(y=l(A,y,F),O===null?I=A:O.sibling=A,O=A);return we&&Bn(v,F),I}for(A=o(v,A);F<w.length;F++)X=C(A,v,F,w[F],j),X!==null&&(e&&X.alternate!==null&&A.delete(X.key===null?F:X.key),y=l(X,y,F),O===null?I=X:O.sibling=X,O=X);return e&&A.forEach(function(ae){return t(v,ae)}),we&&Bn(v,F),I}function T(v,y,w,j){var I=ar(w);if(typeof I!="function")throw Error(R(150));if(w=I.call(w),w==null)throw Error(R(151));for(var O=I=null,A=y,F=y=0,X=null,W=w.next();A!==null&&!W.done;F++,W=w.next()){A.index>F?(X=A,A=null):X=A.sibling;var ae=k(v,A,W.value,j);if(ae===null){A===null&&(A=X);break}e&&A&&ae.alternate===null&&t(v,A),y=l(ae,y,F),O===null?I=ae:O.sibling=ae,O=ae,A=X}if(W.done)return i(v,A),we&&Bn(v,F),I;if(A===null){for(;!W.done;F++,W=w.next())W=x(v,W.value,j),W!==null&&(y=l(W,y,F),O===null?I=W:O.sibling=W,O=W);return we&&Bn(v,F),I}for(A=o(v,A);!W.done;F++,W=w.next())W=C(A,v,F,W.value,j),W!==null&&(e&&W.alternate!==null&&A.delete(W.key===null?F:W.key),y=l(W,y,F),O===null?I=W:O.sibling=W,O=W);return e&&A.forEach(function(le){return t(v,le)}),we&&Bn(v,F),I}function V(v,y,w,j){if(typeof w=="object"&&w!==null&&w.type===fi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case So:e:{for(var I=w.key,O=y;O!==null;){if(O.key===I){if(I=w.type,I===fi){if(O.tag===7){i(v,O.sibling),y=s(O,w.props.children),y.return=v,v=y;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===pn&&Wd(I)===O.type){i(v,O.sibling),y=s(O,w.props),y.ref=hr(v,O,w),y.return=v,v=y;break e}i(v,O);break}else t(v,O);O=O.sibling}w.type===fi?(y=Kn(w.props.children,v.mode,j,w.key),y.return=v,v=y):(j=Xo(w.type,w.key,w.props,null,v.mode,j),j.ref=hr(v,y,w),j.return=v,v=j)}return c(v);case hi:e:{for(O=w.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){i(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{i(v,y);break}else t(v,y);y=y.sibling}y=Xa(w,v.mode,j),y.return=v,v=y}return c(v);case pn:return O=w._init,V(v,y,O(w._payload),j)}if(gr(w))return M(v,y,w,j);if(ar(w))return T(v,y,w,j);Ao(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(i(v,y.sibling),y=s(y,w),y.return=v,v=y):(i(v,y),y=Qa(w,v.mode,j),y.return=v,v=y),c(v)):i(v,y)}return V}var Oi=Wf(!0),Vf=Wf(!1),ms=An(null),gs=null,wi=null,Pu=null;function Cu(){Pu=wi=gs=null}function Nu(e){var t=ms.current;xe(ms),e._currentValue=t}function jl(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Ti(e,t){gs=e,Pu=wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(Pu!==e)if(e={context:e,memoizedValue:t,next:null},wi===null){if(gs===null)throw Error(R(308));wi=e,gs.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Hn=null;function Tu(e){Hn===null?Hn=[e]:Hn.push(e)}function Kf(e,t,i,o){var s=t.interleaved;return s===null?(i.next=i,Tu(t)):(i.next=s.next,s.next=i),t.interleaved=i,sn(e,o)}function sn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var mn=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,de&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,sn(e,i)}return s=o.interleaved,s===null?(t.next=t,Tu(o)):(t.next=s.next,s.next=t),o.interleaved=t,sn(e,i)}function $o(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,pu(e,i)}}function Vd(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var s=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var c={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?s=l=c:l=l.next=c,i=i.next}while(i!==null);l===null?s=l=t:l=l.next=t}else s=l=t;i={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function vs(e,t,i,o){var s=e.updateQueue;mn=!1;var l=s.firstBaseUpdate,c=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var p=f,g=p.next;p.next=null,c===null?l=g:c.next=g,c=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==c&&(f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=p))}if(l!==null){var x=s.baseState;c=0,S=g=p=null,f=l;do{var k=f.lane,C=f.eventTime;if((o&k)===k){S!==null&&(S=S.next={eventTime:C,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var M=e,T=f;switch(k=t,C=i,T.tag){case 1:if(M=T.payload,typeof M=="function"){x=M.call(C,x,k);break e}x=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=T.payload,k=typeof M=="function"?M.call(C,x,k):M,k==null)break e;x=Ce({},x,k);break e;case 2:mn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,k=s.effects,k===null?s.effects=[f]:k.push(f))}else C={eventTime:C,lane:k,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(g=S=C,p=x):S=S.next=C,c|=k;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;k=f,f=k.next,k.next=null,s.lastBaseUpdate=k,s.shared.pending=null}}while(!0);if(S===null&&(p=x),s.baseState=p,s.firstBaseUpdate=g,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Yn|=c,e.lanes=c,e.memoizedState=x}}function Kd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=i,typeof s!="function")throw Error(R(191,s));s.call(o)}}}var Xr={},$t=An(Xr),Fr=An(Xr),Br=An(Xr);function Wn(e){if(e===Xr)throw Error(R(174));return e}function Lu(e,t){switch(_e(Br,t),_e(Fr,e),_e($t,Xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pl(t,e)}xe($t),_e($t,t)}function Ii(){xe($t),xe(Fr),xe(Br)}function Gf(e){Wn(Br.current);var t=Wn($t.current),i=pl(t,e.type);t!==i&&(_e(Fr,e),_e($t,i))}function zu(e){Fr.current===e&&(xe($t),xe(Fr))}var be=An(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ka=[];function Mu(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Go=ln.ReactCurrentDispatcher,$a=ln.ReactCurrentBatchConfig,Jn=0,Pe=null,je=null,Re=null,ys=!1,br=!1,Zr=0,Nv=0;function Ve(){throw Error(R(321))}function Au(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ot(e[i],t[i]))return!1;return!0}function ju(e,t,i,o,s,l){if(Jn=l,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=e===null||e.memoizedState===null?zv:Mv,e=i(o,s),br){l=0;do{if(br=!1,Zr=0,25<=l)throw Error(R(301));l+=1,Re=je=null,t.updateQueue=null,Go.current=Av,e=i(o,s)}while(br)}if(Go.current=xs,t=je!==null&&je.next!==null,Jn=0,Re=je=Pe=null,ys=!1,t)throw Error(R(300));return e}function Ou(){var e=Zr!==0;return Zr=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Pe.memoizedState=Re=e:Re=Re.next=e,Re}function kt(){if(je===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Re===null?Pe.memoizedState:Re.next;if(t!==null)Re=t,je=e;else{if(e===null)throw Error(R(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Re===null?Pe.memoizedState=Re=e:Re=Re.next=e}return Re}function Ur(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=kt(),i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=e;var o=je,s=o.baseQueue,l=i.pending;if(l!==null){if(s!==null){var c=s.next;s.next=l.next,l.next=c}o.baseQueue=s=l,i.pending=null}if(s!==null){l=s.next,o=o.baseState;var f=c=null,p=null,g=l;do{var S=g.lane;if((Jn&S)===S)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),o=g.hasEagerState?g.eagerState:e(o,g.action);else{var x={lane:S,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=x,c=o):p=p.next=x,Pe.lanes|=S,Yn|=S}g=g.next}while(g!==null&&g!==l);p===null?c=o:p.next=f,Ot(o,t.memoizedState)||(nt=!0),t.memoizedState=o,t.baseState=c,t.baseQueue=p,i.lastRenderedState=o}if(e=i.interleaved,e!==null){s=e;do l=s.lane,Pe.lanes|=l,Yn|=l,s=s.next;while(s!==e)}else s===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ja(e){var t=kt(),i=t.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=e;var o=i.dispatch,s=i.pending,l=t.memoizedState;if(s!==null){i.pending=null;var c=s=s.next;do l=e(l,c.action),c=c.next;while(c!==s);Ot(l,t.memoizedState)||(nt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,o]}function Jf(){}function Yf(e,t){var i=Pe,o=kt(),s=t(),l=!Ot(o.memoizedState,s);if(l&&(o.memoizedState=s,nt=!0),o=o.queue,Iu(Xf.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||Re!==null&&Re.memoizedState.tag&1){if(i.flags|=2048,Hr(9,Qf.bind(null,i,o,s,t),void 0,null),Fe===null)throw Error(R(349));Jn&30||qf(i,t,s)}return s}function qf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Qf(e,t,i,o){t.value=i,t.getSnapshot=o,ep(t)&&tp(e)}function Xf(e,t,i){return i(function(){ep(t)&&tp(e)})}function ep(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ot(e,i)}catch{return!0}}function tp(e){var t=sn(e,1);t!==null&&At(t,e,1,-1)}function $d(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t.queue=e,e=e.dispatch=Lv.bind(null,Pe,e),[t.memoizedState,e]}function Hr(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function np(){return kt().memoizedState}function Jo(e,t,i,o){var s=Wt();Pe.flags|=e,s.memoizedState=Hr(1|t,i,void 0,o===void 0?null:o)}function Ds(e,t,i,o){var s=kt();o=o===void 0?null:o;var l=void 0;if(je!==null){var c=je.memoizedState;if(l=c.destroy,o!==null&&Au(o,c.deps)){s.memoizedState=Hr(t,i,l,o);return}}Pe.flags|=e,s.memoizedState=Hr(1|t,i,l,o)}function Gd(e,t){return Jo(8390656,8,e,t)}function Iu(e,t){return Ds(2048,8,e,t)}function ip(e,t){return Ds(4,2,e,t)}function rp(e,t){return Ds(4,4,e,t)}function op(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sp(e,t,i){return i=i!=null?i.concat([e]):null,Ds(4,4,op.bind(null,t,e),i)}function Du(){}function ap(e,t){var i=kt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Au(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function lp(e,t){var i=kt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Au(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function up(e,t,i){return Jn&21?(Ot(i,t)||(i=pf(),Pe.lanes|=i,Yn|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=i)}function Tv(e,t){var i=me;me=i!==0&&4>i?i:4,e(!0);var o=$a.transition;$a.transition={};try{e(!1),t()}finally{me=i,$a.transition=o}}function cp(){return kt().memoizedState}function Ev(e,t,i){var o=Nn(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},dp(e))hp(t,i);else if(i=Kf(e,t,i,o),i!==null){var s=qe();At(i,e,o,s),fp(i,t,o)}}function Lv(e,t,i){var o=Nn(e),s={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(dp(e))hp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,f=l(c,i);if(s.hasEagerState=!0,s.eagerState=f,Ot(f,c)){var p=t.interleaved;p===null?(s.next=s,Tu(t)):(s.next=p.next,p.next=s),t.interleaved=s;return}}catch{}finally{}i=Kf(e,t,s,o),i!==null&&(s=qe(),At(i,e,o,s),fp(i,t,o))}}function dp(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function hp(e,t){br=ys=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function fp(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,pu(e,i)}}var xs={readContext:St,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},zv={readContext:St,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Gd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Jo(4194308,4,op.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jo(4,2,e,t)},useMemo:function(e,t){var i=Wt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Wt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Ev.bind(null,Pe,e),[o.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:Du,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=Tv.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Pe,s=Wt();if(we){if(i===void 0)throw Error(R(407));i=i()}else{if(i=t(),Fe===null)throw Error(R(349));Jn&30||qf(o,t,i)}s.memoizedState=i;var l={value:i,getSnapshot:t};return s.queue=l,Gd(Xf.bind(null,o,l,e),[e]),o.flags|=2048,Hr(9,Qf.bind(null,o,l,i,t),void 0,null),i},useId:function(){var e=Wt(),t=Fe.identifierPrefix;if(we){var i=tn,o=en;i=(o&~(1<<32-Mt(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Zr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Nv++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mv={readContext:St,useCallback:ap,useContext:St,useEffect:Iu,useImperativeHandle:sp,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:lp,useReducer:Ga,useRef:np,useState:function(){return Ga(Ur)},useDebugValue:Du,useDeferredValue:function(e){var t=kt();return up(t,je.memoizedState,e)},useTransition:function(){var e=Ga(Ur)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Yf,useId:cp,unstable_isNewReconciler:!1},Av={readContext:St,useCallback:ap,useContext:St,useEffect:Iu,useImperativeHandle:sp,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:lp,useReducer:Ja,useRef:np,useState:function(){return Ja(Ur)},useDebugValue:Du,useDeferredValue:function(e){var t=kt();return je===null?t.memoizedState=e:up(t,je.memoizedState,e)},useTransition:function(){var e=Ja(Ur)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:Yf,useId:cp,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Ol(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:Ce({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Rs={isMounted:function(e){return(e=e._reactInternals)?Xn(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=qe(),s=Nn(e),l=nn(o,s);l.payload=t,i!=null&&(l.callback=i),t=Pn(e,l,s),t!==null&&(At(t,e,s,o),$o(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=qe(),s=Nn(e),l=nn(o,s);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=Pn(e,l,s),t!==null&&(At(t,e,s,o),$o(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=qe(),o=Nn(e),s=nn(i,o);s.tag=2,t!=null&&(s.callback=t),t=Pn(e,s,o),t!==null&&(At(t,e,o,i),$o(t,e,o))}};function Jd(e,t,i,o,s,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,l,c):t.prototype&&t.prototype.isPureReactComponent?!Or(i,o)||!Or(s,l):!0}function pp(e,t,i){var o=!1,s=Ln,l=t.contextType;return typeof l=="object"&&l!==null?l=St(l):(s=rt(t)?$n:Ge.current,o=t.contextTypes,l=(o=o!=null)?Ai(e,s):Ln),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Yd(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Rs.enqueueReplaceState(t,t.state,null)}function Il(e,t,i,o){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs={},Eu(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=St(l):(l=rt(t)?$n:Ge.current,s.context=Ai(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ol(e,t,l,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Rs.enqueueReplaceState(s,s.state,null),vs(e,i,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Di(e,t){try{var i="",o=t;do i+=ag(o),o=o.return;while(o);var s=i}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ya(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Dl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var jv=typeof WeakMap=="function"?WeakMap:Map;function mp(e,t,i){i=nn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Ss||(Ss=!0,$l=o),Dl(e,t)},i}function gp(e,t,i){i=nn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;i.payload=function(){return o(s)},i.callback=function(){Dl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){Dl(e,t),typeof o!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),i}function qd(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new jv;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(i)||(s.add(i),e=Gv.bind(null,e,t,i),t.then(e,e))}function Qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xd(e,t,i,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=nn(-1,1),t.tag=2,Pn(i,t,1))),i.lanes|=1),e)}var Ov=ln.ReactCurrentOwner,nt=!1;function Ye(e,t,i,o){t.child=e===null?Vf(t,null,i,o):Oi(t,e.child,i,o)}function eh(e,t,i,o,s){i=i.render;var l=t.ref;return Ti(t,s),o=ju(e,t,i,o,l,s),i=Ou(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,an(e,t,s)):(we&&i&&Su(t),t.flags|=1,Ye(e,t,o,s),t.child)}function th(e,t,i,o,s){if(e===null){var l=i.type;return typeof l=="function"&&!Vu(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,vp(e,t,l,o,s)):(e=Xo(i.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var c=l.memoizedProps;if(i=i.compare,i=i!==null?i:Or,i(c,o)&&e.ref===t.ref)return an(e,t,s)}return t.flags|=1,e=Tn(l,o),e.ref=t.ref,e.return=t,t.child=e}function vp(e,t,i,o,s){if(e!==null){var l=e.memoizedProps;if(Or(l,o)&&e.ref===t.ref)if(nt=!1,t.pendingProps=o=l,(e.lanes&s)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,an(e,t,s)}return Rl(e,t,i,o,s)}function _p(e,t,i){var o=t.pendingProps,s=o.children,l=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(ki,lt),lt|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(ki,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=l!==null?l.baseLanes:i,_e(ki,lt),lt|=o}else l!==null?(o=l.baseLanes|i,t.memoizedState=null):o=i,_e(ki,lt),lt|=o;return Ye(e,t,s,i),t.child}function yp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Rl(e,t,i,o,s){var l=rt(i)?$n:Ge.current;return l=Ai(t,l),Ti(t,s),i=ju(e,t,i,o,l,s),o=Ou(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,an(e,t,s)):(we&&o&&Su(t),t.flags|=1,Ye(e,t,i,s),t.child)}function nh(e,t,i,o,s){if(rt(i)){var l=!0;hs(t)}else l=!1;if(Ti(t,s),t.stateNode===null)Yo(e,t),pp(t,i,o),Il(t,i,o,s),o=!0;else if(e===null){var c=t.stateNode,f=t.memoizedProps;c.props=f;var p=c.context,g=i.contextType;typeof g=="object"&&g!==null?g=St(g):(g=rt(i)?$n:Ge.current,g=Ai(t,g));var S=i.getDerivedStateFromProps,x=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function";x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==o||p!==g)&&Yd(t,c,o,g),mn=!1;var k=t.memoizedState;c.state=k,vs(t,o,c,s),p=t.memoizedState,f!==o||k!==p||it.current||mn?(typeof S=="function"&&(Ol(t,i,S,o),p=t.memoizedState),(f=mn||Jd(t,i,f,o,k,p,g))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=p),c.props=o,c.state=p,c.context=g,o=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{c=t.stateNode,$f(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:Et(t.type,f),c.props=g,x=t.pendingProps,k=c.context,p=i.contextType,typeof p=="object"&&p!==null?p=St(p):(p=rt(i)?$n:Ge.current,p=Ai(t,p));var C=i.getDerivedStateFromProps;(S=typeof C=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==x||k!==p)&&Yd(t,c,o,p),mn=!1,k=t.memoizedState,c.state=k,vs(t,o,c,s);var M=t.memoizedState;f!==x||k!==M||it.current||mn?(typeof C=="function"&&(Ol(t,i,C,o),M=t.memoizedState),(g=mn||Jd(t,i,g,o,k,M,p)||!1)?(S||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(o,M,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(o,M,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=M),c.props=o,c.state=M,c.context=p,o=g):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),o=!1)}return Fl(e,t,i,o,l,s)}function Fl(e,t,i,o,s,l){yp(e,t);var c=(t.flags&128)!==0;if(!o&&!c)return s&&Zd(t,i,!1),an(e,t,l);o=t.stateNode,Ov.current=t;var f=c&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&c?(t.child=Oi(t,e.child,null,l),t.child=Oi(t,null,f,l)):Ye(e,t,f,l),t.memoizedState=o.state,s&&Zd(t,i,!0),t.child}function xp(e){var t=e.stateNode;t.pendingContext?Bd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bd(e,t.context,!1),Lu(e,t.containerInfo)}function ih(e,t,i,o,s){return ji(),bu(s),t.flags|=256,Ye(e,t,i,o),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function wp(e,t,i){var o=t.pendingProps,s=be.current,l=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(s&2)!==0),f?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(be,s&1),e===null)return Al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=o.children,e=o.fallback,l?(o=t.mode,l=t.child,c={mode:"hidden",children:c},!(o&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=Zs(c,o,0,null),e=Kn(e,o,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Zl(i),t.memoizedState=Bl,e):Ru(t,c));if(s=e.memoizedState,s!==null&&(f=s.dehydrated,f!==null))return Iv(e,t,c,o,f,s,i);if(l){l=o.fallback,c=t.mode,s=e.child,f=s.sibling;var p={mode:"hidden",children:o.children};return!(c&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=p,t.deletions=null):(o=Tn(s,p),o.subtreeFlags=s.subtreeFlags&14680064),f!==null?l=Tn(f,l):(l=Kn(l,c,i,null),l.flags|=2),l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,c=e.child.memoizedState,c=c===null?Zl(i):{baseLanes:c.baseLanes|i,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~i,t.memoizedState=Bl,o}return l=e.child,e=l.sibling,o=Tn(l,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Ru(e,t){return t=Zs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jo(e,t,i,o){return o!==null&&bu(o),Oi(t,e.child,null,i),e=Ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iv(e,t,i,o,s,l,c){if(i)return t.flags&256?(t.flags&=-257,o=Ya(Error(R(422))),jo(e,t,c,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=o.fallback,s=t.mode,o=Zs({mode:"visible",children:o.children},s,0,null),l=Kn(l,s,c,null),l.flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,t.mode&1&&Oi(t,e.child,null,c),t.child.memoizedState=Zl(c),t.memoizedState=Bl,l);if(!(t.mode&1))return jo(e,t,c,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var f=o.dgst;return o=f,l=Error(R(419)),o=Ya(l,o,void 0),jo(e,t,c,o)}if(f=(c&e.childLanes)!==0,nt||f){if(o=Fe,o!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|c)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,sn(e,s),At(o,e,s,-1))}return Wu(),o=Ya(Error(R(421))),jo(e,t,c,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Jv.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ut=bn(s.nextSibling),ct=t,we=!0,zt=null,e!==null&&(_t[yt++]=en,_t[yt++]=tn,_t[yt++]=Gn,en=e.id,tn=e.overflow,Gn=t),t=Ru(t,o.children),t.flags|=4096,t)}function rh(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),jl(e.return,t,i)}function qa(e,t,i,o,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=i,l.tailMode=s)}function Sp(e,t,i){var o=t.pendingProps,s=o.revealOrder,l=o.tail;if(Ye(e,t,o.children,i),o=be.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rh(e,i,t);else if(e.tag===19)rh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(_e(be,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&_s(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),qa(t,!1,s,i,l);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_s(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}qa(t,!0,i,null,l);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,i=Tn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Tn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Dv(e,t,i){switch(t.tag){case 3:xp(t),ji();break;case 5:Gf(t);break;case 1:rt(t.type)&&hs(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;_e(ms,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(_e(be,be.current&1),t.flags|=128,null):i&t.child.childLanes?wp(e,t,i):(_e(be,be.current&1),e=an(e,t,i),e!==null?e.sibling:null);_e(be,be.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return Sp(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(be,be.current),o)break;return null;case 22:case 23:return t.lanes=0,_p(e,t,i)}return an(e,t,i)}var kp,Ul,bp,Pp;kp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Ul=function(){};bp=function(e,t,i,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,Wn($t.current);var l=null;switch(i){case"input":s=cl(e,s),o=cl(e,o),l=[];break;case"select":s=Ce({},s,{value:void 0}),o=Ce({},o,{value:void 0}),l=[];break;case"textarea":s=fl(e,s),o=fl(e,o),l=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=cs)}ml(i,o);var c;i=null;for(g in s)if(!o.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var f=s[g];for(c in f)f.hasOwnProperty(c)&&(i||(i={}),i[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Tr.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in o){var p=o[g];if(f=s!=null?s[g]:void 0,o.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(c in f)!f.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(i||(i={}),i[c]="");for(c in p)p.hasOwnProperty(c)&&f[c]!==p[c]&&(i||(i={}),i[c]=p[c])}else i||(l||(l=[]),l.push(g,i)),i=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(l=l||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(l=l||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Tr.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&ye("scroll",e),l||f===p||(l=[])):(l=l||[]).push(g,p))}i&&(l=l||[]).push("style",i);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Pp=function(e,t,i,o){i!==o&&(t.flags|=4)};function fr(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Rv(e,t,i){var o=t.pendingProps;switch(ku(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return rt(t.type)&&ds(),Ke(t),null;case 3:return o=t.stateNode,Ii(),xe(it),xe(Ge),Mu(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Yl(zt),zt=null))),Ul(e,t),Ke(t),null;case 5:zu(t);var s=Wn(Br.current);if(i=t.type,e!==null&&t.stateNode!=null)bp(e,t,i,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(R(166));return Ke(t),null}if(e=Wn($t.current),Mo(t)){o=t.stateNode,i=t.type;var l=t.memoizedProps;switch(o[Vt]=t,o[Rr]=l,e=(t.mode&1)!==0,i){case"dialog":ye("cancel",o),ye("close",o);break;case"iframe":case"object":case"embed":ye("load",o);break;case"video":case"audio":for(s=0;s<_r.length;s++)ye(_r[s],o);break;case"source":ye("error",o);break;case"img":case"image":case"link":ye("error",o),ye("load",o);break;case"details":ye("toggle",o);break;case"input":fd(o,l),ye("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},ye("invalid",o);break;case"textarea":md(o,l),ye("invalid",o)}ml(i,l),s=null;for(var c in l)if(l.hasOwnProperty(c)){var f=l[c];c==="children"?typeof f=="string"?o.textContent!==f&&(l.suppressHydrationWarning!==!0&&zo(o.textContent,f,e),s=["children",f]):typeof f=="number"&&o.textContent!==""+f&&(l.suppressHydrationWarning!==!0&&zo(o.textContent,f,e),s=["children",""+f]):Tr.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&ye("scroll",o)}switch(i){case"input":ko(o),pd(o,l,!0);break;case"textarea":ko(o),gd(o);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(o.onclick=cs)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qh(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=c.createElement(i,{is:o.is}):(e=c.createElement(i),i==="select"&&(c=e,o.multiple?c.multiple=!0:o.size&&(c.size=o.size))):e=c.createElementNS(e,i),e[Vt]=t,e[Rr]=o,kp(e,t,!1,!1),t.stateNode=e;e:{switch(c=gl(i,o),i){case"dialog":ye("cancel",e),ye("close",e),s=o;break;case"iframe":case"object":case"embed":ye("load",e),s=o;break;case"video":case"audio":for(s=0;s<_r.length;s++)ye(_r[s],e);s=o;break;case"source":ye("error",e),s=o;break;case"img":case"image":case"link":ye("error",e),ye("load",e),s=o;break;case"details":ye("toggle",e),s=o;break;case"input":fd(e,o),s=cl(e,o),ye("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=Ce({},o,{value:void 0}),ye("invalid",e);break;case"textarea":md(e,o),s=fl(e,o),ye("invalid",e);break;default:s=o}ml(i,s),f=s;for(l in f)if(f.hasOwnProperty(l)){var p=f[l];l==="style"?tf(e,p):l==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Xh(e,p)):l==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&Er(e,p):typeof p=="number"&&Er(e,""+p):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Tr.hasOwnProperty(l)?p!=null&&l==="onScroll"&&ye("scroll",e):p!=null&&lu(e,l,p,c))}switch(i){case"input":ko(e),pd(e,o,!1);break;case"textarea":ko(e),gd(e);break;case"option":o.value!=null&&e.setAttribute("value",""+En(o.value));break;case"select":e.multiple=!!o.multiple,l=o.value,l!=null?bi(e,!!o.multiple,l,!1):o.defaultValue!=null&&bi(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cs)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Pp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(R(166));if(i=Wn(Br.current),Wn($t.current),Mo(t)){if(o=t.stateNode,i=t.memoizedProps,o[Vt]=t,(l=o.nodeValue!==i)&&(e=ct,e!==null))switch(e.tag){case 3:zo(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zo(o.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Vt]=t,t.stateNode=o}return Ke(t),null;case 13:if(xe(be),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&ut!==null&&t.mode&1&&!(t.flags&128))Hf(),ji(),t.flags|=98560,l=!1;else if(l=Mo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[Vt]=t}else ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),l=!1}else zt!==null&&(Yl(zt),zt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Oe===0&&(Oe=3):Wu())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Ii(),Ul(e,t),e===null&&Ir(t.stateNode.containerInfo),Ke(t),null;case 10:return Nu(t.type._context),Ke(t),null;case 17:return rt(t.type)&&ds(),Ke(t),null;case 19:if(xe(be),l=t.memoizedState,l===null)return Ke(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)fr(l,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=_s(e),c!==null){for(t.flags|=128,fr(l,!1),o=c.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)l=i,e=o,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return _e(be,be.current&1|2),t.child}e=e.sibling}l.tail!==null&&Le()>Ri&&(t.flags|=128,o=!0,fr(l,!1),t.lanes=4194304)}else{if(!o)if(e=_s(c),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),fr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!we)return Ke(t),null}else 2*Le()-l.renderingStartTime>Ri&&i!==1073741824&&(t.flags|=128,o=!0,fr(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(i=l.last,i!==null?i.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Le(),t.sibling=null,i=be.current,_e(be,o?i&1|2:i&1),t):(Ke(t),null);case 22:case 23:return Hu(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?lt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Fv(e,t){switch(ku(t),t.tag){case 1:return rt(t.type)&&ds(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ii(),xe(it),xe(Ge),Mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zu(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return Ii(),null;case 10:return Nu(t.type._context),null;case 22:case 23:return Hu(),null;case 24:return null;default:return null}}var Oo=!1,$e=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,U=null;function Si(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ne(e,t,o)}else i.current=null}function Hl(e,t,i){try{i()}catch(o){Ne(e,t,o)}}var oh=!1;function Zv(e,t){if(Cl=as,e=Lf(),wu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var s=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var c=0,f=-1,p=-1,g=0,S=0,x=e,k=null;t:for(;;){for(var C;x!==i||s!==0&&x.nodeType!==3||(f=c+s),x!==l||o!==0&&x.nodeType!==3||(p=c+o),x.nodeType===3&&(c+=x.nodeValue.length),(C=x.firstChild)!==null;)k=x,x=C;for(;;){if(x===e)break t;if(k===i&&++g===s&&(f=c),k===l&&++S===o&&(p=c),(C=x.nextSibling)!==null)break;x=k,k=x.parentNode}x=C}i=f===-1||p===-1?null:{start:f,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(Nl={focusedElem:e,selectionRange:i},as=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var M=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var T=M.memoizedProps,V=M.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?T:Et(t.type,T),V);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(j){Ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return M=oh,oh=!1,M}function Pr(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Hl(t,i,l)}s=s.next}while(s!==o)}}function Fs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Wl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Cp(e){var t=e.alternate;t!==null&&(e.alternate=null,Cp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[Rr],delete t[Ll],delete t[kv],delete t[bv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Np(e){return e.tag===5||e.tag===3||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=cs));else if(o!==4&&(e=e.child,e!==null))for(Vl(e,t,i),e=e.sibling;e!==null;)Vl(e,t,i),e=e.sibling}function Kl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Kl(e,t,i),e=e.sibling;e!==null;)Kl(e,t,i),e=e.sibling}var Ue=null,Lt=!1;function hn(e,t,i){for(i=i.child;i!==null;)Tp(e,t,i),i=i.sibling}function Tp(e,t,i){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(zs,i)}catch{}switch(i.tag){case 5:$e||Si(i,t);case 6:var o=Ue,s=Lt;Ue=null,hn(e,t,i),Ue=o,Lt=s,Ue!==null&&(Lt?(e=Ue,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ue.removeChild(i.stateNode));break;case 18:Ue!==null&&(Lt?(e=Ue,i=i.stateNode,e.nodeType===8?Wa(e.parentNode,i):e.nodeType===1&&Wa(e,i),Ar(e)):Wa(Ue,i.stateNode));break;case 4:o=Ue,s=Lt,Ue=i.stateNode.containerInfo,Lt=!0,hn(e,t,i),Ue=o,Lt=s;break;case 0:case 11:case 14:case 15:if(!$e&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var l=s,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&Hl(i,t,c),s=s.next}while(s!==o)}hn(e,t,i);break;case 1:if(!$e&&(Si(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(f){Ne(i,t,f)}hn(e,t,i);break;case 21:hn(e,t,i);break;case 22:i.mode&1?($e=(o=$e)||i.memoizedState!==null,hn(e,t,i),$e=o):hn(e,t,i);break;default:hn(e,t,i)}}function ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Bv),t.forEach(function(o){var s=Yv.bind(null,e,o);i.has(o)||(i.add(o),o.then(s,s))})}}function Tt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];try{var l=e,c=t,f=c;e:for(;f!==null;){switch(f.tag){case 5:Ue=f.stateNode,Lt=!1;break e;case 3:Ue=f.stateNode.containerInfo,Lt=!0;break e;case 4:Ue=f.stateNode.containerInfo,Lt=!0;break e}f=f.return}if(Ue===null)throw Error(R(160));Tp(l,c,s),Ue=null,Lt=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(g){Ne(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ep(t,e),t=t.sibling}function Ep(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Ht(e),o&4){try{Pr(3,e,e.return),Fs(3,e)}catch(T){Ne(e,e.return,T)}try{Pr(5,e,e.return)}catch(T){Ne(e,e.return,T)}}break;case 1:Tt(t,e),Ht(e),o&512&&i!==null&&Si(i,i.return);break;case 5:if(Tt(t,e),Ht(e),o&512&&i!==null&&Si(i,i.return),e.flags&32){var s=e.stateNode;try{Er(s,"")}catch(T){Ne(e,e.return,T)}}if(o&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,c=i!==null?i.memoizedProps:l,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&l.type==="radio"&&l.name!=null&&Yh(s,l),gl(f,c);var g=gl(f,l);for(c=0;c<p.length;c+=2){var S=p[c],x=p[c+1];S==="style"?tf(s,x):S==="dangerouslySetInnerHTML"?Xh(s,x):S==="children"?Er(s,x):lu(s,S,x,g)}switch(f){case"input":dl(s,l);break;case"textarea":qh(s,l);break;case"select":var k=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var C=l.value;C!=null?bi(s,!!l.multiple,C,!1):k!==!!l.multiple&&(l.defaultValue!=null?bi(s,!!l.multiple,l.defaultValue,!0):bi(s,!!l.multiple,l.multiple?[]:"",!1))}s[Rr]=l}catch(T){Ne(e,e.return,T)}}break;case 6:if(Tt(t,e),Ht(e),o&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(T){Ne(e,e.return,T)}}break;case 3:if(Tt(t,e),Ht(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(T){Ne(e,e.return,T)}break;case 4:Tt(t,e),Ht(e);break;case 13:Tt(t,e),Ht(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Zu=Le())),o&4&&ah(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?($e=(g=$e)||S,Tt(t,e),$e=g):Tt(t,e),Ht(e),o&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!S&&e.mode&1)for(U=e,S=e.child;S!==null;){for(x=U=S;U!==null;){switch(k=U,C=k.child,k.tag){case 0:case 11:case 14:case 15:Pr(4,k,k.return);break;case 1:Si(k,k.return);var M=k.stateNode;if(typeof M.componentWillUnmount=="function"){o=k,i=k.return;try{t=o,M.props=t.memoizedProps,M.state=t.memoizedState,M.componentWillUnmount()}catch(T){Ne(o,i,T)}}break;case 5:Si(k,k.return);break;case 22:if(k.memoizedState!==null){uh(x);continue}}C!==null?(C.return=k,U=C):uh(x)}S=S.sibling}e:for(S=null,x=e;;){if(x.tag===5){if(S===null){S=x;try{s=x.stateNode,g?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(f=x.stateNode,p=x.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=ef("display",c))}catch(T){Ne(e,e.return,T)}}}else if(x.tag===6){if(S===null)try{x.stateNode.nodeValue=g?"":x.memoizedProps}catch(T){Ne(e,e.return,T)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;S===x&&(S=null),x=x.return}S===x&&(S=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Tt(t,e),Ht(e),o&4&&ah(e);break;case 21:break;default:Tt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Np(i)){var o=i;break e}i=i.return}throw Error(R(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(Er(s,""),o.flags&=-33);var l=sh(e);Kl(e,l,s);break;case 3:case 4:var c=o.stateNode.containerInfo,f=sh(e);Vl(e,f,c);break;default:throw Error(R(161))}}catch(p){Ne(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uv(e,t,i){U=e,Lp(e)}function Lp(e,t,i){for(var o=(e.mode&1)!==0;U!==null;){var s=U,l=s.child;if(s.tag===22&&o){var c=s.memoizedState!==null||Oo;if(!c){var f=s.alternate,p=f!==null&&f.memoizedState!==null||$e;f=Oo;var g=$e;if(Oo=c,($e=p)&&!g)for(U=s;U!==null;)c=U,p=c.child,c.tag===22&&c.memoizedState!==null?ch(s):p!==null?(p.return=c,U=p):ch(s);for(;l!==null;)U=l,Lp(l),l=l.sibling;U=s,Oo=f,$e=g}lh(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,U=l):lh(e)}}function lh(e){for(;U!==null;){var t=U;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||Fs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!$e)if(i===null)o.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:Et(t.type,i.memoizedProps);o.componentDidUpdate(s,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Kd(t,l,o);break;case 3:var c=t.updateQueue;if(c!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Kd(t,c,i)}break;case 5:var f=t.stateNode;if(i===null&&t.flags&4){i=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var x=S.dehydrated;x!==null&&Ar(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}$e||t.flags&512&&Wl(t)}catch(k){Ne(t,t.return,k)}}if(t===e){U=null;break}if(i=t.sibling,i!==null){i.return=t.return,U=i;break}U=t.return}}function uh(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var i=t.sibling;if(i!==null){i.return=t.return,U=i;break}U=t.return}}function ch(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Fs(4,t)}catch(p){Ne(t,i,p)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(p){Ne(t,s,p)}}var l=t.return;try{Wl(t)}catch(p){Ne(t,l,p)}break;case 5:var c=t.return;try{Wl(t)}catch(p){Ne(t,c,p)}}}catch(p){Ne(t,t.return,p)}if(t===e){U=null;break}var f=t.sibling;if(f!==null){f.return=t.return,U=f;break}U=t.return}}var Hv=Math.ceil,ws=ln.ReactCurrentDispatcher,Fu=ln.ReactCurrentOwner,wt=ln.ReactCurrentBatchConfig,de=0,Fe=null,Ae=null,He=0,lt=0,ki=An(0),Oe=0,Wr=null,Yn=0,Bs=0,Bu=0,Cr=null,tt=null,Zu=0,Ri=1/0,Qt=null,Ss=!1,$l=null,Cn=null,Io=!1,xn=null,ks=0,Nr=0,Gl=null,qo=-1,Qo=0;function qe(){return de&6?Le():qo!==-1?qo:qo=Le()}function Nn(e){return e.mode&1?de&2&&He!==0?He&-He:Cv.transition!==null?(Qo===0&&(Qo=pf()),Qo):(e=me,e!==0||(e=window.event,e=e===void 0?16:wf(e.type)),e):1}function At(e,t,i,o){if(50<Nr)throw Nr=0,Gl=null,Error(R(185));Yr(e,i,o),(!(de&2)||e!==Fe)&&(e===Fe&&(!(de&2)&&(Bs|=i),Oe===4&&vn(e,He)),ot(e,o),i===1&&de===0&&!(t.mode&1)&&(Ri=Le()+500,Is&&jn()))}function ot(e,t){var i=e.callbackNode;Cg(e,t);var o=ss(e,e===Fe?He:0);if(o===0)i!==null&&yd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&yd(i),t===1)e.tag===0?Pv(dh.bind(null,e)):Bf(dh.bind(null,e)),wv(function(){!(de&6)&&jn()}),i=null;else{switch(mf(o)){case 1:i=fu;break;case 4:i=hf;break;case 16:i=os;break;case 536870912:i=ff;break;default:i=os}i=Rp(i,zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function zp(e,t){if(qo=-1,Qo=0,de&6)throw Error(R(327));var i=e.callbackNode;if(Ei()&&e.callbackNode!==i)return null;var o=ss(e,e===Fe?He:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=bs(e,o);else{t=o;var s=de;de|=2;var l=Ap();(Fe!==e||He!==t)&&(Qt=null,Ri=Le()+500,Vn(e,t));do try{Kv();break}catch(f){Mp(e,f)}while(!0);Cu(),ws.current=l,de=s,Ae!==null?t=0:(Fe=null,He=0,t=Oe)}if(t!==0){if(t===2&&(s=wl(e),s!==0&&(o=s,t=Jl(e,s))),t===1)throw i=Wr,Vn(e,0),vn(e,o),ot(e,Le()),i;if(t===6)vn(e,o);else{if(s=e.current.alternate,!(o&30)&&!Wv(s)&&(t=bs(e,o),t===2&&(l=wl(e),l!==0&&(o=l,t=Jl(e,l))),t===1))throw i=Wr,Vn(e,0),vn(e,o),ot(e,Le()),i;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(R(345));case 2:Zn(e,tt,Qt);break;case 3:if(vn(e,o),(o&130023424)===o&&(t=Zu+500-Le(),10<t)){if(ss(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=El(Zn.bind(null,e,tt,Qt),t);break}Zn(e,tt,Qt);break;case 4:if(vn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var c=31-Mt(o);l=1<<c,c=t[c],c>s&&(s=c),o&=~l}if(o=s,o=Le()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Hv(o/1960))-o,10<o){e.timeoutHandle=El(Zn.bind(null,e,tt,Qt),o);break}Zn(e,tt,Qt);break;case 5:Zn(e,tt,Qt);break;default:throw Error(R(329))}}}return ot(e,Le()),e.callbackNode===i?zp.bind(null,e):null}function Jl(e,t){var i=Cr;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=bs(e,t),e!==2&&(t=tt,tt=i,t!==null&&Yl(t)),e}function Yl(e){tt===null?tt=e:tt.push.apply(tt,e)}function Wv(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var s=i[o],l=s.getSnapshot;s=s.value;try{if(!Ot(l(),s))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~Bu,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Mt(t),o=1<<i;e[i]=-1,t&=~o}}function dh(e){if(de&6)throw Error(R(327));Ei();var t=ss(e,0);if(!(t&1))return ot(e,Le()),null;var i=bs(e,t);if(e.tag!==0&&i===2){var o=wl(e);o!==0&&(t=o,i=Jl(e,o))}if(i===1)throw i=Wr,Vn(e,0),vn(e,t),ot(e,Le()),i;if(i===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,tt,Qt),ot(e,Le()),null}function Uu(e,t){var i=de;de|=1;try{return e(t)}finally{de=i,de===0&&(Ri=Le()+500,Is&&jn())}}function qn(e){xn!==null&&xn.tag===0&&!(de&6)&&Ei();var t=de;de|=1;var i=wt.transition,o=me;try{if(wt.transition=null,me=1,e)return e()}finally{me=o,wt.transition=i,de=t,!(de&6)&&jn()}}function Hu(){lt=ki.current,xe(ki)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,xv(i)),Ae!==null)for(i=Ae.return;i!==null;){var o=i;switch(ku(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ds();break;case 3:Ii(),xe(it),xe(Ge),Mu();break;case 5:zu(o);break;case 4:Ii();break;case 13:xe(be);break;case 19:xe(be);break;case 10:Nu(o.type._context);break;case 22:case 23:Hu()}i=i.return}if(Fe=e,Ae=e=Tn(e.current,null),He=lt=t,Oe=0,Wr=null,Bu=Bs=Yn=0,tt=Cr=null,Hn!==null){for(t=0;t<Hn.length;t++)if(i=Hn[t],o=i.interleaved,o!==null){i.interleaved=null;var s=o.next,l=i.pending;if(l!==null){var c=l.next;l.next=s,o.next=c}i.pending=o}Hn=null}return e}function Mp(e,t){do{var i=Ae;try{if(Cu(),Go.current=xs,ys){for(var o=Pe.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}ys=!1}if(Jn=0,Re=je=Pe=null,br=!1,Zr=0,Fu.current=null,i===null||i.return===null){Oe=1,Wr=t,Ae=null;break}e:{var l=e,c=i.return,f=i,p=t;if(t=He,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,S=f,x=S.tag;if(!(S.mode&1)&&(x===0||x===11||x===15)){var k=S.alternate;k?(S.updateQueue=k.updateQueue,S.memoizedState=k.memoizedState,S.lanes=k.lanes):(S.updateQueue=null,S.memoizedState=null)}var C=Qd(c);if(C!==null){C.flags&=-257,Xd(C,c,f,l,t),C.mode&1&&qd(l,g,t),t=C,p=g;var M=t.updateQueue;if(M===null){var T=new Set;T.add(p),t.updateQueue=T}else M.add(p);break e}else{if(!(t&1)){qd(l,g,t),Wu();break e}p=Error(R(426))}}else if(we&&f.mode&1){var V=Qd(c);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Xd(V,c,f,l,t),bu(Di(p,f));break e}}l=p=Di(p,f),Oe!==4&&(Oe=2),Cr===null?Cr=[l]:Cr.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var v=mp(l,p,t);Vd(l,v);break e;case 1:f=p;var y=l.type,w=l.stateNode;if(!(l.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cn===null||!Cn.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=gp(l,f,t);Vd(l,j);break e}}l=l.return}while(l!==null)}Op(i)}catch(I){t=I,Ae===i&&i!==null&&(Ae=i=i.return);continue}break}while(!0)}function Ap(){var e=ws.current;return ws.current=xs,e===null?xs:e}function Wu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(Yn&268435455)&&!(Bs&268435455)||vn(Fe,He)}function bs(e,t){var i=de;de|=2;var o=Ap();(Fe!==e||He!==t)&&(Qt=null,Vn(e,t));do try{Vv();break}catch(s){Mp(e,s)}while(!0);if(Cu(),de=i,ws.current=o,Ae!==null)throw Error(R(261));return Fe=null,He=0,Oe}function Vv(){for(;Ae!==null;)jp(Ae)}function Kv(){for(;Ae!==null&&!vg();)jp(Ae)}function jp(e){var t=Dp(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Op(e):Ae=t,Fu.current=null}function Op(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Fv(i,t),i!==null){i.flags&=32767,Ae=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Ae=null;return}}else if(i=Rv(i,t,lt),i!==null){Ae=i;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Oe===0&&(Oe=5)}function Zn(e,t,i){var o=me,s=wt.transition;try{wt.transition=null,me=1,$v(e,t,i,o)}finally{wt.transition=s,me=o}return null}function $v(e,t,i,o){do Ei();while(xn!==null);if(de&6)throw Error(R(327));i=e.finishedWork;var s=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(Ng(e,l),e===Fe&&(Ae=Fe=null,He=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Io||(Io=!0,Rp(os,function(){return Ei(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=wt.transition,wt.transition=null;var c=me;me=1;var f=de;de|=4,Fu.current=null,Zv(e,i),Ep(i,e),fv(Nl),as=!!Cl,Nl=Cl=null,e.current=i,Uv(i),_g(),de=f,me=c,wt.transition=l}else e.current=i;if(Io&&(Io=!1,xn=e,ks=s),l=e.pendingLanes,l===0&&(Cn=null),wg(i.stateNode),ot(e,Le()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],o(s.value,{componentStack:s.stack,digest:s.digest});if(Ss)throw Ss=!1,e=$l,$l=null,e;return ks&1&&e.tag!==0&&Ei(),l=e.pendingLanes,l&1?e===Gl?Nr++:(Nr=0,Gl=e):Nr=0,jn(),null}function Ei(){if(xn!==null){var e=mf(ks),t=wt.transition,i=me;try{if(wt.transition=null,me=16>e?16:e,xn===null)var o=!1;else{if(e=xn,xn=null,ks=0,de&6)throw Error(R(331));var s=de;for(de|=4,U=e.current;U!==null;){var l=U,c=l.child;if(U.flags&16){var f=l.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(U=g;U!==null;){var S=U;switch(S.tag){case 0:case 11:case 15:Pr(8,S,l)}var x=S.child;if(x!==null)x.return=S,U=x;else for(;U!==null;){S=U;var k=S.sibling,C=S.return;if(Cp(S),S===g){U=null;break}if(k!==null){k.return=C,U=k;break}U=C}}}var M=l.alternate;if(M!==null){var T=M.child;if(T!==null){M.child=null;do{var V=T.sibling;T.sibling=null,T=V}while(T!==null)}}U=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,U=c;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Pr(9,l,l.return)}var v=l.sibling;if(v!==null){v.return=l.return,U=v;break e}U=l.return}}var y=e.current;for(U=y;U!==null;){c=U;var w=c.child;if(c.subtreeFlags&2064&&w!==null)w.return=c,U=w;else e:for(c=y;U!==null;){if(f=U,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Fs(9,f)}}catch(I){Ne(f,f.return,I)}if(f===c){U=null;break e}var j=f.sibling;if(j!==null){j.return=f.return,U=j;break e}U=f.return}}if(de=s,jn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(zs,e)}catch{}o=!0}return o}finally{me=i,wt.transition=t}}return!1}function hh(e,t,i){t=Di(i,t),t=mp(e,t,1),e=Pn(e,t,1),t=qe(),e!==null&&(Yr(e,1,t),ot(e,t))}function Ne(e,t,i){if(e.tag===3)hh(e,e,i);else for(;t!==null;){if(t.tag===3){hh(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cn===null||!Cn.has(o))){e=Di(i,e),e=gp(t,e,1),t=Pn(t,e,1),e=qe(),t!==null&&(Yr(t,1,e),ot(t,e));break}}t=t.return}}function Gv(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&i,Fe===e&&(He&i)===i&&(Oe===4||Oe===3&&(He&130023424)===He&&500>Le()-Zu?Vn(e,0):Bu|=i),ot(e,t)}function Ip(e,t){t===0&&(e.mode&1?(t=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):t=1);var i=qe();e=sn(e,t),e!==null&&(Yr(e,t,i),ot(e,i))}function Jv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ip(e,i)}function Yv(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(t),Ip(e,i)}var Dp;Dp=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)nt=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return nt=!1,Dv(e,t,i);nt=!!(e.flags&131072)}else nt=!1,we&&t.flags&1048576&&Zf(t,ps,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Yo(e,t),e=t.pendingProps;var s=Ai(t,Ge.current);Ti(t,i),s=ju(null,t,o,e,s,i);var l=Ou();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(o)?(l=!0,hs(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eu(t),s.updater=Rs,t.stateNode=s,s._reactInternals=t,Il(t,o,e,i),t=Fl(null,t,o,!0,l,i)):(t.tag=0,we&&l&&Su(t),Ye(null,t,s,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=Qv(o),e=Et(o,e),s){case 0:t=Rl(null,t,o,e,i);break e;case 1:t=nh(null,t,o,e,i);break e;case 11:t=eh(null,t,o,e,i);break e;case 14:t=th(null,t,o,Et(o.type,e),i);break e}throw Error(R(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Et(o,s),Rl(e,t,o,s,i);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Et(o,s),nh(e,t,o,s,i);case 3:e:{if(xp(t),e===null)throw Error(R(387));o=t.pendingProps,l=t.memoizedState,s=l.element,$f(e,t),vs(t,o,null,i);var c=t.memoizedState;if(o=c.element,l.isDehydrated)if(l={element:o,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Di(Error(R(423)),t),t=ih(e,t,o,i,s);break e}else if(o!==s){s=Di(Error(R(424)),t),t=ih(e,t,o,i,s);break e}else for(ut=bn(t.stateNode.containerInfo.firstChild),ct=t,we=!0,zt=null,i=Vf(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ji(),o===s){t=an(e,t,i);break e}Ye(e,t,o,i)}t=t.child}return t;case 5:return Gf(t),e===null&&Al(t),o=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,c=s.children,Tl(o,s)?c=null:l!==null&&Tl(o,l)&&(t.flags|=32),yp(e,t),Ye(e,t,c,i),t.child;case 6:return e===null&&Al(t),null;case 13:return wp(e,t,i);case 4:return Lu(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Oi(t,null,o,i):Ye(e,t,o,i),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Et(o,s),eh(e,t,o,s,i);case 7:return Ye(e,t,t.pendingProps,i),t.child;case 8:return Ye(e,t,t.pendingProps.children,i),t.child;case 12:return Ye(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,l=t.memoizedProps,c=s.value,_e(ms,o._currentValue),o._currentValue=c,l!==null)if(Ot(l.value,c)){if(l.children===s.children&&!it.current){t=an(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var f=l.dependencies;if(f!==null){c=l.child;for(var p=f.firstContext;p!==null;){if(p.context===o){if(l.tag===1){p=nn(-1,i&-i),p.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var S=g.pending;S===null?p.next=p:(p.next=S.next,S.next=p),g.pending=p}}l.lanes|=i,p=l.alternate,p!==null&&(p.lanes|=i),jl(l.return,i,t),f.lanes|=i;break}p=p.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(R(341));c.lanes|=i,f=c.alternate,f!==null&&(f.lanes|=i),jl(c,i,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}Ye(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,Ti(t,i),s=St(s),o=o(s),t.flags|=1,Ye(e,t,o,i),t.child;case 14:return o=t.type,s=Et(o,t.pendingProps),s=Et(o.type,s),th(e,t,o,s,i);case 15:return vp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:Et(o,s),Yo(e,t),t.tag=1,rt(o)?(e=!0,hs(t)):e=!1,Ti(t,i),pp(t,o,s),Il(t,o,s,i),Fl(null,t,o,!0,e,i);case 19:return Sp(e,t,i);case 22:return _p(e,t,i)}throw Error(R(156,t.tag))};function Rp(e,t){return df(e,t)}function qv(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,i,o){return new qv(e,t,i,o)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qv(e){if(typeof e=="function")return Vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cu)return 11;if(e===du)return 14}return 2}function Tn(e,t){var i=e.alternate;return i===null?(i=xt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Xo(e,t,i,o,s,l){var c=2;if(o=e,typeof e=="function")Vu(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case fi:return Kn(i.children,s,l,t);case uu:c=8,s|=8;break;case sl:return e=xt(12,i,t,s|2),e.elementType=sl,e.lanes=l,e;case al:return e=xt(13,i,t,s),e.elementType=al,e.lanes=l,e;case ll:return e=xt(19,i,t,s),e.elementType=ll,e.lanes=l,e;case $h:return Zs(i,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vh:c=10;break e;case Kh:c=9;break e;case cu:c=11;break e;case du:c=14;break e;case pn:c=16,o=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=xt(c,i,t,s),t.elementType=e,t.type=o,t.lanes=l,t}function Kn(e,t,i,o){return e=xt(7,e,o,t),e.lanes=i,e}function Zs(e,t,i,o){return e=xt(22,e,o,t),e.elementType=$h,e.lanes=i,e.stateNode={isHidden:!1},e}function Qa(e,t,i){return e=xt(6,e,null,t),e.lanes=i,e}function Xa(e,t,i){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xv(e,t,i,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ku(e,t,i,o,s,l,c,f,p){return e=new Xv(e,t,i,f,p),t===1?(t=1,l===!0&&(t|=8)):t=0,l=xt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(l),e}function e_(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Fp(e){if(!e)return Ln;e=e._reactInternals;e:{if(Xn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var i=e.type;if(rt(i))return Ff(e,i,t)}return t}function Bp(e,t,i,o,s,l,c,f,p){return e=Ku(i,o,!0,e,s,l,c,f,p),e.context=Fp(null),i=e.current,o=qe(),s=Nn(i),l=nn(o,s),l.callback=t??null,Pn(i,l,s),e.current.lanes=s,Yr(e,s,o),ot(e,o),e}function Us(e,t,i,o){var s=t.current,l=qe(),c=Nn(s);return i=Fp(i),t.context===null?t.context=i:t.pendingContext=i,t=nn(l,c),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Pn(s,t,c),e!==null&&(At(e,s,c,l),$o(e,s,c)),c}function Ps(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function $u(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function t_(){return null}var Zp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}Hs.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Us(e,t,null,null)};Hs.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qn(function(){Us(null,e,null,null)}),t[on]=null}};function Hs(e){this._internalRoot=e}Hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=_f();e={blockedOn:null,target:e,priority:t};for(var i=0;i<gn.length&&t!==0&&t<gn[i].priority;i++);gn.splice(i,0,e),i===0&&xf(e)}};function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ph(){}function n_(e,t,i,o,s){if(s){if(typeof o=="function"){var l=o;o=function(){var g=Ps(c);l.call(g)}}var c=Bp(t,o,e,0,null,!1,!1,"",ph);return e._reactRootContainer=c,e[on]=c.current,Ir(e.nodeType===8?e.parentNode:e),qn(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var f=o;o=function(){var g=Ps(p);f.call(g)}}var p=Ku(e,0,!1,null,null,!1,!1,"",ph);return e._reactRootContainer=p,e[on]=p.current,Ir(e.nodeType===8?e.parentNode:e),qn(function(){Us(t,p,i,o)}),p}function Vs(e,t,i,o,s){var l=i._reactRootContainer;if(l){var c=l;if(typeof s=="function"){var f=s;s=function(){var p=Ps(c);f.call(p)}}Us(t,c,e,s)}else c=n_(i,t,e,s,o);return Ps(c)}gf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=vr(t.pendingLanes);i!==0&&(pu(t,i|1),ot(t,Le()),!(de&6)&&(Ri=Le()+500,jn()))}break;case 13:qn(function(){var o=sn(e,1);if(o!==null){var s=qe();At(o,e,1,s)}}),$u(e,1)}};mu=function(e){if(e.tag===13){var t=sn(e,134217728);if(t!==null){var i=qe();At(t,e,134217728,i)}$u(e,134217728)}};vf=function(e){if(e.tag===13){var t=Nn(e),i=sn(e,t);if(i!==null){var o=qe();At(i,e,t,o)}$u(e,t)}};_f=function(){return me};yf=function(e,t){var i=me;try{return me=e,t()}finally{me=i}};_l=function(e,t,i){switch(t){case"input":if(dl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var s=Os(o);if(!s)throw Error(R(90));Jh(o),dl(o,s)}}}break;case"textarea":qh(e,i);break;case"select":t=i.value,t!=null&&bi(e,!!i.multiple,t,!1)}};of=Uu;sf=qn;var i_={usingClientEntryPoint:!1,Events:[Qr,vi,Os,nf,rf,Uu]},pr={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r_={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uf(e),e===null?null:e.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||t_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{zs=Do.inject(r_),Kt=Do}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i_;ht.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(t))throw Error(R(200));return e_(e,t,null,i)};ht.createRoot=function(e,t){if(!Ju(e))throw Error(R(299));var i=!1,o="",s=Zp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ku(e,1,!1,null,null,i,!1,o,s),e[on]=t.current,Ir(e.nodeType===8?e.parentNode:e),new Gu(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=uf(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return qn(e)};ht.hydrate=function(e,t,i){if(!Ws(t))throw Error(R(200));return Vs(null,e,t,!0,i)};ht.hydrateRoot=function(e,t,i){if(!Ju(e))throw Error(R(405));var o=i!=null&&i.hydratedSources||null,s=!1,l="",c=Zp;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),t=Bp(t,null,e,1,i??null,s,!1,l,c),e[on]=t.current,Ir(e),o)for(e=0;e<o.length;e++)i=o[e],s=i._getVersion,s=s(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new Hs(t)};ht.render=function(e,t,i){if(!Ws(t))throw Error(R(200));return Vs(null,e,t,!1,i)};ht.unmountComponentAtNode=function(e){if(!Ws(e))throw Error(R(40));return e._reactRootContainer?(qn(function(){Vs(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1};ht.unstable_batchedUpdates=Uu;ht.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Ws(i))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Vs(e,t,i,!1,o)};ht.version="18.3.1-next-f1338f8080-20240426";function Up(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Up)}catch(e){console.error(e)}}Up(),Zh.exports=ht;var Hp=Zh.exports,mh=Hp;rl.createRoot=mh.createRoot,rl.hydrateRoot=mh.hydrateRoot;var o_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a_=(e,t)=>{const i=z.forwardRef(({color:o="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,children:f,...p},g)=>z.createElement("svg",{ref:g,...o_,width:s,height:s,stroke:o,strokeWidth:c?Number(l)*24/Number(s):l,className:`lucide lucide-${s_(e)}`,...p},[...t.map(([S,x])=>z.createElement(S,x)),...(Array.isArray(f)?f:[f])||[]]));return i.displayName=`${e}`,i};var ne=a_;const Cs=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),es=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),l_=ne("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 11v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1ed1m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]),u_=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Wp=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ns=ne("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Vr=ne("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ki=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$i=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Fi=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),c_=ne("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Kr=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),gh=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Vp=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),zn=ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),d_=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),h_=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f_=ne("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),p_=ne("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),m_=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),g_=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),v_=ne("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),Yu=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),jt=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Kp=ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),__=ne("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]),vh=ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Bi=ne("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),ql=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_h=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),y_=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),x_=ne("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),w_=ne("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),S_=ne("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),Zi=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ql=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),k_=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),b_=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),P_=ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ts=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C_="Philippines & Japan Trip 2026",N_={total:3500,currency:"USD"},T_=[{name:"Earl Cameron",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",dob:"January 21, 1992"}],E_=[{name:"Travel to Philippines",region:"US  PH",segments:[{id:"seg-001",date:"2026-01-30",dateDisplay:"Fri Jan 30, 2026",timeStart:"6:10 PM",timeEnd:"9:43 PM",tz:"US",tzFrom:"ET",tzTo:"PT",route:"FLL  SFO",type:"Flight",airline:"United",flight:"UA249",cabinClass:"Economy S",details:"UA249 (United Economy S)",departureAirport:"FLL - Fort Lauderdale-Hollywood Intl.",arrivalAirport:"SFO - San Francisco Intl.",duration:"5h 33m",status:"BOOKED",estimatedCost:320,currency:"USD"},{id:"seg-002",date:"2026-01-30",dateEnd:"2026-02-01",dateDisplay:"Fri Jan 30  Sun Feb 1, 2026",timeStart:"11:45 PM",timeEnd:"6:50 AM +2",tz:"US",tzFrom:"PT",tzTo:"PHT",route:"SFO  MNL",type:"Flight",airline:"United",flight:"UA189",cabinClass:"Economy S",details:"UA189 (United Economy S) - Crosses International Date Line",departureAirport:"SFO - San Francisco Intl.",arrivalAirport:"MNL - Ninoy Aquino Intl. T1",duration:"~14h",status:"BOOKED",estimatedCost:580,currency:"USD",crossesDateline:!0,note:"Departs Jan 30 11:45 PM PT, arrives Feb 1 6:50 AM PHT (skips Jan 31)"}]},{name:"Philippines Stay",region:"PH",segments:[{id:"seg-003",date:"2026-02-01",dateDisplay:"Sun Feb 1, 2026",timeStart:"6:50 AM",timeEnd:"12:30 PM",tz:"PH",tzLabel:"PHT",location:"MNL - Ninoy Aquino Intl.",type:"Airport",details:"Immigration / baggage claim / buffer time",status:"BUFFER"},{id:"seg-004",date:"2026-02-01",dateDisplay:"Sun Feb 1, 2026",timeStart:"5:25 PM",timeEnd:"6:45 PM",tz:"PH",tzLabel:"PHT",route:"MNL  BCD",type:"Flight",airline:"Philippines AirAsia",flight:"Z2605",aircraft:"Airbus A320",cabinClass:"Economy",details:"Philippines AirAsia Z2605",departureAirport:"MNL - Ninoy Aquino Intl. T2",arrivalAirport:"BCD - Bacolod-Silay Intl.",duration:"1h 20m",status:"BOOKED",estimatedCost:2500,currency:"PHP"},{id:"seg-005",date:"2026-02-01",dateEnd:"2026-02-06",dateDisplay:"Sun Feb 1  Fri Feb 6",tz:"PH",tzLabel:"PHT",location:"Bacolod (BCD)",type:"Stay",details:"Home stay in Bacolod - prep for Japan trip",status:"PLANNED",shelter:{name:"Home - Bacolod",address:"Bacolod City, Negros Occidental, Philippines",type:"Personal residence",notes:"Family home",coordinates:{lat:10.6765,lng:122.9509}}},{id:"seg-005a",date:"2026-02-02",dateDisplay:"Mon Feb 2, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Rest & Recovery Day",status:"PLANNED",activities:[]},{id:"seg-005b",date:"2026-02-03",dateDisplay:"Tue Feb 3, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Explore Bacolod",status:"PLANNED",activities:[]},{id:"seg-005c",date:"2026-02-04",dateDisplay:"Wed Feb 4, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Family Day",status:"PLANNED",activities:[]},{id:"seg-005d",date:"2026-02-05",dateDisplay:"Thu Feb 5, 2026",tz:"PH",tzLabel:"PHT",location:"Bacolod",type:"Activity",details:"Japan Trip Prep Day",status:"PLANNED",activities:[]}]},{name:"Japan Trip",region:"JP",passengers:["Earl Cameron","Paula Mariz Yumul"],segments:[{id:"seg-006",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"6:20 AM",timeEnd:"7:45 AM",tz:"PH",tzLabel:"PHT",route:"BCD  MNL",type:"Flight",airline:"Cebu Pacific / Cebgo",flight:"5J 474",cabinClass:"GO Easy",details:"5J 474 (Cebu Pacific)",departureAirport:"BCD - New Bacolod Silay Airport",arrivalAirport:"MNL - Ninoy Aquino Intl. T3",duration:"1h 25m",status:"BOOKED",estimatedCost:50,currency:"USD",bookingRef:"ALBB7N",passengers:[{name:"Earl Cameron",seat:"19B",baggage:"20kg checked"},{name:"Paula Mariz Yumul",seat:"19C",baggage:"20kg checked"}]},{id:"seg-008",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"12:35 PM",timeEnd:"6:00 PM",tz:"PH",tzFrom:"PHT",tzTo:"JST",route:"MNL  NRT",type:"Flight",airline:"Cebu Pacific",flight:"5J 5056",cabinClass:"GO Easy",details:"5J 5056 (Cebu Pacific)",departureAirport:"MNL - Ninoy Aquino Intl. T3",arrivalAirport:"NRT - Narita Intl. T2",duration:"4h 25m",status:"BOOKED",estimatedCost:50,currency:"USD",bookingRef:"ALBB7N",passengers:[{name:"Earl Cameron",seat:"47C",baggage:"20kg checked"},{name:"Paula Mariz Yumul",seat:"47D",baggage:"20kg checked"}]},{id:"seg-009",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"6:30 PM",timeEnd:"8:00 PM",tz:"JP",tzLabel:"JST",route:"NRT  Tokyo",type:"Transit",details:"Train/bus to Tokyo city center",status:"PLANNED"},{id:"seg-010",date:"2026-02-06",dateDisplay:"Fri Feb 6, 2026",timeStart:"4:00 PM",tz:"JP",tzLabel:"JST",location:"Taito City, Tokyo",type:"Check-in",details:"Airbnb check-in (1 night before Joetsu)",status:"BOOKED",estimatedCost:53.66,currency:"USD",shelter:{name:"Home in Taito City (501)",type:"Airbnb",host:"Tomson",address:"5 Chome-8 Asakusabashi, Taito City, Tokyo 111-0053, Japan",checkIn:"After 4:00 PM (self check-in with lockbox)",checkOut:"By 10:00 AM",guests:"2 adults",pricePerNight:53.66,notes:"Entire home/apt - Near Yamanote line, direct access to Narita/Haneda",cancellation:"Free for 24hrs; partial refund if cancelled before Feb 2 4:00 PM",amenities:["Carbon monoxide alarm","Smoke alarm"],coordinates:{lat:35.6986,lng:139.7828}}},{id:"seg-011",date:"2026-02-07",dateDisplay:"Sat Feb 7, 2026",timeStart:"10:27 AM",timeEnd:"12:31 PM",tz:"JP",tzLabel:"JST",route:"Taito City  Joetsu-Myoko",type:"Travel",details:"Hokuriku Shinkansen Hakutaka 559 to Joetsu (2h 4m total)",status:"PLANNED",estimatedCost:9230,currency:"JPY",legs:[{type:"Walk",from:"Taito City (Airbnb)",to:"Ueno Station",duration:"12 min",distance:"550 m",timeStart:"10:27 AM"},{type:"Shinkansen",train:"Hokuriku Shinkansen Hakutaka 559",from:"Ueno Station",to:"Jetsumyk Station",platform:"19",duration:"1h 49m",stops:7,timeStart:"10:39 AM",timeEnd:"12:28 PM"},{type:"Walk",from:"Jetsumyk Station",to:"APA Hotel Joetsu Myoko-Ekimae",duration:"3 min",distance:"280 m",timeEnd:"12:31 PM"}]},{id:"seg-012",date:"2026-02-07",dateEnd:"2026-02-09",dateDisplay:"Sat Feb 7  Mon Feb 9, 2026",timeStart:"3:00 PM",tz:"JP",tzLabel:"JST",location:"Joetsu",type:"Check-in",details:"Hotel check-in (2 nights, Double Room - Non-Smoking)",status:"BOOKED",estimatedCost:26300,currency:"JPY",shelter:{name:"APA Hotel Joetsu Myoko-Ekimae",type:"Hotel",address:"Niigata, Joetsu, Yamato 2-3-1, Japan",phone:"+81 25-527-5810",checkIn:"3:00 PM - 12:00 AM",checkOut:"10:00 AM",confirmationNumber:"6033468060",pin:"0467",roomType:"Double Room - Non-Smoking",notes:"2 adults, 2 nights - Payment scheduled Feb 4 (card ending 5797)",cancellation:"Free until Feb 5; 15,500 from Feb 6; 26,300 from Feb 8",coordinates:{lat:37.1033,lng:138.2531}}},{id:"seg-013",date:"2026-02-07",dateDisplay:"Sat Feb 7, 2026",timeStart:"1:30 PM",timeEnd:"5:00 PM",tz:"JP",tzLabel:"JST",location:"Myoko Kogen",type:"Activity",details:"Ski rental setup + warm-up runs",status:"PLANNED",activities:[]},{id:"seg-014",date:"2026-02-08",dateDisplay:"Sun Feb 8, 2026",timeStart:"9:00 AM",timeEnd:"3:30 PM",tz:"JP",tzLabel:"JST",location:"Myoko Kogen",type:"Activity",details:"Full ski day",status:"PLANNED",activities:[]},{id:"seg-015",date:"2026-02-09",dateDisplay:"Mon Feb 9, 2026",timeStart:"12:00 PM",timeEnd:"2:04 PM",tz:"JP",tzLabel:"JST",route:"Joetsu-Myoko  Tokyo (Taito City)",type:"Travel",details:"Hokuriku Shinkansen Hakutaka to Ueno (2h 4m total)",status:"PLANNED",estimatedCost:9230,currency:"JPY",legs:[{type:"Walk",from:"APA Hotel Joetsu Myoko-Ekimae",to:"Jetsumyk Station",duration:"3 min",distance:"280 m",timeStart:"12:00 PM"},{type:"Shinkansen",train:"Hokuriku Shinkansen Hakutaka",from:"Jetsumyk Station",to:"Ueno Station",duration:"1h 49m",stops:7,timeStart:"12:12 PM",timeEnd:"2:01 PM",note:"Same line as outbound, reverse direction"},{type:"Walk",from:"Ueno Station",to:"Taito City (Airbnb)",duration:"12 min",distance:"550 m",timeEnd:"2:15 PM"}]},{id:"seg-016",date:"2026-02-09",dateEnd:"2026-02-12",dateDisplay:"Mon Feb 9  Thu Feb 12, 2026",timeStart:"4:00 PM",tz:"JP",tzLabel:"JST",location:"Taito City, Tokyo",type:"Check-in",details:"Airbnb check-in (3 nights)",status:"BOOKED",estimatedCost:160.97,currency:"USD",shelter:{name:"Home in Taito City (501)",type:"Airbnb",host:"Tomson",address:"5 Chome-8 Asakusabashi, Taito City, Tokyo 111-0053, Japan",checkIn:"After 4:00 PM (self check-in with lockbox)",checkOut:"By 10:00 AM",guests:"2 adults",pricePerNight:53.66,notes:"Entire home/apt - Near Yamanote line, direct access to Narita/Haneda",cancellation:"Free for 24hrs; partial refund if cancelled before Feb 2 4:00 PM",amenities:["Carbon monoxide alarm","Smoke alarm"],coordinates:{lat:35.6986,lng:139.7828}}},{id:"seg-017",date:"2026-02-09",dateDisplay:"Mon Feb 9, 2026",timeStart:"3:00 PM",timeEnd:"10:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Explore Tokyo - Arrival Day",status:"PLANNED",activities:[]},{id:"seg-018",date:"2026-02-10",dateDisplay:"Tue Feb 10, 2026",timeStart:"10:00 AM",timeEnd:"10:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Full day exploring Tokyo",status:"PLANNED",activities:[]},{id:"seg-019",date:"2026-02-11",dateDisplay:"Wed Feb 11, 2026",timeStart:"10:00 AM",timeEnd:"9:00 PM",tz:"JP",tzLabel:"JST",location:"Tokyo",type:"Activity",details:"Last day in Tokyo - Shopping & Packing",status:"PLANNED",activities:[]},{id:"seg-020",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"05:00 AM",timeEnd:"06:00 AM",tz:"JP",tzLabel:"JST",route:"Tokyo  NRT",type:"Transit",details:"Early morning airport transfer (arrive 3hrs before 8:55 AM flight)",status:"PLANNED"},{id:"seg-021",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"08:55 AM",timeEnd:"01:00 PM",tz:"JP",tzFrom:"JST",tzTo:"PHT",route:"NRT  MNL",type:"Flight",details:"Zipair Tokyo ZG095 (5h 5m)",flightNumber:"ZG095",airline:"Zipair Tokyo",departureAirport:"NRT - Narita International Airport",arrivalAirport:"MNL - Ninoy Aquino International Airport",status:"BOOKED",estimatedCost:286.2,currency:"USD",costNote:"2 adult tickets incl. taxes $26.30",passengers:[{name:"Earl Cameron",gender:"Male",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",gender:"Female",dob:"January 21, 1992"}]},{id:"seg-022",date:"2026-02-12",dateDisplay:"Thu Feb 12, 2026",timeStart:"05:25 PM",timeEnd:"06:45 PM",tz:"PH",tzLabel:"PHT",route:"MNL  BCD",type:"Flight",details:"Philippines AirAsia Z2605 (1h 20m) - Self-transfer from ZG095 (4h 25m layover)",flightNumber:"Z2605",airline:"Philippines AirAsia",departureAirport:"MNL - Ninoy Aquino International Airport",arrivalAirport:"BCD - Bacolod-Silay International Airport",status:"BOOKED",estimatedCost:46.6,currency:"USD",costNote:"2 adult tickets incl. taxes $18.10",passengers:[{name:"Earl Cameron",gender:"Male",dob:"April 2, 1992"},{name:"Paula Mariz Yumul",gender:"Female",dob:"January 21, 1992"}]}]},{name:"Back in Philippines",region:"PH",segments:[{id:"seg-023",date:"2026-02-12",dateEnd:"2026-02-13",dateDisplay:"Thu Feb 12  Fri Feb 13",tz:"PH",tzLabel:"PHT",location:"Bacolod (BCD)",type:"Stay",details:"Home buffer days before return to US",status:"PLANNED",shelter:{name:"Home - Bacolod",address:"Bacolod City, Negros Occidental, Philippines",type:"Personal residence",notes:"Family home",coordinates:{lat:10.6765,lng:122.9509}}}]},{name:"Return to Florida",region:"PH  US",segments:[{id:"seg-024",date:"2026-02-14",dateDisplay:"Sat Feb 14, 2026",timeStart:"07:30 PM",timeEnd:"08:45 PM",tz:"PH",tzLabel:"PHT",route:"BCD  MNL",type:"Flight",details:"Philippines AirAsia Z2606 (1h 15m) - Airbus A320",flightNumber:"Z2606",airline:"Philippines AirAsia",departureAirport:"BCD - Bacolod-Silay Intl.",arrivalAirport:"MNL - Ninoy Aquino Intl. T2",cabinClass:"Economy",status:"BOOKED",estimatedCost:50,currency:"USD"},{id:"seg-024b",date:"2026-02-14",dateEnd:"2026-02-15",dateDisplay:"Sat Feb 14  Sun Feb 15",tz:"PH",tzLabel:"PHT",location:"Pasay, Manila",type:"Stay",details:"Overnight in Manila before late flight to US",status:"BOOKED",estimatedCost:33.64,currency:"USD",shelter:{name:"AAH Residences C1-7W-Studio A @ 81 Newport Blvd",type:"Airbnb",host:"Grace",checkIn:"After 2:00 PM",checkOut:"By 12:00 PM",guests:"1 adult (2 max)",pricePerNight:33.64,notes:"Entire home/apt - Near Newport/MNL airport area. Exact address sent 25 days before.",houseRules:"No pets, Quiet hours 10PM-8AM",cancellation:"Free before Feb 9 2:00 PM; non-refundable after",amenities:["Exterior security cameras","Smoke alarm"],coordinates:{lat:14.5095,lng:121.0195}}},{id:"seg-025",date:"2026-02-15",dateDisplay:"Sun Feb 15, 2026",timeStart:"11:25 PM",timeEnd:"7:55 PM",tz:"PH",tzFrom:"PHT",tzTo:"PT",route:"MNL  SFO",type:"Flight",airline:"United",flight:"UA810",cabinClass:"Economy W",details:"UA810 (United Economy W) - Same calendar day arrival",departureAirport:"MNL - Ninoy Aquino Intl.",arrivalAirport:"SFO - San Francisco Intl.",duration:"~12h",status:"BOOKED",estimatedCost:580,currency:"USD",note:"Departs Feb 15 11:25 PM PHT, arrives Feb 15 7:55 PM PT (gains time)"},{id:"seg-026",date:"2026-02-15",dateEnd:"2026-02-16",dateDisplay:"Sun Feb 15  Mon Feb 16, 2026",timeStart:"9:20 PM",timeEnd:"12:58 AM +1",tz:"US",tzFrom:"PT",tzTo:"MT",route:"SFO  DEN",type:"Flight",airline:"United",flight:"UA301",cabinClass:"Economy W",details:"UA301 (United Economy W)",departureAirport:"SFO - San Francisco Intl.",arrivalAirport:"DEN - Denver Intl.",duration:"2h 38m",status:"BOOKED",estimatedCost:280,currency:"USD"},{id:"seg-027",date:"2026-02-16",dateDisplay:"Mon Feb 16, 2026",timeStart:"8:05 AM",timeEnd:"1:59 PM",tz:"US",tzFrom:"MT",tzTo:"ET",route:"DEN  FLL",type:"Flight",airline:"United",flight:"UA1469",cabinClass:"Economy W",details:"UA1469 (United Economy W)",departureAirport:"DEN - Denver Intl.",arrivalAirport:"FLL - Fort Lauderdale-Hollywood Intl.",duration:"3h 54m",status:"BOOKED",estimatedCost:320,currency:"USD"}]}],eo={tripName:C_,budget:N_,travelers:T_,trips:E_},L_=365,z_={BOOKED:"BOOKED",PLANNED:"PLANNED",PLANNED_WARN:"PLANNED_WARN",BUFFER:"BUFFER",TO_BOOK:"TO_BOOK",WEEKEND_SKI:"WEEKEND_SKI",OPTIONAL:"OPTIONAL",IF_CONDITIONAL:"IF_CONDITIONAL",UNSET:"UNSET"},M_=["flight","travel","transit","bus","airport"],A_=eo.budget||{total:0,currency:"USD"},j_=eo.tripName||"Travel Itinerary";eo.travelers;function O_(e){if(!e)return null;const t=e.match(/([A-Z]{2})(\d+)/);return t?t[1]:null}function I_(e){if(!e)return null;const t=e.match(/([A-Z]{2})(\d+)/);return t?t[0]:null}function D_(e){if(!e)return null;const t=e.match(/\s*(.+?)(?:\s*|$)/);return t?t[1].trim():null}function Xl(e){var t;return e.location?e.location:e.route&&((t=e.route.split("")[1])==null?void 0:t.trim())||null}function R_(e){if(!e)return null;const t=e.match(/\b([A-Z]{3})\b/);if(t)return t[1];const i={Tokyo:" Tokyo",Joetsu:" Joetsu",Myoko:" Myoko",Manila:" Manila",MNL:" Manila",Bacolod:" Bacolod",BCD:" Bacolod","San Francisco":" San Francisco",SFO:" San Francisco",Denver:" Denver",DEN:" Denver",Miami:" Miami",FLL:" Miami"};for(const[o,s]of Object.entries(i))if(e.includes(o))return s;return e}function Ui(e,t){return e?t&&t!==e?`${e}  ${t}`:e:null}function F_(e){const[t,i,o]=e.split("-").map(Number),s=new Date(t,i-1,o,12,0,0),l={weekday:"short",month:"short",day:"numeric",year:"numeric"};return s.toLocaleDateString("en-US",l)}function B_(e,t){const i=[],[o,s,l]=e.split("-").map(Number),[c,f,p]=t.split("-").map(Number),g=new Date(o,s-1,l,12,0,0),S=new Date(c,f-1,p,12,0,0);let x=0;for(;g<=S&&x<L_;){const k=g.getFullYear(),C=String(g.getMonth()+1).padStart(2,"0"),M=String(g.getDate()).padStart(2,"0");i.push(`${k}-${C}-${M}`),g.setDate(g.getDate()+1),x++}return i}function Z_(e=eo){return{tripName:e.tripName||"Travel Itinerary",budget:e.budget||{total:0,currency:"USD"},travelers:e.travelers||[]}}function U_(e){return!e.status||e.status==="BOOKED"||e.status==="TO_BOOK"?{trigger:"Flight delay (>2 hrs) or cancellation",options:[{id:`bp-${e.id}-1`,priority:1,title:"Next available flight same route",description:"Rebook on next available flight to same destination",status:"TO_BOOK",contact:"Airline customer service / online rebooking"},{id:`bp-${e.id}-2`,priority:2,title:"Alternate route via different hub",description:"Consider booking via alternate routing if available",status:"TO_BOOK",contact:"Airline customer service"},{id:`bp-${e.id}-3`,priority:3,title:"Ground transportation alternative",description:"Use ground transport if delay < 24hrs and destination reachable",status:"TO_BOOK",contact:"Local transportation providers"}]}:null}function H_(e,t,i){return{dateKey:e,dateDisplay:F_(e),timezone:(i==null?void 0:i.tzLabel)||(i==null?void 0:i.tzFrom)||(i==null?void 0:i.tz)||"UTC",tz:(i==null?void 0:i.tz)||null,region:(t==null?void 0:t.region)||null,summary:t.name,location:Xl(i),travel:[],shelter:{},meals:[],activities:[],metadata:{hasTravel:!1,locationFlags:[],estimatedCost:0,costCurrencies:new Set,unbootedCount:0,hasUnbooked:!1,isContinuationDay:!1}}}function W_(e,t,i){return{id:e.id,type:e.type,route:e.route||null,time:Ui(e.timeStart,e.timeEnd),duration:e.duration||null,status:z_[e.status]||"UNSET",details:e.details,airline:e.airline||O_(e.details),flight:e.flight||I_(e.details),aircraft:e.aircraft||null,cabinClass:e.cabinClass||null,departureAirport:e.departureAirport||null,arrivalAirport:e.arrivalAirport||null,location:e.location,name:e.details,estimatedCost:e.estimatedCost||null,currency:e.currency||null,isMultiDay:i>1,dayOfSpan:t+1,totalDays:i}}function $p(e=eo){const t=new Map;function i(o,s,l){return t.has(o)||t.set(o,H_(o,s,l)),t.get(o)}for(const o of e.trips)for(const s of o.segments){const l=s.date,c=s.dateEnd||s.date,f=s.type.toLowerCase(),p=B_(l,c);for(let g=0;g<p.length;g++){const S=p[g],x=i(S,o,s);f==="flight"&&p.length>1&&g>0&&g<p.length-1&&(x.isInFlight=!0,x.inFlightDetails={route:s.route,flight:s.flight||s.details,note:"Crossing International Date Line"}),(s.tz||s.tzFrom)&&(x.timezone=s.tz||s.tzFrom),Xl(s)&&!x.location&&(x.location=Xl(s));const k=W_(s,g,p.length);V_(x,s,f,g),K_(x,s,k,f,p,g)}}return X_(t)}function V_(e,t,i,o){if(M_.includes(i)&&(e.metadata.hasTravel=!0),t.status==="TO_BOOK"&&o===0&&(e.metadata.unbootedCount+=1,e.metadata.hasUnbooked=!0),t.estimatedCost&&o===0&&(e.metadata.estimatedCost+=t.estimatedCost,e.metadata.costCurrencies.add(t.currency)),t.location){const s=R_(t.location);s&&!e.metadata.locationFlags.includes(s)&&e.metadata.locationFlags.push(s)}}function K_(e,t,i,o,s,l){const c=l===0,f=l===s.length-1,p=s.length>1;switch(o){case"flight":case"travel":case"transit":case"bus":case"airport":$_(e,t,i,o,c,f,p);break;case"stay":case"check-in":G_(e,t,s,l);break;case"meal":c&&J_(e,t);break;case"activity":case"explore":case"prep":case"ski setup":case"activities":c&&Y_(e,t);break;case"layover":c&&q_(e,t);break;default:t.details&&c&&Q_(e,t)}}function $_(e,t,i,o,s,l,c){if(s||c&&l){const f={...i,isDeparture:s,isArrival:!s&&l,crossesDateline:c&&o==="flight"};o==="flight"&&s&&(f.backupPlan=U_(t)),e.travel.push(f)}}function G_(e,t,i,o){if(t.dateEnd&&o===i.length-1||e.shelter.name)return;const l=o===0,c=i.length-1;t.shelter?e.shelter={name:t.shelter.name,address:t.shelter.address,type:t.shelter.type||null,notes:t.shelter.notes||null,host:t.shelter.host||null,checkIn:l&&(t.timeStart||t.shelter.checkIn)||null,checkOut:t.shelter.checkOut||null,isMultiDayStay:i.length>1,dayOfStay:o+1,totalStayDays:c,estimatedCost:t.estimatedCost||null,currency:t.currency||null,coordinates:t.shelter.coordinates||null}:e.shelter={name:t.location||t.details,address:D_(t.details),checkIn:l&&t.timeStart||null,checkOut:null,notes:t.note||null,isMultiDayStay:i.length>1,dayOfStay:o+1,totalStayDays:c,estimatedCost:t.estimatedCost||null,currency:t.currency||null,coordinates:null}}function J_(e,t){e.meals.push({id:t.id,type:t.details,location:t.location,time:Ui(t.timeStart,t.timeEnd),details:t.details})}function Y_(e,t){if(t.activities&&Array.isArray(t.activities))for(const i of t.activities)e.activities.push({id:`${t.id}-${i.name}`,name:i.name,location:i.location||t.location,time:Ui(i.timeStart,i.timeEnd),timeStart:i.timeStart,timeEnd:i.timeEnd,description:i.notes||i.name,type:i.category||t.type,icon:i.icon,priority:i.priority,category:i.category,estimatedCost:i.estimatedCost,currency:i.currency,notes:i.notes,coordinates:i.coordinates||null});else e.activities.push({id:t.id,name:t.details,location:t.location,time:Ui(t.timeStart,t.timeEnd),description:t.details,type:t.type})}function q_(e,t){e.activities.push({id:t.id,name:`Layover: ${t.details}`,location:t.location,time:Ui(t.timeStart,t.timeEnd),description:t.details,type:"layover"})}function Q_(e,t){e.activities.push({id:t.id,name:t.details,location:t.location,time:Ui(t.timeStart,t.timeEnd),description:t.details,type:t.type})}function X_(e){return Array.from(e.values()).sort((t,i)=>new Date(t.dateKey)-new Date(i.dateKey)).map(t=>({...t,metadata:{...t.metadata,costCurrencies:Array.from(t.metadata.costCurrencies)}}))}const ey=$p();function ty(e){return $p(e)}const Gp="TravelItineraryDB",yh=2,ny=365,Q={TRIP_META:"tripMeta",TRIPS:"trips",USER_ACTIVITIES:"userActivities",DELETED_ACTIVITIES:"deletedActivities",SETTINGS:"settings"};let Ie=null;function st(e,t){const i=new Error(`${e}: ${t.message}`);return i.cause=t,i}function iy(e){const t=new Set;for(const i of e){const o=i.segments||[];for(const s of o)if(s.date&&t.add(s.date),s.dateEnd&&s.date){const l=new Date(s.date),c=new Date(s.dateEnd);if(c>=l){const f=new Date(l);let p=0;for(;f<=c&&p<ny;)t.add(f.toISOString().split("T")[0]),f.setDate(f.getDate()+1),p++}}}return t}function ry(e){return{id:"main",tripName:e.tripName||"My Trip",budget:e.budget||{total:0,currency:"USD"},travelers:e.travelers||[]}}function oy(e){return{name:e.name,region:e.region,segments:e.segments||[]}}function Jp(e,t){const i={};for(const o of e){const s=o[t];s&&s.length>0&&(i[o.date]=s)}return i}function pt(){return new Promise(e=>{if(Ie){e([Ie,null]);return}const t=indexedDB.open(Gp,yh);t.onerror=()=>{console.error("IndexedDB error:",t.error),e([null,t.error||new Error("Failed to open IndexedDB")])},t.onsuccess=()=>{Ie=t.result,console.log(" IndexedDB initialized"),e([Ie,null])},t.onblocked=()=>{console.warn(" IndexedDB blocked - close other tabs using this app")},t.onupgradeneeded=i=>{const o=i.target.result,s=i.oldVersion;console.log(` Upgrading IndexedDB from v${s} to v${yh}...`),s<2&&(o.objectStoreNames.contains("activities")&&o.deleteObjectStore("activities"),o.objectStoreNames.contains("deleted")&&o.deleteObjectStore("deleted")),o.objectStoreNames.contains(Q.TRIP_META)||o.createObjectStore(Q.TRIP_META,{keyPath:"id"}),o.objectStoreNames.contains(Q.TRIPS)||o.createObjectStore(Q.TRIPS,{keyPath:"name"}).createIndex("region","region",{unique:!1}),o.objectStoreNames.contains(Q.USER_ACTIVITIES)||o.createObjectStore(Q.USER_ACTIVITIES,{keyPath:"date"}),o.objectStoreNames.contains(Q.DELETED_ACTIVITIES)||o.createObjectStore(Q.DELETED_ACTIVITIES,{keyPath:"date"}),o.objectStoreNames.contains(Q.SETTINGS)||o.createObjectStore(Q.SETTINGS,{keyPath:"key"}),console.log(" IndexedDB stores created/updated")}})}async function sy(){const[,e]=await pt();return e?[null,st("isDataInitialized",e)]:new Promise(t=>{const s=Ie.transaction([Q.SETTINGS],"readonly").objectStore(Q.SETTINGS).get("initialized");s.onsuccess=()=>{var c;const l=((c=s.result)==null?void 0:c.value)===!0;t([l,null])},s.onerror=()=>t([null,s.error||new Error("Failed to check initialization status")])})}async function ay(){const[,e]=await pt();return e?[null,st("markInitialized",e)]:new Promise(t=>{const o=Ie.transaction([Q.SETTINGS],"readwrite").objectStore(Q.SETTINGS),s={key:"initialized",value:!0,timestamp:Date.now()},l=o.put(s);l.onsuccess=()=>t([void 0,null]),l.onerror=()=>t([null,l.error||new Error("Failed to mark initialized")])})}async function ly(e){const[,t]=await pt();return t?[null,st("importItineraryData",t)]:new Promise(i=>{const o=Ie.transaction([Q.TRIP_META,Q.TRIPS,Q.USER_ACTIVITIES,Q.DELETED_ACTIVITIES],"readwrite");o.onerror=()=>i([null,o.error||new Error("Import transaction failed")]),o.oncomplete=()=>{console.log(" Itinerary data imported to IndexedDB"),i([void 0,null])};const s=o.objectStore(Q.TRIP_META),l=ry(e);s.put(l);const c=o.objectStore(Q.TRIPS),f=e.trips||[];for(const x of f){const k=oy(x);c.put(k)}const p=o.objectStore(Q.USER_ACTIVITIES),g=o.objectStore(Q.DELETED_ACTIVITIES),S=iy(f);for(const x of S)p.put({date:x,items:[]}),g.put({date:x,ids:[]})})}async function uy(){const[,e]=await pt();return e?[null,st("getTripMeta",e)]:new Promise(t=>{const s=Ie.transaction([Q.TRIP_META],"readonly").objectStore(Q.TRIP_META).get("main");s.onsuccess=()=>t([s.result||null,null]),s.onerror=()=>t([null,s.error||new Error("Failed to get trip metadata")])})}async function cy(){const[,e]=await pt();return e?[null,st("getAllTrips",e)]:new Promise(t=>{const s=Ie.transaction([Q.TRIPS],"readonly").objectStore(Q.TRIPS).getAll();s.onsuccess=()=>t([s.result||[],null]),s.onerror=()=>t([null,s.error||new Error("Failed to get trips")])})}async function el(){const[e,t]=await uy();if(t)return[null,st("getItineraryData",t)];const[i,o]=await cy();return o?[null,st("getItineraryData",o)]:e?[{tripName:e.tripName,budget:e.budget,travelers:e.travelers,trips:i},null]:[null,null]}async function dy(e,t){const[,i]=await pt();return i?[null,st("addActivity",i)]:new Promise(o=>{const l=Ie.transaction([Q.USER_ACTIVITIES],"readwrite").objectStore(Q.USER_ACTIVITIES),c=l.get(e);c.onsuccess=()=>{const f=c.result||{date:e,items:[]};f.items.push(t);const p=l.put(f);p.onsuccess=()=>o([t,null]),p.onerror=()=>o([null,p.error||new Error("Failed to add activity")])},c.onerror=()=>o([null,c.error||new Error("Failed to get existing activities")])})}async function hy(e,t,i){const[,o]=await pt();return o?[null,st("updateActivity",o)]:new Promise(s=>{const c=Ie.transaction([Q.USER_ACTIVITIES],"readwrite").objectStore(Q.USER_ACTIVITIES),f=c.get(e);f.onsuccess=()=>{const p=f.result||{date:e,items:[]},g=p.items.findIndex(x=>x.id===t);g!==-1&&(p.items[g]={...p.items[g],...i});const S=c.put(p);S.onsuccess=()=>s([p.items[g],null]),S.onerror=()=>s([null,S.error||new Error("Failed to update activity")])},f.onerror=()=>s([null,f.error||new Error("Failed to get existing activities")])})}async function fy(e,t){const[,i]=await pt();return i?[null,st("removeActivity",i)]:new Promise(o=>{const l=Ie.transaction([Q.USER_ACTIVITIES],"readwrite").objectStore(Q.USER_ACTIVITIES),c=l.get(e);c.onsuccess=()=>{const f=c.result||{date:e,items:[]};f.items=f.items.filter(g=>g.id!==t);const p=l.put(f);p.onsuccess=()=>o([void 0,null]),p.onerror=()=>o([null,p.error||new Error("Failed to remove activity")])},c.onerror=()=>o([null,c.error||new Error("Failed to get existing activities")])})}async function py(e,t){const[,i]=await pt();return i?[null,st("markActivityDeleted",i)]:new Promise(o=>{const l=Ie.transaction([Q.DELETED_ACTIVITIES],"readwrite").objectStore(Q.DELETED_ACTIVITIES),c=l.get(e);c.onsuccess=()=>{const f=c.result||{date:e,ids:[]};f.ids.includes(t)||f.ids.push(t);const g=l.put(f);g.onsuccess=()=>o([void 0,null]),g.onerror=()=>o([null,g.error||new Error("Failed to mark activity deleted")])},c.onerror=()=>o([null,c.error||new Error("Failed to get deleted records")])})}async function tl(){const[,e]=await pt();return e?[null,st("getAllManualActivities",e)]:new Promise(t=>{const s=Ie.transaction([Q.USER_ACTIVITIES],"readonly").objectStore(Q.USER_ACTIVITIES).getAll();s.onsuccess=()=>{const l=s.result||[],c=Jp(l,"items");t([c,null])},s.onerror=()=>t([null,s.error||new Error("Failed to get manual activities")])})}async function nl(){const[,e]=await pt();return e?[null,st("getAllDeletedActivities",e)]:new Promise(t=>{const s=Ie.transaction([Q.DELETED_ACTIVITIES],"readonly").objectStore(Q.DELETED_ACTIVITIES).getAll();s.onsuccess=()=>{const l=s.result||[],c=Jp(l,"ids");t([c,null])},s.onerror=()=>t([null,s.error||new Error("Failed to get deleted activities")])})}async function Es(){const[,e]=await pt();return e?[null,st("clearAllData",e)]:new Promise(t=>{const i=[Q.TRIP_META,Q.TRIPS,Q.USER_ACTIVITIES,Q.DELETED_ACTIVITIES,Q.SETTINGS],o=Ie.transaction(i,"readwrite");o.onerror=()=>t([null,o.error||new Error("Failed to clear data")]),o.oncomplete=()=>{console.log(" All IndexedDB data cleared"),t([void 0,null])};for(const s of i)o.objectStore(s).clear()})}function my(){return new Promise(e=>{Ie&&(Ie.close(),Ie=null);const t=indexedDB.deleteDatabase(Gp);t.onsuccess=()=>{console.log(" IndexedDB database deleted completely"),e([void 0,null])},t.onerror=()=>{console.error("Failed to delete database:",t.error),e([null,t.error||new Error("Failed to delete database")])},t.onblocked=()=>{console.warn("Database deletion blocked - close other tabs using this app")}})}typeof window<"u"&&(window.__clearTravelDB=Es,window.__deleteTravelDB=my);const gy=365;function vy(e){if(!(e!=null&&e.trips))return 0;const t=new Set;for(const i of e.trips){const o=i.segments||[];for(const s of o)if(s.date&&(t.add(s.date),s.dateEnd&&s.dateEnd!==s.date)){const l=new Date(s.date),c=new Date(s.dateEnd);if(c>=l){const f=new Date(l);let p=0;for(;f<=c&&p<gy;){const g=f.toISOString().split("T")[0];t.add(g),f.setDate(f.getDate()+1),p++}}}}return t.size}function _y(e){var s,l;const t=((s=e.trips)==null?void 0:s.length)||0,i=((l=e.trips)==null?void 0:l.reduce((c,f)=>{var p;return c+(((p=f.segments)==null?void 0:p.length)||0)},0))||0,o=vy(e);return{trips:t,segments:i,days:o}}function xh(e){return e!==null&&e.trips&&e.trips.length>0}function yy(e,t,i){const o=e[t]||[];return{...e,[t]:[...o,i]}}function xy(e,t,i,o){const l=(e[t]||[]).map(c=>c.id===i?{...c,...o}:c);return{...e,[t]:l}}function wy(e,t,i){const s=(e[t]||[]).filter(l=>l.id!==i);return{...e,[t]:s}}function Sy(e,t,i){const o=e[t]||[];return{...e,[t]:[...o,i]}}function ky(){const[e,t]=z.useState(!0),[i,o]=z.useState(!1),[s,l]=z.useState(!1),[c,f]=z.useState(null),[p,g]=z.useState(null),[S,x]=z.useState({}),[k,C]=z.useState({});z.useEffect(()=>{async function I(){t(!0),f(null);const[,O]=await pt();if(O){console.error(" IndexedDB initialization error:",O),f(O.message),l(!0),t(!1);return}const[A,F]=await sy();if(F){console.error(" Failed to check initialization status:",F),f(F.message),l(!0),t(!1);return}if(!A){console.log(" First launch detected - showing setup wizard"),l(!0),t(!1);return}console.log(" Loading data from IndexedDB...");const[X,W]=await el();if(W){console.error(" Failed to load itinerary data:",W),f(W.message),l(!0),t(!1);return}const[ae,le]=await tl();if(le){console.error(" Failed to load manual activities:",le),f(le.message),l(!0),t(!1);return}const[Be,ie]=await nl();if(ie){console.error(" Failed to load deleted activities:",ie),f(ie.message),l(!0),t(!1);return}if(!xh(X)){console.warn(" No itinerary data found, showing setup wizard"),l(!0),t(!1);return}g(X),x(ae),C(Be),o(!0),t(!1),console.log(" Data loaded from IndexedDB")}I()},[]),z.useCallback(async()=>{const[I,O]=await el();if(O)return console.error(" Failed to load data from IndexedDB:",O),f(O.message),l(!0),t(!1),[null,O];const[A,F]=await tl();if(F)return console.error(" Failed to load manual activities:",F),f(F.message),l(!0),t(!1),[null,F];const[X,W]=await nl();return W?(console.error(" Failed to load deleted activities:",W),f(W.message),l(!0),t(!1),[null,W]):xh(I)?(g(I),x(A),C(X),o(!0),t(!1),[!0,null]):(console.warn(" No itinerary data found, showing setup wizard"),l(!0),t(!1),[!1,null])},[]);const M=z.useCallback(async I=>{console.log(" Importing user JSON data to IndexedDB...");const[,O]=await ly(I);if(O)return console.error(" Import failed:",O),[null,O];const[,A]=await ay();if(A)return console.error(" Failed to mark initialized:",A),[null,A];console.log(" Data import complete!");const F=_y(I),[X,W]=await el();if(W)return[null,W];const[ae,le]=await tl();if(le)return[null,le];const[Be,ie]=await nl();return ie?[null,ie]:(g(X),x(ae),C(Be),o(!0),t(!1),l(!1),[F,null])},[]),T=z.useCallback(()=>{l(!1)},[]),V=z.useCallback(async(I,O)=>{const[,A]=await dy(I,O);return A?(console.error("Failed to add activity:",A),[null,A]):(x(F=>yy(F,I,O)),[O,null])},[]),v=z.useCallback(async(I,O,A)=>{const[,F]=await hy(I,O,A);return F?(console.error("Failed to update activity:",F),[null,F]):(x(X=>xy(X,I,O,A)),[void 0,null])},[]),y=z.useCallback(async(I,O)=>{const[,A]=await fy(I,O);return A?(console.error("Failed to remove activity:",A),[null,A]):(x(F=>wy(F,I,O)),[void 0,null])},[]),w=z.useCallback(async(I,O)=>{const[,A]=await py(I,O);return A?(console.error("Failed to delete activity:",A),[null,A]):(C(F=>Sy(F,I,O)),[void 0,null])},[]),j=z.useCallback(async()=>{console.log(" Resetting database...");const[,I]=await Es();return I?(console.error(" Failed to reset database:",I),[null,I]):(g(null),x({}),C({}),o(!1),l(!0),console.log(" Database reset complete"),[void 0,null])},[]);return{isLoading:e,isReady:i,needsSetup:s,error:c,itineraryData:p,manualActivities:S,deletedActivities:k,addActivity:V,updateActivity:v,removeActivity:y,deleteOriginalActivity:w,importJsonData:M,completeSetup:T,resetDatabase:j}}const wh={BOOKED:{label:"Booked",icon:Ns,cls:"bg-emerald-950/60 text-emerald-200 ring-1 ring-emerald-800/60"},PLANNED:{label:"Planned",icon:Ns,cls:"bg-sky-950/60 text-sky-200 ring-1 ring-sky-800/60"},PLANNED_WARN:{label:"Planned (check)",icon:es,cls:"bg-amber-950/60 text-amber-200 ring-1 ring-amber-800/60"},BUFFER:{label:"Buffer",icon:es,cls:"bg-violet-950/60 text-violet-200 ring-1 ring-violet-800/60"},TO_BOOK:{label:"To book",icon:P_,cls:"bg-rose-950/60 text-rose-200 ring-1 ring-rose-800/60"},WEEKEND_SKI:{label:"Weekend ski",icon:__,cls:"bg-teal-950/60 text-teal-200 ring-1 ring-teal-800/60"},OPTIONAL:{label:"Optional",icon:es,cls:"bg-zinc-900/60 text-zinc-200 ring-1 ring-zinc-700/60"},IF_CONDITIONAL:{label:"Conditional",icon:m_,cls:"bg-fuchsia-950/60 text-fuchsia-200 ring-1 ring-fuchsia-800/60"},UNSET:{label:"Unspecified",icon:Fi,cls:"bg-zinc-900/60 text-zinc-300 ring-1 ring-zinc-700/60"}};function ve(...e){return e.filter(Boolean).join(" ")}function by(e){return wh[e]||wh.UNSET}function qu({code:e}){const t=by(e),i=t.icon;return d.jsxs("span",{className:ve("inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium",t.cls),title:t.label,children:[d.jsx(i,{className:"h-3.5 w-3.5"}),t.label]})}function Yp(e,t){const i=z.useRef(t);z.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const Py=1;function Cy(e){return Object.freeze({__version:Py,map:e})}function qp(e,t){return Object.freeze({...e,...t})}const Qp=z.createContext(null),Xp=Qp.Provider;function Qu(){const e=z.useContext(Qp);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function em(e){function t(i,o){const{instance:s,context:l}=e(i).current;return z.useImperativeHandle(o,()=>s),i.children==null?null:ts.createElement(Xp,{value:l},i.children)}return z.forwardRef(t)}function Ny(e){function t(i,o){const[s,l]=z.useState(!1),{instance:c}=e(i,l).current;z.useImperativeHandle(o,()=>c),z.useEffect(function(){s&&c.update()},[c,s,i.children]);const f=c._contentNode;return f?Hp.createPortal(i.children,f):null}return z.forwardRef(t)}function Ty(e){function t(i,o){const{instance:s}=e(i).current;return z.useImperativeHandle(o,()=>s),null}return z.forwardRef(t)}function Xu(e,t){const i=z.useRef();z.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function Ks(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function Ey(e,t){return function(o,s){const l=Qu(),c=e(Ks(o,l),l);return Yp(l.map,o.attribution),Xu(c.current,o.eventHandlers),t(c.current,l,o,s),c}}var eu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(M0,function(i){var o="1.9.4";function s(n){var r,a,u,h;for(a=1,u=arguments.length;a<u;a++){h=arguments[a];for(r in h)n[r]=h[r]}return n}var l=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function c(n,r){var a=Array.prototype.slice;if(n.bind)return n.bind.apply(n,a.call(arguments,1));var u=a.call(arguments,2);return function(){return n.apply(r,u.length?u.concat(a.call(arguments)):arguments)}}var f=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function g(n,r,a){var u,h,m,_;return _=function(){u=!1,h&&(m.apply(a,h),h=!1)},m=function(){u?h=arguments:(n.apply(a,arguments),setTimeout(_,r),u=!0)},m}function S(n,r,a){var u=r[1],h=r[0],m=u-h;return n===u&&a?n:((n-h)%m+m)%m+h}function x(){return!1}function k(n,r){if(r===!1)return n;var a=Math.pow(10,r===void 0?6:r);return Math.round(n*a)/a}function C(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function M(n){return C(n).split(/\s+/)}function T(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?l(n.options):{});for(var a in r)n.options[a]=r[a];return n.options}function V(n,r,a){var u=[];for(var h in n)u.push(encodeURIComponent(a?h.toUpperCase():h)+"="+encodeURIComponent(n[h]));return(!r||r.indexOf("?")===-1?"?":"&")+u.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function y(n,r){return n.replace(v,function(a,u){var h=r[u];if(h===void 0)throw new Error("No value provided for variable "+a);return typeof h=="function"&&(h=h(r)),h})}var w=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function j(n,r){for(var a=0;a<n.length;a++)if(n[a]===r)return a;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var A=0;function F(n){var r=+new Date,a=Math.max(0,16-(r-A));return A=r+a,window.setTimeout(n,a)}var X=window.requestAnimationFrame||O("RequestAnimationFrame")||F,W=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ae(n,r,a){if(a&&X===F)n.call(r);else return X.call(window,c(n,r))}function le(n){n&&W.call(window,n)}var Be={__proto__:null,extend:s,create:l,bind:c,get lastId(){return f},stamp:p,throttle:g,wrapNum:S,falseFn:x,formatNum:k,trim:C,splitWords:M,setOptions:T,getParamString:V,template:y,isArray:w,indexOf:j,emptyImageUrl:I,requestFn:X,cancelFn:W,requestAnimFrame:ae,cancelAnimFrame:le};function ie(){}ie.extend=function(n){var r=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,u=l(a);u.constructor=r,r.prototype=u;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(r[h]=this[h]);return n.statics&&s(r,n.statics),n.includes&&(Y(n.includes),s.apply(null,[u].concat(n.includes))),s(u,n),delete u.statics,delete u.includes,u.options&&(u.options=a.options?l(a.options):{},s(u.options,n.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,_=u._initHooks.length;m<_;m++)u._initHooks[m].call(this)}},r},ie.include=function(n){var r=this.prototype.options;return s(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},ie.mergeOptions=function(n){return s(this.prototype.options,n),this},ie.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),a=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function Y(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=w(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r);else{n=M(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a)}return this},off:function(n,r,a){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var u in n)this._off(u,n[u],r);else{n=M(n);for(var h=arguments.length===1,m=0,_=n.length;m<_;m++)h?this._off(n[m]):this._off(n[m],r,a)}return this},_on:function(n,r,a,u){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,a)===!1){a===this&&(a=void 0);var h={fn:r,ctx:a};u&&(h.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(h)}},_off:function(n,r,a){var u,h,m;if(this._events&&(u=this._events[n],!!u)){if(arguments.length===1){if(this._firingCount)for(h=0,m=u.length;h<m;h++)u[h].fn=x;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var _=this._listens(n,r,a);if(_!==!1){var b=u[_];this._firingCount&&(b.fn=x,this._events[n]=u=u.slice()),u.splice(_,1)}}},fire:function(n,r,a){if(!this.listens(n,a))return this;var u=s({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var h=this._events[n];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,_=h.length;m<_;m++){var b=h[m],P=b.fn;b.once&&this.off(n,P,b.ctx),P.call(b.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(n,r,a,u){typeof n!="string"&&console.warn('"string" type argument expected');var h=r;typeof r!="function"&&(u=!!r,h=void 0,a=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,h,a)!==!1)return!0;if(u){for(var _ in this._eventParents)if(this._eventParents[_].listens(n,r,a,u))return!0}return!1},_listens:function(n,r,a){if(!this._events)return!1;var u=this._events[n]||[];if(!r)return!!u.length;a===this&&(a=void 0);for(var h=0,m=u.length;h<m;h++)if(u[h].fn===r&&u[h].ctx===a)return h;return!1},once:function(n,r,a){if(typeof n=="object")for(var u in n)this._on(u,n[u],r,!0);else{n=M(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,a,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,s({layer:n.target,propagatedFrom:n.target},n),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var Se=ie.extend(J);function E(n,r,a){this.x=a?Math.round(n):n,this.y=a?Math.round(r):r}var $=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};E.prototype={clone:function(){return new E(this.x,this.y)},add:function(n){return this.clone()._add(N(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(N(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new E(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new E(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(n){n=N(n);var r=n.x-this.x,a=n.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(n){return n=N(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=N(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function N(n,r,a){return n instanceof E?n:w(n)?new E(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new E(n.x,n.y):new E(n,r,a)}function B(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}B.prototype={extend:function(n){var r,a;if(!n)return this;if(n instanceof E||typeof n[0]=="number"||"x"in n)r=a=N(n);else if(n=H(n),r=n.min,a=n.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(n){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,a;return typeof n[0]=="number"||n instanceof E?n=N(n):n=H(n),n instanceof B?(r=n.min,a=n.max):r=a=n,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(n){n=H(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>=r.x&&u.x<=a.x,_=h.y>=r.y&&u.y<=a.y;return m&&_},overlaps:function(n){n=H(n);var r=this.min,a=this.max,u=n.min,h=n.max,m=h.x>r.x&&u.x<a.x,_=h.y>r.y&&u.y<a.y;return m&&_},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,a=this.max,u=Math.abs(r.x-a.x)*n,h=Math.abs(r.y-a.y)*n;return H(N(r.x-u,r.y-h),N(a.x+u,a.y+h))},equals:function(n){return n?(n=H(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function H(n,r){return!n||n instanceof B?n:new B(n,r)}function fe(n,r){if(n)for(var a=r?[n,r]:n,u=0,h=a.length;u<h;u++)this.extend(a[u])}fe.prototype={extend:function(n){var r=this._southWest,a=this._northEast,u,h;if(n instanceof ue)u=n,h=n;else if(n instanceof fe){if(u=n._southWest,h=n._northEast,!u||!h)return this}else return n?this.extend(q(n)||oe(n)):this;return!r&&!a?(this._southWest=new ue(u.lat,u.lng),this._northEast=new ue(h.lat,h.lng)):(r.lat=Math.min(u.lat,r.lat),r.lng=Math.min(u.lng,r.lng),a.lat=Math.max(h.lat,a.lat),a.lng=Math.max(h.lng,a.lng)),this},pad:function(n){var r=this._southWest,a=this._northEast,u=Math.abs(r.lat-a.lat)*n,h=Math.abs(r.lng-a.lng)*n;return new fe(new ue(r.lat-u,r.lng-h),new ue(a.lat+u,a.lng+h))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ue||"lat"in n?n=q(n):n=oe(n);var r=this._southWest,a=this._northEast,u,h;return n instanceof fe?(u=n.getSouthWest(),h=n.getNorthEast()):u=h=n,u.lat>=r.lat&&h.lat<=a.lat&&u.lng>=r.lng&&h.lng<=a.lng},intersects:function(n){n=oe(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>=r.lat&&u.lat<=a.lat,_=h.lng>=r.lng&&u.lng<=a.lng;return m&&_},overlaps:function(n){n=oe(n);var r=this._southWest,a=this._northEast,u=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>r.lat&&u.lat<a.lat,_=h.lng>r.lng&&u.lng<a.lng;return m&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=oe(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(n,r){return n instanceof fe?n:new fe(n,r)}function ue(n,r,a){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,a!==void 0&&(this.alt=+a)}ue.prototype={equals:function(n,r){if(!n)return!1;n=q(n);var a=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return a<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+k(this.lat,n)+", "+k(this.lng,n)+")"},distanceTo:function(n){return at.distance(this,q(n))},wrap:function(){return at.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,a=r/Math.cos(Math.PI/180*this.lat);return oe([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function q(n,r,a){return n instanceof ue?n:w(n)&&typeof n[0]!="object"?n.length===3?new ue(n[0],n[1],n[2]):n.length===2?new ue(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ue(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new ue(n,r,a)}var pe={latLngToPoint:function(n,r){var a=this.projection.project(n),u=this.scale(r);return this.transformation._transform(a,u)},pointToLatLng:function(n,r){var a=this.scale(r),u=this.transformation.untransform(n,a);return this.projection.unproject(u)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(n),u=this.transformation.transform(r.min,a),h=this.transformation.transform(r.max,a);return new B(u,h)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?S(n.lng,this.wrapLng,!0):n.lng,a=this.wrapLat?S(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return new ue(a,r,u)},wrapLatLngBounds:function(n){var r=n.getCenter(),a=this.wrapLatLng(r),u=r.lat-a.lat,h=r.lng-a.lng;if(u===0&&h===0)return n;var m=n.getSouthWest(),_=n.getNorthEast(),b=new ue(m.lat-u,m.lng-h),P=new ue(_.lat-u,_.lng-h);return new fe(b,P)}},at=s({},pe,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var a=Math.PI/180,u=n.lat*a,h=r.lat*a,m=Math.sin((r.lat-n.lat)*a/2),_=Math.sin((r.lng-n.lng)*a/2),b=m*m+Math.cos(u)*Math.cos(h)*_*_,P=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*P}}),bt=6378137,Dt={R:bt,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,n.lat),-a),h=Math.sin(u*r);return new E(this.R*n.lng*r,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(n){var r=180/Math.PI;return new ue((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=bt*Math.PI;return new B([-n,-n],[n,n])}()};function ei(n,r,a,u){if(w(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=a,this._d=u}ei.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new E((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function un(n,r,a,u){return new ei(n,r,a,u)}var Te=s({},at,{code:"EPSG:3857",projection:Dt,transformation:function(){var n=.5/(Math.PI*Dt.R);return un(n,.5,-n,.5)}()}),Pt=s({},Te,{code:"EPSG:900913"});function Rt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ti(n,r){var a="",u,h,m,_,b,P;for(u=0,m=n.length;u<m;u++){for(b=n[u],h=0,_=b.length;h<_;h++)P=b[h],a+=(h?"L":"M")+P.x+" "+P.y;a+=r?K.svg?"z":"x":""}return a||"M0 0"}var qs=document.documentElement.style,to="ActiveXObject"in window,um=to&&!document.addEventListener,ec="msLaunchUri"in navigator&&!("documentMode"in document),Qs=Ft("webkit"),tc=Ft("android"),nc=Ft("android 2")||Ft("android 3"),cm=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dm=tc&&Ft("Google")&&cm<537&&!("AudioNode"in window),Xs=!!window.opera,ic=!ec&&Ft("chrome"),rc=Ft("gecko")&&!Qs&&!Xs&&!to,hm=!ic&&Ft("safari"),oc=Ft("phantom"),sc="OTransition"in qs,fm=navigator.platform.indexOf("Win")===0,ac=to&&"transition"in qs,ea="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nc,lc="MozPerspective"in qs,pm=!window.L_DISABLE_3D&&(ac||ea||lc)&&!sc&&!oc,Gi=typeof orientation<"u"||Ft("mobile"),mm=Gi&&Qs,gm=Gi&&ea,uc=!window.PointerEvent&&window.MSPointerEvent,cc=!!(window.PointerEvent||uc),dc="ontouchstart"in window||!!window.TouchEvent,vm=!window.L_NO_TOUCH&&(dc||cc),_m=Gi&&Xs,ym=Gi&&rc,xm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wm=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",x,r),window.removeEventListener("testPassiveEventSupport",x,r)}catch{}return n}(),Sm=function(){return!!document.createElement("canvas").getContext}(),ta=!!(document.createElementNS&&Rt("svg").createSVGRect),km=!!ta&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bm=!ta&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Pm=navigator.platform.indexOf("Mac")===0,Cm=navigator.platform.indexOf("Linux")===0;function Ft(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var K={ie:to,ielt9:um,edge:ec,webkit:Qs,android:tc,android23:nc,androidStock:dm,opera:Xs,chrome:ic,gecko:rc,safari:hm,phantom:oc,opera12:sc,win:fm,ie3d:ac,webkit3d:ea,gecko3d:lc,any3d:pm,mobile:Gi,mobileWebkit:mm,mobileWebkit3d:gm,msPointer:uc,pointer:cc,touch:vm,touchNative:dc,mobileOpera:_m,mobileGecko:ym,retina:xm,passiveEvents:wm,canvas:Sm,svg:ta,vml:bm,inlineSvg:km,mac:Pm,linux:Cm},hc=K.msPointer?"MSPointerDown":"pointerdown",fc=K.msPointer?"MSPointerMove":"pointermove",pc=K.msPointer?"MSPointerUp":"pointerup",mc=K.msPointer?"MSPointerCancel":"pointercancel",na={touchstart:hc,touchmove:fc,touchend:pc,touchcancel:mc},gc={touchstart:Mm,touchmove:no,touchend:no,touchcancel:no},ni={},vc=!1;function Nm(n,r,a){return r==="touchstart"&&zm(),gc[r]?(a=gc[r].bind(this,a),n.addEventListener(na[r],a,!1),a):(console.warn("wrong event specified:",r),x)}function Tm(n,r,a){if(!na[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(na[r],a,!1)}function Em(n){ni[n.pointerId]=n}function Lm(n){ni[n.pointerId]&&(ni[n.pointerId]=n)}function _c(n){delete ni[n.pointerId]}function zm(){vc||(document.addEventListener(hc,Em,!0),document.addEventListener(fc,Lm,!0),document.addEventListener(pc,_c,!0),document.addEventListener(mc,_c,!0),vc=!0)}function no(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in ni)r.touches.push(ni[a]);r.changedTouches=[r],n(r)}}function Mm(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Ze(r),no(n,r)}function Am(n){var r={},a,u;for(u in n)a=n[u],r[u]=a&&a.bind?a.bind(n):a;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var jm=200;function Om(n,r){n.addEventListener("dblclick",r);var a=0,u;function h(m){if(m.detail!==1){u=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var _=kc(m);if(!(_.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!_.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var b=Date.now();b-a<=jm?(u++,u===2&&r(Am(m))):u=1,a=b}}}return n.addEventListener("click",h),{dblclick:r,simDblclick:h}}function Im(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var ia=oo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ji=oo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yc=Ji==="webkitTransition"||Ji==="OTransition"?Ji+"End":"transitionend";function xc(n){return typeof n=="string"?document.getElementById(n):n}function Yi(n,r){var a=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(n,null);a=u?u[r]:null}return a==="auto"?null:a}function he(n,r,a){var u=document.createElement(n);return u.className=r||"",a&&a.appendChild(u),u}function ke(n){var r=n.parentNode;r&&r.removeChild(n)}function io(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function ii(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function ri(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function ra(n,r){if(n.classList!==void 0)return n.classList.contains(r);var a=ro(n);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function te(n,r){if(n.classList!==void 0)for(var a=M(r),u=0,h=a.length;u<h;u++)n.classList.add(a[u]);else if(!ra(n,r)){var m=ro(n);oa(n,(m?m+" ":"")+r)}}function Ee(n,r){n.classList!==void 0?n.classList.remove(r):oa(n,C((" "+ro(n)+" ").replace(" "+r+" "," ")))}function oa(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function ro(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function mt(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&Dm(n,r)}function Dm(n,r){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=n.filters.item(u)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):n.style.filter+=" progid:"+u+"(opacity="+r+")"}function oo(n){for(var r=document.documentElement.style,a=0;a<n.length;a++)if(n[a]in r)return n[a];return!1}function On(n,r,a){var u=r||new E(0,0);n.style[ia]=(K.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function ze(n,r){n._leaflet_pos=r,K.any3d?On(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function In(n){return n._leaflet_pos||new E(0,0)}var qi,Qi,sa;if("onselectstart"in document)qi=function(){ee(window,"selectstart",Ze)},Qi=function(){ge(window,"selectstart",Ze)};else{var Xi=oo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qi=function(){if(Xi){var n=document.documentElement.style;sa=n[Xi],n[Xi]="none"}},Qi=function(){Xi&&(document.documentElement.style[Xi]=sa,sa=void 0)}}function aa(){ee(window,"dragstart",Ze)}function la(){ge(window,"dragstart",Ze)}var so,ua;function ca(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(ao(),so=n,ua=n.style.outlineStyle,n.style.outlineStyle="none",ee(window,"keydown",ao))}function ao(){so&&(so.style.outlineStyle=ua,so=void 0,ua=void 0,ge(window,"keydown",ao))}function wc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function da(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Rm={__proto__:null,TRANSFORM:ia,TRANSITION:Ji,TRANSITION_END:yc,get:xc,getStyle:Yi,create:he,remove:ke,empty:io,toFront:ii,toBack:ri,hasClass:ra,addClass:te,removeClass:Ee,setClass:oa,getClass:ro,setOpacity:mt,testProp:oo,setTransform:On,setPosition:ze,getPosition:In,get disableTextSelection(){return qi},get enableTextSelection(){return Qi},disableImageDrag:aa,enableImageDrag:la,preventOutline:ca,restoreOutline:ao,getSizedParentNode:wc,getScale:da};function ee(n,r,a,u){if(r&&typeof r=="object")for(var h in r)fa(n,h,r[h],a);else{r=M(r);for(var m=0,_=r.length;m<_;m++)fa(n,r[m],a,u)}return this}var Bt="_leaflet_events";function ge(n,r,a,u){if(arguments.length===1)Sc(n),delete n[Bt];else if(r&&typeof r=="object")for(var h in r)pa(n,h,r[h],a);else if(r=M(r),arguments.length===2)Sc(n,function(b){return j(r,b)!==-1});else for(var m=0,_=r.length;m<_;m++)pa(n,r[m],a,u);return this}function Sc(n,r){for(var a in n[Bt]){var u=a.split(/\d/)[0];(!r||r(u))&&pa(n,u,null,null,a)}}var ha={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function fa(n,r,a,u){var h=r+p(a)+(u?"_"+p(u):"");if(n[Bt]&&n[Bt][h])return this;var m=function(b){return a.call(u||n,b||window.event)},_=m;!K.touchNative&&K.pointer&&r.indexOf("touch")===0?m=Nm(n,r,m):K.touch&&r==="dblclick"?m=Om(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(ha[r]||r,m,K.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(b){b=b||window.event,ga(n,b)&&_(b)},n.addEventListener(ha[r],m,!1)):n.addEventListener(r,_,!1):n.attachEvent("on"+r,m),n[Bt]=n[Bt]||{},n[Bt][h]=m}function pa(n,r,a,u,h){h=h||r+p(a)+(u?"_"+p(u):"");var m=n[Bt]&&n[Bt][h];if(!m)return this;!K.touchNative&&K.pointer&&r.indexOf("touch")===0?Tm(n,r,m):K.touch&&r==="dblclick"?Im(n,m):"removeEventListener"in n?n.removeEventListener(ha[r]||r,m,!1):n.detachEvent("on"+r,m),n[Bt][h]=null}function Dn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function ma(n){return fa(n,"wheel",Dn),this}function er(n){return ee(n,"mousedown touchstart dblclick contextmenu",Dn),n._leaflet_disable_click=!0,this}function Ze(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Rn(n){return Ze(n),Dn(n),this}function kc(n){if(n.composedPath)return n.composedPath();for(var r=[],a=n.target;a;)r.push(a),a=a.parentNode;return r}function bc(n,r){if(!r)return new E(n.clientX,n.clientY);var a=da(r),u=a.boundingClientRect;return new E((n.clientX-u.left)/a.x-r.clientLeft,(n.clientY-u.top)/a.y-r.clientTop)}var Fm=K.linux&&K.chrome?window.devicePixelRatio:K.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pc(n){return K.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Fm:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ga(n,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==n;)a=a.parentNode}catch{return!1}return a!==n}var Bm={__proto__:null,on:ee,off:ge,stopPropagation:Dn,disableScrollPropagation:ma,disableClickPropagation:er,preventDefault:Ze,stop:Rn,getPropagationPath:kc,getMousePosition:bc,getWheelDelta:Pc,isExternalTarget:ga,addListener:ee,removeListener:ge},Cc=Se.extend({run:function(n,r,a,u){this.stop(),this._el=n,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=In(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ae(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var a=this._startPos.add(this._offset.multiplyBy(n));r&&a._round(),ze(this._el,a),this.fire("step")},_complete:function(){le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),ce=Se.extend({options:{crs:Te,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=T(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(q(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ji&&K.any3d&&!K.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,yc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(q(n),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=s({animate:a.animate},a.zoom),a.pan=s({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,a.zoom):this._tryAnimatedPan(n,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(K.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(K.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,a){var u=this.getZoomScale(r),h=this.getSize().divideBy(2),m=n instanceof E?n:this.latLngToContainerPoint(n),_=m.subtract(h).multiplyBy(1-1/u),b=this.containerPointToLatLng(h.add(_));return this.setView(b,r,{zoom:a})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():oe(n);var a=N(r.paddingTopLeft||r.padding||[0,0]),u=N(r.paddingBottomRight||r.padding||[0,0]),h=this.getBoundsZoom(n,!1,a.add(u));if(h=typeof r.maxZoom=="number"?Math.min(r.maxZoom,h):h,h===1/0)return{center:n.getCenter(),zoom:h};var m=u.subtract(a).divideBy(2),_=this.project(n.getSouthWest(),h),b=this.project(n.getNorthEast(),h),P=this.unproject(_.add(b).divideBy(2).add(m),h);return{center:P,zoom:h}},fitBounds:function(n,r){if(n=oe(n),!n.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(n,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=N(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){te(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,a){if(a=a||{},a.animate===!1||!K.any3d)return this.setView(n,r,a);this._stop();var u=this.project(this.getCenter()),h=this.project(n),m=this.getSize(),_=this._zoom;n=q(n),r=r===void 0?_:r;var b=Math.max(m.x,m.y),P=b*this.getZoomScale(_,r),D=h.distanceTo(u)||1,Z=1.42,G=Z*Z;function re(Me){var xo=Me?-1:1,T0=Me?P:b,E0=P*P-b*b+xo*G*G*D*D,L0=2*T0*G*D,Na=E0/L0,sd=Math.sqrt(Na*Na+1)-Na,z0=sd<1e-9?-18:Math.log(sd);return z0}function Je(Me){return(Math.exp(Me)-Math.exp(-Me))/2}function De(Me){return(Math.exp(Me)+Math.exp(-Me))/2}function vt(Me){return Je(Me)/De(Me)}var et=re(0);function ci(Me){return b*(De(et)/De(et+Z*Me))}function b0(Me){return b*(De(et)*vt(et+Z*Me)-Je(et))/G}function P0(Me){return 1-Math.pow(1-Me,1.5)}var C0=Date.now(),rd=(re(1)-et)/Z,N0=a.duration?1e3*a.duration:1e3*rd*.8;function od(){var Me=(Date.now()-C0)/N0,xo=P0(Me)*rd;Me<=1?(this._flyToFrame=ae(od,this),this._move(this.unproject(u.add(h.subtract(u).multiplyBy(b0(xo)/D)),_),this.getScaleZoom(b/ci(xo),_),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),od.call(this),this},flyToBounds:function(n,r){var a=this._getBoundsCenterZoom(n,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(n){return n=oe(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,oe(n));return a.equals(u)||this.panTo(u,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var a=N(r.paddingTopLeft||r.padding||[0,0]),u=N(r.paddingBottomRight||r.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(n),_=this.getPixelBounds(),b=H([_.min.add(a),_.max.subtract(u)]),P=b.getSize();if(!b.contains(m)){this._enforcingBounds=!0;var D=m.subtract(b.getCenter()),Z=b.extend(m).getSize().subtract(P);h.x+=D.x<0?-Z.x:Z.x,h.y+=D.y<0?-Z.y:Z.y,this.panTo(this.unproject(h),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=s({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=r.divideBy(2).round(),h=a.divideBy(2).round(),m=u.subtract(h);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=s({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),a=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,n):navigator.geolocation.getCurrentPosition(r,a,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,a=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,a=n.coords.longitude,u=new ue(r,a),h=u.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var _=this.getBoundsZoom(h);this.setView(u,m.maxZoom?Math.min(_,m.maxZoom):_)}var b={latlng:u,bounds:h,timestamp:n.timestamp};for(var P in n.coords)typeof n.coords[P]=="number"&&(b[P]=n.coords[P]);this.fire("locationfound",b)}},addHandler:function(n,r){if(!r)return this;var a=this[n]=new r(this);return this._handlers.push(a),this.options[n]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ke(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var a="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),u=he("div",a,r||this._mapPane);return n&&(this._panes[n]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),a=this.unproject(n.getTopRight());return new fe(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,a){n=oe(n),a=N(a||[0,0]);var u=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),_=n.getNorthWest(),b=n.getSouthEast(),P=this.getSize().subtract(a),D=H(this.project(b,u),this.project(_,u)).getSize(),Z=K.any3d?this.options.zoomSnap:1,G=P.x/D.x,re=P.y/D.y,Je=r?Math.max(G,re):Math.min(G,re);return u=this.getScaleZoom(Je,u),Z&&(u=Math.round(u/(Z/100))*(Z/100),u=r?Math.ceil(u/Z)*Z:Math.floor(u/Z)*Z),Math.max(h,Math.min(m,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var a=this._getTopLeftPoint(n,r);return new B(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(n)/a.scale(r)},getScaleZoom:function(n,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var u=a.zoom(n*a.scale(r));return isNaN(u)?1/0:u},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(q(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(N(n),r)},layerPointToLatLng:function(n){var r=N(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(q(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(q(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(oe(n))},distance:function(n,r){return this.options.crs.distance(q(n),q(r))},containerPointToLayerPoint:function(n){return N(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return N(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(N(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(n)))},mouseEventToContainerPoint:function(n){return bc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=xc(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(r,"scroll",this._onScroll,this),this._containerId=p(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&K.any3d,te(n,"leaflet-container"+(K.touch?" leaflet-touch":"")+(K.retina?" leaflet-retina":"")+(K.ielt9?" leaflet-oldie":"")+(K.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Yi(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ze(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(te(n.markerPane,"leaflet-zoom-hide"),te(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,a){ze(this._mapPane,new E(0,0));var u=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var h=this._zoom!==r;this._moveStart(h,a)._move(n,r)._moveEnd(h),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,a,u){r===void 0&&(r=this._zoom);var h=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),u?a&&a.pinch&&this.fire("zoom",a):((h||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){ze(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var r=n?ge:ee;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),K.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){le(this._resizeRequest),this._resizeRequest=ae(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var a=[],u,h=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,_=!1;m;){if(u=this._targets[p(m)],u&&(r==="click"||r==="preclick")&&this._draggableMoved(u)){_=!0;break}if(u&&u.listens(r,!0)&&(h&&!ga(m,n)||(a.push(u),h))||m===this._container)break;m=m.parentNode}return!a.length&&!_&&!h&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var a=n.type;a==="mousedown"&&ca(r),this._fireDOMEvent(n,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,a){if(n.type==="click"){var u=s({},n);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var h=this._findEventTargets(n,r);if(a){for(var m=[],_=0;_<a.length;_++)a[_].listens(r,!0)&&m.push(a[_]);h=m.concat(h)}if(h.length){r==="contextmenu"&&Ze(n);var b=h[0],P={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var D=b.getLatLng&&(!b._radius||b._radius<=10);P.containerPoint=D?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(n),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=D?b.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(_=0;_<h.length;_++)if(h[_].fire(r,P,!0),P.originalEvent._stopped||h[_].options.bubblingMouseEvents===!1&&j(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return In(this._mapPane)||new E(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var a=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var a=this.getSize()._divideBy(2);return this.project(n,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return this.project(n,r)._subtract(u)},_latLngBoundsToNewLayerBounds:function(n,r,a){var u=this._getNewPixelOrigin(a,r);return H([this.project(n.getSouthWest(),r)._subtract(u),this.project(n.getNorthWest(),r)._subtract(u),this.project(n.getSouthEast(),r)._subtract(u),this.project(n.getNorthEast(),r)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,a){if(!a)return n;var u=this.project(n,r),h=this.getSize().divideBy(2),m=new B(u.subtract(h),u.add(h)),_=this._getBoundsOffset(m,a,r);return Math.abs(_.x)<=1&&Math.abs(_.y)<=1?n:this.unproject(u.add(_),r)},_limitOffset:function(n,r){if(!r)return n;var a=this.getPixelBounds(),u=new B(a.min.add(n),a.max.add(n));return n.add(this._getBoundsOffset(u,r))},_getBoundsOffset:function(n,r,a){var u=H(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),h=u.min.subtract(n.min),m=u.max.subtract(n.max),_=this._rebound(h.x,-m.x),b=this._rebound(h.y,-m.y);return new E(_,b)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),a=this.getMaxZoom(),u=K.any3d?this.options.zoomSnap:1;return u&&(n=Math.round(n/u)*u),Math.max(r,Math.min(a,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var a=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var n=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var a=ia,u=this._proxy.style[a];On(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();On(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(r),h=this._getCenterOffset(n)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(h)?!1:(ae(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zm(n,r){return new ce(n,r)}var Ct=ie.extend({options:{position:"topright"},initialize:function(n){T(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),a=this.getPosition(),u=n._controlCorners[a];return te(r,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(r,u.firstChild):u.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),tr=function(n){return new Ct(n)};ce.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",a=this._controlContainer=he("div",r+"control-container",this._container);function u(h,m){var _=r+h+" "+r+m;n[h+m]=he("div",_,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ke(this._controlCorners[n]);ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nc=Ct.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,a,u){return a<u?-1:u<a?1:0}},initialize:function(n,r,a){T(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in r)this._addLayer(r[u],u,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Ct.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(p(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=he("div",n),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),er(r),ma(r);var u=this._section=he("section",n+"-list");a&&(this._map.on("click",this.collapse,this),ee(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=he("a",n+"-toggle",r);h.href="#",h.title="Layers",h.setAttribute("role","button"),ee(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Ze(m),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=he("div",n+"-base",u),this._separator=he("div",n+"-separator",u),this._overlaysList=he("div",n+"-overlays",u),r.appendChild(u)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&p(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,a){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(c(function(u,h){return this.options.sortFunction(u.layer,h.layer,u.name,h.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;io(this._baseLayersList),io(this._overlaysList),this._layerControlInputs=[];var n,r,a,u,h=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),r=r||u.overlay,n=n||!u.overlay,h+=u.overlay?0:1;return this.options.hideSingleBase&&(n=n&&h>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(p(n.target)),a=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(n,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(n){var r=document.createElement("label"),a=this._map.hasLayer(n.layer),u;n.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+p(this),a),this._layerControlInputs.push(u),u.layerId=p(n.layer),ee(u,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(u),m.appendChild(h);var _=n.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,a,u=[],h=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],a=this._getLayer(r.layerId).layer,r.checked?u.push(a):r.checked||h.push(a);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<u.length;m++)this._map.hasLayer(u[m])||this._map.addLayer(u[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,a,u=this._map.getZoom(),h=n.length-1;h>=0;h--)r=n[h],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ee(n,"click",Ze),this.expand();var r=this;setTimeout(function(){ge(n,"click",Ze),r._preventClick=!1})}}),Um=function(n,r,a){return new Nc(n,r,a)},va=Ct.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",a=he("div",r+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,a,u,h){var m=he("a",a,u);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),er(m),ee(m,"click",Rn),ee(m,"click",h,this),ee(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";Ee(this._zoomInButton,r),Ee(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(te(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(te(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});ce.mergeOptions({zoomControl:!0}),ce.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new va,this.addControl(this.zoomControl))});var Hm=function(n){return new va(n)},Tc=Ct.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",a=he("div",r),u=this.options;return this._addScales(u,r+"-line",a),n.on(u.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),a},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,a){n.metric&&(this._mScale=he("div",r,a)),n.imperial&&(this._iScale=he("div",r,a))},_update:function(){var n=this._map,r=n.getSize().y/2,a=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/n)},_updateImperial:function(n){var r=n*3.2808399,a,u,h;r>5280?(a=r/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(h=this._getRoundNum(r),this._updateScale(this._iScale,h+" ft",h/r))},_updateScale:function(n,r,a){n.style.width=Math.round(this.options.maxWidth*a)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),a=n/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),Wm=function(n){return new Tc(n)},Vm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_a=Ct.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(K.inlineSvg?Vm+" ":"")+"Leaflet</a>"},initialize:function(n){T(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=he("div","leaflet-control-attribution"),er(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),n.length&&a.push(n.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});ce.mergeOptions({attributionControl:!0}),ce.addInitHook(function(){this.options.attributionControl&&new _a().addTo(this)});var Km=function(n){return new _a(n)};Ct.Layers=Nc,Ct.Zoom=va,Ct.Scale=Tc,Ct.Attribution=_a,tr.layers=Um,tr.zoom=Hm,tr.scale=Wm,tr.attribution=Km;var Zt=ie.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zt.addTo=function(n,r){return n.addHandler(r,this),this};var $m={Events:J},Ec=K.touch?"touchstart mousedown":"mousedown",cn=Se.extend({options:{clickTolerance:3},initialize:function(n,r,a,u){T(this,u),this._element=n,this._dragStartTarget=r||n,this._preventOutline=a},enable:function(){this._enabled||(ee(this._dragStartTarget,Ec,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),ge(this._dragStartTarget,Ec,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ra(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(cn._dragging=this,this._preventOutline&&ca(this._element),aa(),qi(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,a=wc(this._element);this._startPoint=new E(r.clientX,r.clientY),this._startPos=In(this._element),this._parentScale=da(a);var u=n.type==="mousedown";ee(document,u?"mousemove":"touchmove",this._onMove,this),ee(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,a=new E(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,Ze(n),this._moved||(this.fire("dragstart"),this._moved=!0,te(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),ze(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ge(document,"mousemove touchmove",this._onMove,this),ge(document,"mouseup touchend touchcancel",this._onUp,this),la(),Qi();var r=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Lc(n,r,a){var u,h=[1,4,2,8],m,_,b,P,D,Z,G,re;for(m=0,Z=n.length;m<Z;m++)n[m]._code=Fn(n[m],r);for(b=0;b<4;b++){for(G=h[b],u=[],m=0,Z=n.length,_=Z-1;m<Z;_=m++)P=n[m],D=n[_],P._code&G?D._code&G||(re=lo(D,P,G,r,a),re._code=Fn(re,r),u.push(re)):(D._code&G&&(re=lo(D,P,G,r,a),re._code=Fn(re,r),u.push(re)),u.push(P));n=u}return n}function zc(n,r){var a,u,h,m,_,b,P,D,Z;if(!n||n.length===0)throw new Error("latlngs not passed");gt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var G=q([0,0]),re=oe(n),Je=re.getNorthWest().distanceTo(re.getSouthWest())*re.getNorthEast().distanceTo(re.getNorthWest());Je<1700&&(G=ya(n));var De=n.length,vt=[];for(a=0;a<De;a++){var et=q(n[a]);vt.push(r.project(q([et.lat-G.lat,et.lng-G.lng])))}for(b=P=D=0,a=0,u=De-1;a<De;u=a++)h=vt[a],m=vt[u],_=h.y*m.x-m.y*h.x,P+=(h.x+m.x)*_,D+=(h.y+m.y)*_,b+=_*3;b===0?Z=vt[0]:Z=[P/b,D/b];var ci=r.unproject(N(Z));return q([ci.lat+G.lat,ci.lng+G.lng])}function ya(n){for(var r=0,a=0,u=0,h=0;h<n.length;h++){var m=q(n[h]);r+=m.lat,a+=m.lng,u++}return q([r/u,a/u])}var Gm={__proto__:null,clipPolygon:Lc,polygonCenter:zc,centroid:ya};function Mc(n,r){if(!r||!n.length)return n.slice();var a=r*r;return n=qm(n,a),n=Ym(n,a),n}function Ac(n,r,a){return Math.sqrt(nr(n,r,a,!0))}function Jm(n,r,a){return nr(n,r,a)}function Ym(n,r){var a=n.length,u=typeof Uint8Array<"u"?Uint8Array:Array,h=new u(a);h[0]=h[a-1]=1,xa(n,h,r,0,a-1);var m,_=[];for(m=0;m<a;m++)h[m]&&_.push(n[m]);return _}function xa(n,r,a,u,h){var m=0,_,b,P;for(b=u+1;b<=h-1;b++)P=nr(n[b],n[u],n[h],!0),P>m&&(_=b,m=P);m>a&&(r[_]=1,xa(n,r,a,u,_),xa(n,r,a,_,h))}function qm(n,r){for(var a=[n[0]],u=1,h=0,m=n.length;u<m;u++)Qm(n[u],n[h])>r&&(a.push(n[u]),h=u);return h<m-1&&a.push(n[m-1]),a}var jc;function Oc(n,r,a,u,h){var m=u?jc:Fn(n,a),_=Fn(r,a),b,P,D;for(jc=_;;){if(!(m|_))return[n,r];if(m&_)return!1;b=m||_,P=lo(n,r,b,a,h),D=Fn(P,a),b===m?(n=P,m=D):(r=P,_=D)}}function lo(n,r,a,u,h){var m=r.x-n.x,_=r.y-n.y,b=u.min,P=u.max,D,Z;return a&8?(D=n.x+m*(P.y-n.y)/_,Z=P.y):a&4?(D=n.x+m*(b.y-n.y)/_,Z=b.y):a&2?(D=P.x,Z=n.y+_*(P.x-n.x)/m):a&1&&(D=b.x,Z=n.y+_*(b.x-n.x)/m),new E(D,Z,h)}function Fn(n,r){var a=0;return n.x<r.min.x?a|=1:n.x>r.max.x&&(a|=2),n.y<r.min.y?a|=4:n.y>r.max.y&&(a|=8),a}function Qm(n,r){var a=r.x-n.x,u=r.y-n.y;return a*a+u*u}function nr(n,r,a,u){var h=r.x,m=r.y,_=a.x-h,b=a.y-m,P=_*_+b*b,D;return P>0&&(D=((n.x-h)*_+(n.y-m)*b)/P,D>1?(h=a.x,m=a.y):D>0&&(h+=_*D,m+=b*D)),_=n.x-h,b=n.y-m,u?_*_+b*b:new E(h,m)}function gt(n){return!w(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ic(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gt(n)}function Dc(n,r){var a,u,h,m,_,b,P,D;if(!n||n.length===0)throw new Error("latlngs not passed");gt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Z=q([0,0]),G=oe(n),re=G.getNorthWest().distanceTo(G.getSouthWest())*G.getNorthEast().distanceTo(G.getNorthWest());re<1700&&(Z=ya(n));var Je=n.length,De=[];for(a=0;a<Je;a++){var vt=q(n[a]);De.push(r.project(q([vt.lat-Z.lat,vt.lng-Z.lng])))}for(a=0,u=0;a<Je-1;a++)u+=De[a].distanceTo(De[a+1])/2;if(u===0)D=De[0];else for(a=0,m=0;a<Je-1;a++)if(_=De[a],b=De[a+1],h=_.distanceTo(b),m+=h,m>u){P=(m-u)/h,D=[b.x-P*(b.x-_.x),b.y-P*(b.y-_.y)];break}var et=r.unproject(N(D));return q([et.lat+Z.lat,et.lng+Z.lng])}var Xm={__proto__:null,simplify:Mc,pointToSegmentDistance:Ac,closestPointOnSegment:Jm,clipSegment:Oc,_getEdgeIntersection:lo,_getBitCode:Fn,_sqClosestPointOnSegment:nr,isFlat:gt,_flat:Ic,polylineCenter:Dc},wa={project:function(n){return new E(n.lng,n.lat)},unproject:function(n){return new ue(n.y,n.x)},bounds:new B([-180,-90],[180,90])},Sa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,a=this.R,u=n.lat*r,h=this.R_MINOR/a,m=Math.sqrt(1-h*h),_=m*Math.sin(u),b=Math.tan(Math.PI/4-u/2)/Math.pow((1-_)/(1+_),m/2);return u=-a*Math.log(Math.max(b,1e-10)),new E(n.lng*r*a,u)},unproject:function(n){for(var r=180/Math.PI,a=this.R,u=this.R_MINOR/a,h=Math.sqrt(1-u*u),m=Math.exp(-n.y/a),_=Math.PI/2-2*Math.atan(m),b=0,P=.1,D;b<15&&Math.abs(P)>1e-7;b++)D=h*Math.sin(_),D=Math.pow((1-D)/(1+D),h/2),P=Math.PI/2-2*Math.atan(m*D)-_,_+=P;return new ue(_*r,n.x*r/a)}},e0={__proto__:null,LonLat:wa,Mercator:Sa,SphericalMercator:Dt},t0=s({},at,{code:"EPSG:3395",projection:Sa,transformation:function(){var n=.5/(Math.PI*Sa.R);return un(n,.5,-n,.5)}()}),Rc=s({},at,{code:"EPSG:4326",projection:wa,transformation:un(1/180,1,-1/180,.5)}),n0=s({},pe,{projection:wa,transformation:un(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var a=r.lng-n.lng,u=r.lat-n.lat;return Math.sqrt(a*a+u*u)},infinite:!0});pe.Earth=at,pe.EPSG3395=t0,pe.EPSG3857=Te,pe.EPSG900913=Pt,pe.EPSG4326=Rc,pe.Simple=n0;var Nt=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});ce.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=p(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=p(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},_addLayers:function(n){n=n?w(n)?n:[n]:[];for(var r=0,a=n.length;r<a;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=p(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var h=this._zoomBoundLayers[u].options;n=h.minZoom===void 0?n:Math.min(n,h.minZoom),r=h.maxZoom===void 0?r:Math.max(r,h.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var oi=Nt.extend({initialize:function(n,r){T(this,r),this._layers={};var a,u;if(n)for(a=0,u=n.length;a<u;a++)this.addLayer(n[a])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[n]&&u[n].apply(u,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var a in this._layers)n.call(r,this._layers[a]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),i0=function(n,r){return new oi(n,r)},Gt=oi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),oi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),oi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new fe;for(var r in this._layers){var a=this._layers[r];n.extend(a.getBounds?a.getBounds():a.getLatLng())}return n}}),r0=function(n,r){return new Gt(n,r)},si=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){T(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var a=this._getIconUrl(n);if(!a){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(u,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(n,r){var a=this.options,u=a[r+"Size"];typeof u=="number"&&(u=[u,u]);var h=N(u),m=N(r==="shadow"&&a.shadowAnchor||a.iconAnchor||h&&h.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(a.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),h&&(n.style.width=h.x+"px",n.style.height=h.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return K.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function o0(n){return new si(n)}var ir=si.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ir.imagePath!="string"&&(ir.imagePath=this._detectIconPath()),(this.options.imagePath||ir.imagePath)+si.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(a,u,h){var m=u.exec(a);return m&&m[h]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=he("div","leaflet-default-icon-path",document.body),r=Yi(n,"background-image")||Yi(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Fc=Zt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new cn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),te(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,a=r._map,u=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=In(r._icon),_=a.getPixelBounds(),b=a.getPixelOrigin(),P=H(_.min._subtract(b).add(h),_.max._subtract(b).subtract(h));if(!P.contains(m)){var D=N((Math.max(P.max.x,m.x)-P.max.x)/(_.max.x-P.max.x)-(Math.min(P.min.x,m.x)-P.min.x)/(_.min.x-P.min.x),(Math.max(P.max.y,m.y)-P.max.y)/(_.max.y-P.max.y)-(Math.min(P.min.y,m.y)-P.min.y)/(_.min.y-P.min.y)).multiplyBy(u);a.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),ze(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ae(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(le(this._panRequest),this._panRequest=ae(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,a=r._shadow,u=In(r._icon),h=r._map.layerPointToLatLng(u);a&&ze(a,u),r._latlng=h,n.latlng=h,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),uo=Nt.extend({options:{icon:new ir,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){T(this,r),this._latlng=q(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=q(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=n.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,n.title&&(a.title=n.title),a.tagName==="IMG"&&(a.alt=n.alt||"")),te(a,r),n.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(a,"focus",this._panOnFocus,this);var h=n.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(te(h,r),h.alt=""),this._shadow=h,n.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(this._icon,"focus",this._panOnFocus,this),ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ke(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&ze(this._icon,n),this._shadow&&ze(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&mt(this._icon,n),this._shadow&&mt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,a=r.iconSize?N(r.iconSize):N(0,0),u=r.iconAnchor?N(r.iconAnchor):N(0,0);n.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function s0(n,r){return new uo(n,r)}var dn=Nt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return T(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),co=dn.extend({options:{fill:!0,radius:10},initialize:function(n,r){T(this,r),this._latlng=q(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=q(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return dn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,a=this._clickTolerance(),u=[n+a,r+a];this._pxBounds=new B(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function a0(n,r){return new co(n,r)}var ka=co.extend({initialize:function(n,r,a){if(typeof r=="number"&&(r=s({},a,{radius:r})),T(this,r),this._latlng=q(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:dn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===at.distance){var h=Math.PI/180,m=this._mRadius/at.R/h,_=a.project([r+m,n]),b=a.project([r-m,n]),P=_.add(b).divideBy(2),D=a.unproject(P).lat,Z=Math.acos((Math.cos(m*h)-Math.sin(r*h)*Math.sin(D*h))/(Math.cos(r*h)*Math.cos(D*h)))/h;(isNaN(Z)||Z===0)&&(Z=m/Math.cos(Math.PI/180*r)),this._point=P.subtract(a.getPixelOrigin()),this._radius=isNaN(Z)?0:P.x-a.project([D,n-Z]).x,this._radiusY=P.y-_.y}else{var G=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(G).x}this._updateBounds()}});function l0(n,r,a){return new ka(n,r,a)}var Jt=dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){T(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,a=null,u=nr,h,m,_=0,b=this._parts.length;_<b;_++)for(var P=this._parts[_],D=1,Z=P.length;D<Z;D++){h=P[D-1],m=P[D];var G=u(n,h,m,!0);G<r&&(r=G,a=u(n,h,m))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=q(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new fe,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],a=gt(n),u=0,h=n.length;u<h;u++)a?(r[u]=q(n[u]),this._bounds.extend(r[u])):r[u]=this._convertLatLngs(n[u]);return r},_project:function(){var n=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new E(n,n);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,a){var u=n[0]instanceof ue,h=n.length,m,_;if(u){for(_=[],m=0;m<h;m++)_[m]=this._map.latLngToLayerPoint(n[m]),a.extend(_[m]);r.push(_)}else for(m=0;m<h;m++)this._projectLatlngs(n[m],r,a)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,u,h,m,_,b,P;for(a=0,h=0,m=this._rings.length;a<m;a++)for(P=this._rings[a],u=0,_=P.length;u<_-1;u++)b=Oc(P[u],P[u+1],n,u,!0),b&&(r[h]=r[h]||[],r[h].push(b[0]),(b[1]!==P[u+1]||u===_-2)&&(r[h].push(b[1]),h++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,a=0,u=n.length;a<u;a++)n[a]=Mc(n[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var a,u,h,m,_,b,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(a=0,m=this._parts.length;a<m;a++)for(b=this._parts[a],u=0,_=b.length,h=_-1;u<_;h=u++)if(!(!r&&u===0)&&Ac(n,b[h],b[u])<=P)return!0;return!1}});function u0(n,r){return new Jt(n,r)}Jt._flat=Ic;var ai=Jt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Jt.prototype._convertLatLngs.call(this,n),a=r.length;return a>=2&&r[0]instanceof ue&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(n){Jt.prototype._setLatLngs.call(this,n),gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,a=new E(r,r);if(n=new B(n.min.subtract(a),n.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,h=this._rings.length,m;u<h;u++)m=Lc(this._rings[u],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,a,u,h,m,_,b,P,D;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,P=this._parts.length;m<P;m++)for(a=this._parts[m],_=0,D=a.length,b=D-1;_<D;b=_++)u=a[_],h=a[b],u.y>n.y!=h.y>n.y&&n.x<(h.x-u.x)*(n.y-u.y)/(h.y-u.y)+u.x&&(r=!r);return r||Jt.prototype._containsPoint.call(this,n,!0)}});function c0(n,r){return new ai(n,r)}var Yt=Gt.extend({initialize:function(n,r){T(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=w(n)?n:n.features,a,u,h;if(r){for(a=0,u=r.length;a<u;a++)h=r[a],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var _=ho(n,m);return _?(_.feature=mo(n),_.defaultOptions=_.options,this.resetStyle(_),m.onEachFeature&&m.onEachFeature(n,_),this.addLayer(_)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=s({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function ho(n,r){var a=n.type==="Feature"?n.geometry:n,u=a?a.coordinates:null,h=[],m=r&&r.pointToLayer,_=r&&r.coordsToLatLng||ba,b,P,D,Z;if(!u&&!a)return null;switch(a.type){case"Point":return b=_(u),Bc(m,n,b,r);case"MultiPoint":for(D=0,Z=u.length;D<Z;D++)b=_(u[D]),h.push(Bc(m,n,b,r));return new Gt(h);case"LineString":case"MultiLineString":return P=fo(u,a.type==="LineString"?0:1,_),new Jt(P,r);case"Polygon":case"MultiPolygon":return P=fo(u,a.type==="Polygon"?1:2,_),new ai(P,r);case"GeometryCollection":for(D=0,Z=a.geometries.length;D<Z;D++){var G=ho({geometry:a.geometries[D],type:"Feature",properties:n.properties},r);G&&h.push(G)}return new Gt(h);case"FeatureCollection":for(D=0,Z=a.features.length;D<Z;D++){var re=ho(a.features[D],r);re&&h.push(re)}return new Gt(h);default:throw new Error("Invalid GeoJSON object.")}}function Bc(n,r,a,u){return n?n(r,a):new uo(a,u&&u.markersInheritOptions&&u)}function ba(n){return new ue(n[1],n[0],n[2])}function fo(n,r,a){for(var u=[],h=0,m=n.length,_;h<m;h++)_=r?fo(n[h],r-1,a):(a||ba)(n[h]),u.push(_);return u}function Pa(n,r){return n=q(n),n.alt!==void 0?[k(n.lng,r),k(n.lat,r),k(n.alt,r)]:[k(n.lng,r),k(n.lat,r)]}function po(n,r,a,u){for(var h=[],m=0,_=n.length;m<_;m++)h.push(r?po(n[m],gt(n[m])?0:r-1,a,u):Pa(n[m],u));return!r&&a&&h.length>0&&h.push(h[0].slice()),h}function li(n,r){return n.feature?s({},n.feature,{geometry:r}):mo(r)}function mo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ca={toGeoJSON:function(n){return li(this,{type:"Point",coordinates:Pa(this.getLatLng(),n)})}};uo.include(Ca),ka.include(Ca),co.include(Ca),Jt.include({toGeoJSON:function(n){var r=!gt(this._latlngs),a=po(this._latlngs,r?1:0,!1,n);return li(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),ai.include({toGeoJSON:function(n){var r=!gt(this._latlngs),a=r&&!gt(this._latlngs[0]),u=po(this._latlngs,a?2:r?1:0,!0,n);return r||(u=[u]),li(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),oi.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(n).geometry.coordinates)}),li(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var a=r==="GeometryCollection",u=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(n);if(a)u.push(m.geometry);else{var _=mo(m);_.type==="FeatureCollection"?u.push.apply(u,_.features):u.push(_)}}}),a?li(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Zc(n,r){return new Yt(n,r)}var d0=Zc,go=Nt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,a){this._url=n,this._bounds=oe(r),T(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&ii(this._image),this},bringToBack:function(){return this._map&&ri(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=oe(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:he("img");if(te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;On(this._image,a,r)},_reset:function(){var n=this._image,r=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();ze(n,r.min),n.style.width=a.x+"px",n.style.height=a.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),h0=function(n,r,a){return new go(n,r,a)},Uc=go.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:he("video");if(te(r,"leaflet-image-layer"),this._zoomAnimated&&te(r,"leaflet-zoom-animated"),this.options.className&&te(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onloadeddata=c(this.fire,this,"load"),n){for(var a=r.getElementsByTagName("source"),u=[],h=0;h<a.length;h++)u.push(a[h].src);this._url=a.length>0?u:[r.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var _=he("source");_.src=this._url[m],r.appendChild(_)}}});function f0(n,r,a){return new Uc(n,r,a)}var Hc=go.extend({_initImage:function(){var n=this._image=this._url;te(n,"leaflet-image-layer"),this._zoomAnimated&&te(n,"leaflet-zoom-animated"),this.options.className&&te(n,this.options.className),n.onselectstart=x,n.onmousemove=x}});function p0(n,r,a){return new Hc(n,r,a)}var Ut=Nt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof ue||w(n))?(this._latlng=q(n),T(this,r)):(T(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(c(ke,void 0,this._container),200)):ke(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=q(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ii(this._container),this},bringToBack:function(){return this._map&&ri(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof Gt){r=null;var a=this._source._layers;for(var u in a)if(a[u]._map){r=a[u];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=N(this.options.offset),a=this._getAnchor();this._zoomAnimated?ze(this._container,n.add(a)):r=r.add(n).add(a);var u=this._containerBottom=-r.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=u+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});ce.include({_initOverlay:function(n,r,a,u){var h=r;return h instanceof n||(h=new n(u).setContent(r)),a&&h.setLatLng(a),h}}),Nt.include({_initOverlay:function(n,r,a,u){var h=a;return h instanceof n?(T(h,u),h._source=this):(h=r&&!u?r:new n(u,this),h.setContent(a)),h}});var vo=Ut.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ut.prototype.openOn.call(this,n)},onAdd:function(n){Ut.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dn||this._source.on("preclick",Dn))},onRemove:function(n){Ut.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dn||this._source.off("preclick",Dn))},getEvents:function(){var n=Ut.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=he("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=he("div",n+"-content-wrapper",r);if(this._contentNode=he("div",n+"-content",a),er(r),ma(this._contentNode),ee(r,"contextmenu",Dn),this._tipContainer=he("div",n+"-tip-container",r),this._tip=he("div",n+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=he("a",n+"-close-button",r);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',ee(u,"click",function(h){Ze(h),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var a=n.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var u=n.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&u>h?(r.height=h+"px",te(n,m)):Ee(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),a=this._getAnchor();ze(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(Yi(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,u=this._containerWidth,h=new E(this._containerLeft,-a-this._containerBottom);h._add(In(this._container));var m=n.layerPointToContainerPoint(h),_=N(this.options.autoPanPadding),b=N(this.options.autoPanPaddingTopLeft||_),P=N(this.options.autoPanPaddingBottomRight||_),D=n.getSize(),Z=0,G=0;m.x+u+P.x>D.x&&(Z=m.x+u-D.x+P.x),m.x-Z-b.x<0&&(Z=m.x-b.x),m.y+a+P.y>D.y&&(G=m.y+a-D.y+P.y),m.y-G-b.y<0&&(G=m.y-b.y),(Z||G)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([Z,G]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),m0=function(n,r){return new vo(n,r)};ce.mergeOptions({closePopupOnClick:!0}),ce.include({openPopup:function(n,r,a){return this._initOverlay(vo,n,r,a).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Nt.include({bindPopup:function(n,r){return this._popup=this._initOverlay(vo,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Gt||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Rn(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var _o=Ut.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ut.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ut.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ut.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,a,u=this._map,h=this._container,m=u.latLngToContainerPoint(u.getCenter()),_=u.layerPointToContainerPoint(n),b=this.options.direction,P=h.offsetWidth,D=h.offsetHeight,Z=N(this.options.offset),G=this._getAnchor();b==="top"?(r=P/2,a=D):b==="bottom"?(r=P/2,a=0):b==="center"?(r=P/2,a=D/2):b==="right"?(r=0,a=D/2):b==="left"?(r=P,a=D/2):_.x<m.x?(b="right",r=0,a=D/2):(b="left",r=P+(Z.x+G.x)*2,a=D/2),n=n.subtract(N(r,a,!0)).add(Z).add(G),Ee(h,"leaflet-tooltip-right"),Ee(h,"leaflet-tooltip-left"),Ee(h,"leaflet-tooltip-top"),Ee(h,"leaflet-tooltip-bottom"),te(h,"leaflet-tooltip-"+b),ze(h,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&mt(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),g0=function(n,r){return new _o(n,r)};ce.include({openTooltip:function(n,r,a){return this._initOverlay(_o,n,r,a).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Nt.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_o,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Gt||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(ee(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ee(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,a,u;this._tooltip.options.sticky&&n.originalEvent&&(a=this._map.mouseEventToContainerPoint(n.originalEvent),u=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(r)}});var Wc=si.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),a=this.options;if(a.html instanceof Element?(io(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=N(a.bgPos);r.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function v0(n){return new Wc(n)}si.Default=ir;var rr=Nt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:K.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){T(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ke(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ii(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ri(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof E?n:new E(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,a=-n(-1/0,1/0),u=0,h=r.length,m;u<h;u++)m=r[u].style.zIndex,r[u]!==this._container&&m&&(a=n(a,+m));isFinite(a)&&(this.options.zIndex=a+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!K.ielt9){mt(this._container,this.options.opacity);var n=+new Date,r=!1,a=!1;for(var u in this._tiles){var h=this._tiles[u];if(!(!h.current||!h.loaded)){var m=Math.min(1,(n-h.loaded)/200);mt(h.el,m),m<1?r=!0:(h.active?a=!0:this._onOpaqueTile(h),h.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(le(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===n?(this._levels[a].el.style.zIndex=r-Math.abs(n-a),this._onUpdateLevel(a)):(ke(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[n],h=this._map;return u||(u=this._levels[n]={},u.el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=r,u.origin=h.project(h.unproject(h.getPixelOrigin()),n).round(),u.zoom=n,this._setZoomTransform(u,h.getCenter(),h.getZoom()),x(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var n,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var u=r.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ke(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,a,u){var h=Math.floor(n/2),m=Math.floor(r/2),_=a-1,b=new E(+h,+m);b.z=+_;var P=this._tileCoordsToKey(b),D=this._tiles[P];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),_>u?this._retainParent(h,m,_,u):!1)},_retainChildren:function(n,r,a,u){for(var h=2*n;h<2*n+2;h++)for(var m=2*r;m<2*r+2;m++){var _=new E(h,m);_.z=a+1;var b=this._tileCoordsToKey(_),P=this._tiles[b];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);a+1<u&&this._retainChildren(h,m,a+1,u)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,a,u){var h=Math.round(r);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!u||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(n),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],n,r)},_setZoomTransform:function(n,r,a){var u=this._map.getZoomScale(a,n.zoom),h=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(r,a)).round();K.any3d?On(n.el,h,u):ze(n.el,h)},_resetGrid:function(){var n=this._map,r=n.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],u).x/a.x),Math.ceil(n.project([0,r.wrapLng[1]],u).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],u).y/a.x),Math.ceil(n.project([r.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),u=r.getZoomScale(a,this._tileZoom),h=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(u*2);return new B(h.subtract(m),h.add(m))},_update:function(n){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(n),h=this._pxBoundsToTileRange(u),m=h.getCenter(),_=[],b=this.options.keepBuffer,P=new B(h.getBottomLeft().subtract([b,-b]),h.getTopRight().add([b,-b]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var Z=this._tiles[D].coords;(Z.z!==this._tileZoom||!P.contains(new E(Z.x,Z.y)))&&(this._tiles[D].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(n,a);return}for(var G=h.min.y;G<=h.max.y;G++)for(var re=h.min.x;re<=h.max.x;re++){var Je=new E(re,G);if(Je.z=this._tileZoom,!!this._isValidTile(Je)){var De=this._tiles[this._tileCoordsToKey(Je)];De?De.current=!0:_.push(Je)}}if(_.sort(function(et,ci){return et.distanceTo(m)-ci.distanceTo(m)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vt=document.createDocumentFragment();for(re=0;re<_.length;re++)this._addTile(_[re],vt);this._level.el.appendChild(vt)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(n.x<a.min.x||n.x>a.max.x)||!r.wrapLat&&(n.y<a.min.y||n.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(n);return oe(this.options.bounds).overlaps(u)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,a=this.getTileSize(),u=n.scaleBy(a),h=u.add(a),m=r.unproject(u,n.z),_=r.unproject(h,n.z);return[m,_]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),a=new fe(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),a=new E(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(n){var r=this._tiles[n];r&&(ke(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){te(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=x,n.onmousemove=x,K.ielt9&&this.options.opacity<1&&mt(n,this.options.opacity)},_addTile:function(n,r){var a=this._getTilePos(n),u=this._tileCoordsToKey(n),h=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(h),this.createTile.length<2&&ae(c(this._tileReady,this,n,null,h)),ze(h,a),this._tiles[u]={el:h,coords:n,current:!0},r.appendChild(h),this.fire("tileloadstart",{tile:h,coords:n})},_tileReady:function(n,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:n});var u=this._tileCoordsToKey(n);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(mt(a.el,0),le(this._fadeFrame),this._fadeFrame=ae(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(te(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),K.ielt9||!this._map._fadeAnimated?ae(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new E(this._wrapX?S(n.x,this._wrapX):n.x,this._wrapY?S(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new B(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function _0(n){return new rr(n)}var ui=rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=T(this,r),r.detectRetina&&K.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var a=document.createElement("img");return ee(a,"load",c(this._tileOnLoad,this,r,a)),ee(a,"error",c(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(n),a},getTileUrl:function(n){var r={r:K.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=a),r["-y"]=a}return y(this._url,s(r,this.options))},_tileOnLoad:function(n,r){K.ielt9?setTimeout(c(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,a){var u=this.options.errorTileUrl;u&&r.getAttribute("src")!==u&&(r.src=u),n(a,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(n=r-n),n+u},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=x,r.onerror=x,!r.complete)){r.src=I;var a=this._tiles[n].coords;ke(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",I),rr.prototype._removeTile.call(this,n)},_tileReady:function(n,r,a){if(!(!this._map||a&&a.getAttribute("src")===I))return rr.prototype._tileReady.call(this,n,r,a)}});function Vc(n,r){return new ui(n,r)}var Kc=ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var a=s({},this.defaultWmsParams);for(var u in r)u in this.options||(a[u]=r[u]);r=T(this,r);var h=r.detectRetina&&K.retina?2:1,m=this.getTileSize();a.width=m.x*h,a.height=m.y*h,this.wmsParams=a},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,ui.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),a=this._crs,u=H(a.project(r[0]),a.project(r[1])),h=u.min,m=u.max,_=(this._wmsVersion>=1.3&&this._crs===Rc?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),b=ui.prototype.getTileUrl.call(this,n);return b+V(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(n,r){return s(this.wmsParams,n),r||this.redraw(),this}});function y0(n,r){return new Kc(n,r)}ui.WMS=Kc,Vc.wms=y0;var qt=Nt.extend({options:{padding:.1},initialize:function(n){T(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var a=this._map.getZoomScale(r,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,r),m=u.multiplyBy(-a).add(h).subtract(this._map._getNewPixelOrigin(n,r));K.any3d?On(this._container,m,a):ze(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new B(a,a.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$c=qt.extend({options:{tolerance:0},getEvents:function(){var n=qt.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ee(n,"mousemove",this._onMouseMove,this),ee(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){le(this._redrawRequest),delete this._ctx,ke(this._container),ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qt.prototype._update.call(this);var n=this._bounds,r=this._container,a=n.getSize(),u=K.retina?2:1;ze(r,n.min),r.width=u*a.x,r.height=u*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",K.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){qt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,a=r.next,u=r.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),a=[],u,h;for(h=0;h<r.length;h++){if(u=Number(r[h]),isNaN(u))return;a.push(u)}n.options._dashArray=a}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ae(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)n=u.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var a,u,h,m,_=n._parts,b=_.length,P=this._ctx;if(b){for(P.beginPath(),a=0;a<b;a++){for(u=0,h=_[a].length;u<h;u++)m=_[a][u],P[u?"lineTo":"moveTo"](m.x,m.y);r&&P.closePath()}this._fillStroke(P,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,a=this._ctx,u=Math.max(Math.round(n._radius),1),h=(Math.max(Math.round(n._radiusY),1)||u)/u;h!==1&&(a.save(),a.scale(1,h)),a.beginPath(),a.arc(r.x,r.y/h,u,0,Math.PI*2,!1),h!==1&&a.restore(),this._fillStroke(a,n)}},_fillStroke:function(n,r){var a=r.options;a.fill&&(n.globalAlpha=a.fillOpacity,n.fillStyle=a.fillColor||a.color,n.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=a.opacity,n.lineWidth=a.weight,n.strokeStyle=a.color,n.lineCap=a.lineCap,n.lineJoin=a.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var a,u,h=this._drawFirst;h;h=h.next)a=h.layer,a.options.interactive&&a._containsPoint(r)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(n),u&&(te(this._container,"leaflet-interactive"),this._fireEvent([u],n,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,a){this._map._fireDOMEvent(r,a||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var a=r.next,u=r.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function Gc(n){return K.canvas?new $c(n):null}var or=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),x0={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qt.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=or("shape");te(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=or("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;ke(r),n.removeInteractiveTarget(r),delete this._layers[p(n)]},_updateStyle:function(n){var r=n._stroke,a=n._fill,u=n.options,h=n._container;h.stroked=!!u.stroke,h.filled=!!u.fill,u.stroke?(r||(r=n._stroke=or("stroke")),h.appendChild(r),r.weight=u.weight+"px",r.color=u.color,r.opacity=u.opacity,u.dashArray?r.dashStyle=w(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=u.lineCap.replace("butt","flat"),r.joinstyle=u.lineJoin):r&&(h.removeChild(r),n._stroke=null),u.fill?(a||(a=n._fill=or("fill")),h.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(h.removeChild(a),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),a=Math.round(n._radius),u=Math.round(n._radiusY||a);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){ii(n._container)},_bringToBack:function(n){ri(n._container)}},yo=K.vml?or:Rt,sr=qt.extend({_initContainer:function(){this._container=yo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ke(this._container),ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qt.prototype._update.call(this);var n=this._bounds,r=n.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),ze(a,n.min),a.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=yo("path");n.options.className&&te(r,n.options.className),n.options.interactive&&te(r,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ke(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,a=n.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,ti(n._parts,r))},_updateCircle:function(n){var r=n._point,a=Math.max(Math.round(n._radius),1),u=Math.max(Math.round(n._radiusY),1)||a,h="a"+a+","+u+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-a)+","+r.y+h+a*2+",0 "+h+-a*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){ii(n._path)},_bringToBack:function(n){ri(n._path)}});K.vml&&sr.include(x0);function Jc(n){return K.svg||K.vml?new sr(n):null}ce.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&Gc(n)||Jc(n)}});var Yc=ai.extend({initialize:function(n,r){ai.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=oe(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function w0(n,r){return new Yc(n,r)}sr.create=yo,sr.pointsToPath=ti,Yt.geometryToLayer=ho,Yt.coordsToLatLng=ba,Yt.coordsToLatLngs=fo,Yt.latLngToCoords=Pa,Yt.latLngsToCoords=po,Yt.getFeature=li,Yt.asFeature=mo,ce.mergeOptions({boxZoom:!0});var qc=Zt.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qi(),aa(),this._startPoint=this._map.mouseEventToContainerPoint(n),ee(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new B(this._point,this._startPoint),a=r.getSize();ze(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ke(this._box),Ee(this._container,"leaflet-crosshair")),Qi(),la(),ge(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ce.addInitHook("addHandler","boxZoom",qc),ce.mergeOptions({doubleClickZoom:!0});var Qc=Zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,a=r.getZoom(),u=r.options.zoomDelta,h=n.originalEvent.shiftKey?a-u:a+u;r.options.doubleClickZoom==="center"?r.setZoom(h):r.setZoomAround(n.containerPoint,h)}});ce.addInitHook("addHandler","doubleClickZoom",Qc),ce.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xc=Zt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new cn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=oe(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,h=(u-r+a)%n+r-a,m=(u+r+a)%n-r-a,_=Math.abs(h+a)<Math.abs(m+a)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(n){var r=this._map,a=r.options,u=!a.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),u)r.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,_=a.easeLinearity,b=h.multiplyBy(_/m),P=b.distanceTo([0,0]),D=Math.min(a.inertiaMaxSpeed,P),Z=b.multiplyBy(D/P),G=D/(a.inertiaDeceleration*_),re=Z.multiplyBy(-G/2).round();!re.x&&!re.y?r.fire("moveend"):(re=r._limitOffset(re,r.options.maxBounds),ae(function(){r.panBy(re,{duration:G,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});ce.addInitHook("addHandler","dragging",Xc),ce.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ed=Zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ee(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,a=n.scrollTop||r.scrollTop,u=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},a=this.keyCodes,u,h;for(u=0,h=a.left.length;u<h;u++)r[a.left[u]]=[-1*n,0];for(u=0,h=a.right.length;u<h;u++)r[a.right[u]]=[n,0];for(u=0,h=a.down.length;u<h;u++)r[a.down[u]]=[0,n];for(u=0,h=a.up.length;u<h;u++)r[a.up[u]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},a=this.keyCodes,u,h;for(u=0,h=a.zoomIn.length;u<h;u++)r[a.zoomIn[u]]=n;for(u=0,h=a.zoomOut.length;u<h;u++)r[a.zoomOut[u]]=-n},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,a=this._map,u;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[r],n.shiftKey&&(u=N(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(N(u),a.options.maxBounds)),a.options.worldCopyJump){var h=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(h)}else a.panBy(u)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Rn(n)}}});ce.addInitHook("addHandler","keyboard",ed),ce.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var td=Zt.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Pc(n),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),Rn(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),a=this._map.options.zoomSnap||0;n._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,m=a?Math.ceil(h/a)*a:h,_=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,_&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+_):n.setZoomAround(this._lastMousePos,r+_))}});ce.addInitHook("addHandler","scrollWheelZoom",td);var S0=600;ce.mergeOptions({tapHold:K.touchNative&&K.safari&&K.mobile,tapTolerance:15});var nd=Zt.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new E(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",Ze),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),S0),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){ge(document,"touchend",Ze),ge(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new E(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var a=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});ce.addInitHook("addHandler","tapHold",nd),ce.mergeOptions({touchZoom:K.touch,bounceAtZoomLimits:!0});var id=Zt.extend({addHooks:function(){te(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),Ze(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(n.touches[0]),u=r.mouseEventToContainerPoint(n.touches[1]),h=a.distanceTo(u)/this._startDist;if(this._zoom=r.getScaleZoom(h,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&h<1||this._zoom>r.getMaxZoom()&&h>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),le(this._animRequest);var _=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ae(_,this,!0),Ze(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,le(this._animRequest),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ce.addInitHook("addHandler","touchZoom",id),ce.BoxZoom=qc,ce.DoubleClickZoom=Qc,ce.Drag=Xc,ce.Keyboard=ed,ce.ScrollWheelZoom=td,ce.TapHold=nd,ce.TouchZoom=id,i.Bounds=B,i.Browser=K,i.CRS=pe,i.Canvas=$c,i.Circle=ka,i.CircleMarker=co,i.Class=ie,i.Control=Ct,i.DivIcon=Wc,i.DivOverlay=Ut,i.DomEvent=Bm,i.DomUtil=Rm,i.Draggable=cn,i.Evented=Se,i.FeatureGroup=Gt,i.GeoJSON=Yt,i.GridLayer=rr,i.Handler=Zt,i.Icon=si,i.ImageOverlay=go,i.LatLng=ue,i.LatLngBounds=fe,i.Layer=Nt,i.LayerGroup=oi,i.LineUtil=Xm,i.Map=ce,i.Marker=uo,i.Mixin=$m,i.Path=dn,i.Point=E,i.PolyUtil=Gm,i.Polygon=ai,i.Polyline=Jt,i.Popup=vo,i.PosAnimation=Cc,i.Projection=e0,i.Rectangle=Yc,i.Renderer=qt,i.SVG=sr,i.SVGOverlay=Hc,i.TileLayer=ui,i.Tooltip=_o,i.Transformation=ei,i.Util=Be,i.VideoOverlay=Uc,i.bind=c,i.bounds=H,i.canvas=Gc,i.circle=l0,i.circleMarker=a0,i.control=tr,i.divIcon=v0,i.extend=s,i.featureGroup=r0,i.geoJSON=Zc,i.geoJson=d0,i.gridLayer=_0,i.icon=o0,i.imageOverlay=h0,i.latLng=q,i.latLngBounds=oe,i.layerGroup=i0,i.map=Zm,i.marker=s0,i.point=N,i.polygon=c0,i.polyline=u0,i.popup=m0,i.rectangle=w0,i.setOptions=T,i.stamp=p,i.svg=Jc,i.svgOverlay=p0,i.tileLayer=Vc,i.tooltip=g0,i.transformation=un,i.version=o,i.videoOverlay=f0;var k0=window.L;i.noConflict=function(){return window.L=k0,this},window.L=i})})(eu,eu.exports);var It=eu.exports;function $s(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Gs(e,t){return t==null?function(o,s){const l=z.useRef();return l.current||(l.current=e(o,s)),l}:function(o,s){const l=z.useRef();l.current||(l.current=e(o,s));const c=z.useRef(o),{instance:f}=l.current;return z.useEffect(function(){c.current!==o&&(t(f,o,c.current),c.current=o)},[f,o,s]),l}}function tm(e,t){z.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function nm(e){return function(i){const o=Qu(),s=e(Ks(i,o),o);return Yp(o.map,i.attribution),Xu(s.current,i.eventHandlers),tm(s.current,o),s}}function Ly(e,t){const i=z.useRef();z.useEffect(function(){if(t.pathOptions!==i.current){const s=t.pathOptions??{};e.instance.setStyle(s),i.current=s}},[e,t])}function zy(e){return function(i){const o=Qu(),s=e(Ks(i,o),o);return Xu(s.current,i.eventHandlers),tm(s.current,o),Ly(s.current,i),s}}function My(e,t){const i=Gs(e,t),o=nm(i);return em(o)}function Ay(e,t){const i=Gs(e),o=Ey(i,t);return Ny(o)}function jy(e,t){const i=Gs(e,t),o=zy(i);return em(o)}function Oy(e,t){const i=Gs(e,t),o=nm(i);return Ty(o)}function Iy(e,t,i){const{opacity:o,zIndex:s}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),s!=null&&s!==i.zIndex&&e.setZIndex(s)}function tu(){return tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},tu.apply(this,arguments)}function Dy({bounds:e,boundsOptions:t,center:i,children:o,className:s,id:l,placeholder:c,style:f,whenReady:p,zoom:g,...S},x){const[k]=z.useState({className:s,id:l,style:f}),[C,M]=z.useState(null);z.useImperativeHandle(x,()=>(C==null?void 0:C.map)??null,[C]);const T=z.useCallback(v=>{if(v!==null&&C===null){const y=new It.Map(v,S);i!=null&&g!=null?y.setView(i,g):e!=null&&y.fitBounds(e,t),p!=null&&y.whenReady(p),M(Cy(y))}},[]);z.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const V=C?ts.createElement(Xp,{value:C},o):c??null;return ts.createElement("div",tu({},k,{ref:T}),V)}const Js=z.forwardRef(Dy),$r=My(function({position:t,...i},o){const s=new It.Marker(t,i);return $s(s,qp(o,{overlayContainer:s}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),im=jy(function({positions:t,...i},o){const s=new It.Polyline(t,i);return $s(s,qp(o,{overlayContainer:s}))},function(t,i,o){i.positions!==o.positions&&t.setLatLngs(i.positions)}),Gr=Ay(function(t,i){const o=new It.Popup(t,i.overlayContainer);return $s(o,i)},function(t,i,{position:o},s){z.useEffect(function(){const{instance:c}=t;function f(g){g.popup===c&&(c.update(),s(!0))}function p(g){g.popup===c&&s(!1)}return i.map.on({popupopen:f,popupclose:p}),i.overlayContainer==null?(o!=null&&c.setLatLng(o),c.openOn(i.map)):i.overlayContainer.bindPopup(c),function(){var S;i.map.off({popupopen:f,popupclose:p}),(S=i.overlayContainer)==null||S.unbindPopup(),i.map.removeLayer(c)}},[t,i,s,o])}),Ys=Oy(function({url:t,...i},o){const s=new It.TileLayer(t,Ks(i,o));return $s(s,o)},function(t,i,o){Iy(t,i,o);const{url:s}=i;s!=null&&s!==o.url&&t.setUrl(s)}),Ry={FLL:{lat:26.0726,lng:-80.1527,name:"Fort Lauderdale"},SFO:{lat:37.6213,lng:-122.379,name:"San Francisco"},DEN:{lat:39.8561,lng:-104.6737,name:"Denver"},MNL:{lat:14.5086,lng:121.0194,name:"Manila"},BCD:{lat:10.7764,lng:123.0148,name:"Bacolod"},NRT:{lat:35.772,lng:140.3929,name:"Tokyo Narita"},HND:{lat:35.5494,lng:139.7798,name:"Tokyo Haneda"},UENO:{lat:35.7141,lng:139.7774,name:"Ueno Station"},JOETSU:{lat:37.1033,lng:138.2531,name:"Jetsumyk Station"}},Sh=50,Fy=.1,By=new It.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[20,33],iconAnchor:[10,33],popupAnchor:[1,-28],shadowSize:[33,33]}),Zy=new It.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[20,33],iconAnchor:[10,33],popupAnchor:[1,-28],shadowSize:[33,33]}),Uy={color:"#3b82f6",weight:2,opacity:.8,dashArray:"10, 10"},kh=e=>{if(!e)return null;const t=e.match(/^([A-Z]{3})/);return t?t[1]:null},bh=e=>e?Ry[e]:null,Hy=(e,t)=>{const i=(e.lat+t.lat)/2,o=(e.lng+t.lng)/2;return[i,o]},Wy=(e,t)=>{const i=Math.abs(e.lat-t.lat),o=Math.abs(e.lng-t.lng),s=Math.max(i,o);return s>100?1:s>50?2:s>20?3:s>10?4:s>5?5:6},Vy=(e,t)=>{const i=Math.abs(e.lat-t.lat),o=Math.abs(e.lng-t.lng);return Math.max(i,o)},Ky=(e,t,i)=>{const o=[];for(let s=0;s<=Sh;s++){const l=s/Sh,c=e[0]+(t[0]-e[0])*l,f=e[1]+(t[1]-e[1])*l,p=Math.sin(l*Math.PI)*(i*Fy);o.push([c+p*.3,f])}return o};function $y({departureAirport:e,arrivalAirport:t,route:i,type:o}){const s=kh(e),l=kh(t),c=bh(s),f=bh(l);if(!c||!f)return null;const p=[c.lat,c.lng],g=[f.lat,f.lng],S=Hy(c,f),x=Wy(c,f),k=Vy(c,f),C=Ky(p,g,k),M=i||`${s}  ${l}`;return d.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden border border-blue-800/50",style:{minHeight:"180px"},children:[d.jsxs("div",{className:"absolute top-2 left-2 z-[1000] bg-blue-900/90 backdrop-blur-sm px-2.5 py-1.5 rounded-lg border border-blue-700/50 flex items-center gap-2",children:[d.jsx(Bi,{size:16,className:"text-blue-400"}),d.jsx("span",{className:"text-sm font-medium text-blue-200",children:M})]}),d.jsxs(Js,{center:S,zoom:x,scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[d.jsx(Ys,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),d.jsx(im,{positions:C,pathOptions:Uy}),d.jsx($r,{position:p,icon:By,children:d.jsx(Gr,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold",children:" Departure"}),d.jsxs("div",{className:"text-xs",children:[c.name," (",s,")"]})]})})}),d.jsx($r,{position:g,icon:Zy,children:d.jsx(Gr,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold",children:" Arrival"}),d.jsxs("div",{className:"text-xs",children:[f.name," (",l,")"]})]})})})]})]})}const Gy=e=>e.status==="BUFFER",Jy=e=>!!(e.departureAirport&&e.arrivalAirport),Yy=e=>{switch(e){case 1:return"bg-green-950/40 border border-green-900/50";case 2:return"bg-amber-950/40 border border-amber-900/50";case 3:return"bg-red-950/40 border border-red-900/50";default:return"bg-zinc-950/40 border border-zinc-900/50"}};function qy({bufferSegmentItem:e}){const t=!!e.location,i=e.type&&e.type!=="Buffer",o=e.details||e.route||"Scheduled buffer period";return d.jsx("div",{className:"p-3 md:p-4",children:d.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-violet-950/40 via-purple-950/30 to-indigo-950/40 border border-violet-700/40 p-4 md:p-5",children:[d.jsxs("div",{className:"absolute inset-0 opacity-10",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-violet-500 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-indigo-500 rounded-full blur-3xl"})]}),d.jsxs("div",{className:"relative flex items-center gap-3 md:gap-5",children:[d.jsx("div",{className:"flex-shrink-0 w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-2xl bg-gradient-to-br from-violet-600/30 to-indigo-600/30 border border-violet-500/40 flex items-center justify-center",children:d.jsx(v_,{className:"w-6 h-6 md:w-8 md:h-8 text-violet-300"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1.5 md:mb-2",children:[d.jsx("h3",{className:"text-base md:text-lg font-semibold text-violet-100",children:" Buffer Time"}),d.jsx(qu,{code:e.status})]}),d.jsx("p",{className:"text-violet-200/80 text-xs md:text-sm mb-2 md:mb-3 truncate",children:o}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[e.time&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-violet-800/40 border border-violet-600/50 text-xs md:text-sm text-violet-200",children:[d.jsx(Fi,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-violet-400"}),d.jsx("span",{children:e.time})]}),t&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-violet-800/40 border border-violet-600/50 text-xs md:text-sm text-violet-200",children:[d.jsx(jt,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-violet-400"}),d.jsx("span",{children:e.location})]}),i&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-indigo-800/40 border border-indigo-600/50 text-xs md:text-sm text-indigo-200",children:[d.jsx(c_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-indigo-400"}),d.jsx("span",{children:e.type})]})]})]}),d.jsxs("div",{className:"hidden sm:flex flex-col items-center gap-2 text-violet-400/60",children:[d.jsx(x_,{className:"w-6 h-6"}),d.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:"Safe"})]})]})]})})}function Qy({backupPlanData:e}){const[t,i]=z.useState(!1),o=()=>i(!t);return d.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-900/20",children:[d.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-xs font-medium text-red-400 hover:text-red-300",children:[t?d.jsx(Ki,{className:"h-3 w-3"}):d.jsx($i,{className:"h-3 w-3"})," Backup Plan: ",e.trigger]}),t&&d.jsx("div",{className:"mt-2 space-y-2 pl-5",children:e.options.map(s=>d.jsx("div",{className:ve("text-xs rounded p-2",Yy(s.priority)),children:d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium text-zinc-100",children:["P",s.priority,": ",s.title]}),d.jsx("div",{className:"text-zinc-400 mt-0.5",children:s.description}),s.contact&&d.jsxs("div",{className:"text-zinc-500 mt-0.5 italic",children:["Contact: ",s.contact]})]}),d.jsx(qu,{code:s.status})]})},s.id))})]})}const Xy=z.memo(function({items:t,isExpanded:i,onToggle:o,showBackupPlans:s}){if(!t||t.length===0)return null;const l=t.length;return d.jsxs("div",{className:"border border-blue-900/50 rounded-lg overflow-hidden bg-blue-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2.5 md:py-3 hover:bg-blue-900/20 transition flex items-center justify-between bg-blue-900/30",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(Bi,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"}),d.jsxs("span",{className:"text-sm md:text-base font-medium text-blue-200",children:[" Travel ",d.jsxs("span",{className:"text-blue-500",children:["(",l,")"]})]})]}),i?d.jsx(Ki,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"}):d.jsx($i,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400"})]}),i&&d.jsx("div",{className:"divide-y divide-blue-900/30 bg-blue-950/10 slide-down mb-3",children:t.map(c=>Gy(c)?d.jsx(qy,{bufferSegmentItem:c},c.id):d.jsxs("div",{className:"p-3 md:p-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4 md:min-h-[180px]",children:[d.jsxs("div",{className:"w-full md:w-[60%] min-w-0 flex flex-col justify-between",children:[d.jsx("div",{children:d.jsxs("div",{className:"flex items-start justify-between gap-2 md:gap-3 mb-2 md:mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-100 text-base md:text-lg",children:c.route}),c.flight&&d.jsxs("div",{className:"text-xs md:text-sm text-blue-400 mt-1",children:[c.airline," ",c.flight,c.aircraft&&d.jsxs("span",{className:"text-blue-500",children:["  ",c.aircraft]})]})]}),c.status&&d.jsx(qu,{code:c.status})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-blue-300",children:[c.time&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[d.jsx(Fi,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{children:c.time})]}),c.duration&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[d.jsx(S_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{children:c.duration})]}),c.cabinClass&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-blue-900/40 border border-blue-700/50",children:[d.jsx(l_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{children:c.cabinClass})]})]})]}),Jy(c)&&d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",children:d.jsx($y,{departureAirport:c.departureAirport,arrivalAirport:c.arrivalAirport,route:c.route,type:c.type})})]}),(c.departureAirport||c.arrivalAirport)&&d.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 mt-2 md:mt-3 pt-2 md:pt-3 border-t border-blue-900/30",children:[c.departureAirport&&d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-blue-300",children:[d.jsx(Bi,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400 rotate-[-45deg]"}),d.jsx("span",{className:"text-blue-400 font-medium",children:"From:"}),d.jsx("span",{className:"truncate",children:c.departureAirport})]}),c.arrivalAirport&&d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-blue-300",children:[d.jsx(jt,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-blue-400"}),d.jsx("span",{className:"text-blue-400 font-medium",children:"To:"}),d.jsx("span",{className:"truncate",children:c.arrivalAirport})]})]}),s&&c.backupPlan&&d.jsx(Qy,{backupPlanData:c.backupPlan})]},c.id))})]})}),ex=new It.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),tx={Sports:"#3b82f6",Food:"#f97316",Sightseeing:"#a855f7",Shopping:"#ec4899",Logistics:"#71717a",Relaxation:"#06b6d4",Family:"#f43f5e",Rest:"#6366f1",Entertainment:"#8b5cf6",Cultural:"#ef4444",Personal:"#64748b",Transport:"#0ea5e9",Outdoor:"#22c55e",Nightlife:"#d946ef"},Ro={color:"#14b8a6",weight:3,opacity:.6,dashArray:"10, 10"},nx=(e,t="#14b8a6")=>new It.DivIcon({html:`
      <div style="
        background-color: ${t};
        border: 3px solid white;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        font-weight: bold;
        color: white;
        box-shadow: 0 3px 6px rgba(0,0,0,0.4);
      ">
        ${e}
      </div>
    `,className:"custom-numbered-marker",iconSize:[36,36],iconAnchor:[18,18],popupAnchor:[0,-18]}),ix=(e,t)=>{const i=Math.max(e,t);return i>.1?12:i>.05?13:14},rx=e=>{if(e.length===0)return{center:[0,0],zoom:14};const t=e.map(p=>p.lat),i=e.map(p=>p.lng),o=(Math.min(...t)+Math.max(...t))/2,s=(Math.min(...i)+Math.max(...i))/2,l=Math.max(...t)-Math.min(...t),c=Math.max(...i)-Math.min(...i),f=ix(l,c);return{center:[o,s],zoom:f}},ox=e=>e.filter(t=>{var i,o;return((i=t.coordinates)==null?void 0:i.lat)&&((o=t.coordinates)==null?void 0:o.lng)}),sx=e=>e.map((t,i)=>({position:[t.coordinates.lat,t.coordinates.lng],name:t.name,location:t.location,category:t.category,time:t.timeStart||t.time,index:i+1})),ax=e=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.name||`${e.coordinates.lat},${e.coordinates.lng}`)}`,lx=e=>{if(e.length<2)return null;const t=e[0],i=e[e.length-1];let o="https://www.google.com/maps/dir/?api=1";if(o+=`&origin=${t.position[0]},${t.position[1]}`,o+=`&destination=${i.position[0]},${i.position[1]}`,e.length>2){const l=e.slice(1,-1).map(c=>`${c.position[0]},${c.position[1]}`).join("|");o+=`&waypoints=${l}`}return o};function rm({isOpen:e,onClose:t,type:i,data:o}){if(z.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const s=i==="shelter",l=i==="activities";let c=[0,0],f=14,p=[];if(s&&(o!=null&&o.coordinates)&&(c=[o.coordinates.lat,o.coordinates.lng],f=15,p=[{position:c,name:o.name,address:o.address,type:o.type}]),l&&(o!=null&&o.activities)){const C=ox(o.activities);if(C.length>0){const M=C.map(v=>v.coordinates),{center:T,zoom:V}=rx(M);c=T,f=V,p=sx(C)}}const S=s&&(o!=null&&o.coordinates)?ax(o):l&&p.length>1?lx(p):null,x=s?(o==null?void 0:o.name)||"Shelter Location":`Activity Locations (${p.length})`,k=l&&p.length>1;return d.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-2 md:p-4 bg-black/80 backdrop-blur-sm",onClick:t,children:d.jsxs("div",{className:"relative w-full max-w-5xl h-[90vh] md:h-[80vh] bg-zinc-900 rounded-xl md:rounded-2xl border border-zinc-700 overflow-hidden shadow-2xl",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[1001] bg-zinc-900/95 backdrop-blur-sm border-b border-zinc-700 px-3 md:px-4 py-2.5 md:py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0 flex-1",children:[d.jsx(jt,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm md:text-lg font-semibold text-white truncate",children:x})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[S&&d.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 md:gap-2 px-2 md:px-3 py-1 md:py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-xs md:text-sm font-medium rounded-lg transition-colors",children:[d.jsx(zn,{size:14,className:"md:hidden"}),d.jsx(zn,{size:16,className:"hidden md:block"}),d.jsx("span",{className:"hidden sm:inline",children:"Open in Google Maps"}),d.jsx("span",{className:"sm:hidden",children:"Maps"})]}),d.jsxs("button",{onClick:t,className:"p-1.5 md:p-2 hover:bg-zinc-700 rounded-lg transition-colors text-zinc-400 hover:text-white",children:[d.jsx(Ts,{size:18,className:"md:hidden"}),d.jsx(Ts,{size:20,className:"hidden md:block"})]})]})]}),d.jsx("div",{className:"w-full h-full pt-12 md:pt-14",children:d.jsxs(Js,{center:c,zoom:f,scrollWheelZoom:!0,dragging:!0,zoomControl:!0,attributionControl:!0,style:{height:"100%",width:"100%"},children:[d.jsx(Ys,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),p.map((C,M)=>{const T=l?nx(C.index,tx[C.category]||"#14b8a6"):ex;return d.jsx($r,{position:C.position,icon:T,children:d.jsx(Gr,{children:d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"font-semibold text-zinc-900",children:C.name}),C.location&&d.jsx("div",{className:"text-zinc-600",children:C.location}),C.address&&d.jsx("div",{className:"text-zinc-600",children:C.address}),C.time&&d.jsxs("div",{className:"text-zinc-500 mt-1",children:[" ",C.time]}),C.category&&d.jsx("div",{className:"text-zinc-500",children:C.category}),C.type&&d.jsx("div",{className:"text-zinc-500",children:C.type})]})})},M)}),k&&d.jsx(im,{positions:p.map(C=>C.position),color:Ro.color,weight:Ro.weight,opacity:Ro.opacity,dashArray:Ro.dashArray})]})})]})})}const ux=new It.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),cx=15,dx=13,hx=2e3,fx={Hotel:"",Airbnb:"","Personal residence":""},px="";function mx(e,t,i){return`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i||`${e},${t}`)}&center=${e},${t}`}function gx(e){return e==="Hotel"||e==="Airbnb"?cx:dx}function vx(e){return fx[e]||px}function _x(e){return(e==null?void 0:e.lat)!=null&&(e==null?void 0:e.lng)!=null}function yx(e){return[e.lat,e.lng]}const om=z.memo(function({coordinates:t,name:i,address:o,type:s}){const[l,c]=z.useState(!1),[f,p]=z.useState(!1);if(!_x(t))return null;const g=yx(t),S=mx(t.lat,t.lng,i||o),x=gx(s),k=vx(s),C=z.useCallback(async T=>{if(T.stopPropagation(),T.preventDefault(),!o)return;const[,V]=await navigator.clipboard.writeText(o).then(()=>[void 0,null],v=>[null,v instanceof Error?v:new Error(String(v))]);if(V){console.error("Failed to copy address:",V);return}p(!0),setTimeout(()=>p(!1),hx)},[o]),M=z.useCallback(T=>{T.stopPropagation(),c(!0)},[]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[d.jsxs("div",{className:"absolute top-3 left-3 z-[1000] bg-zinc-900/90 backdrop-blur-sm px-3 py-2 rounded-lg border border-zinc-700/50 flex items-center gap-2",children:[d.jsx(jt,{size:18,className:"text-blue-400"}),d.jsxs("span",{className:"text-sm font-medium text-zinc-200",children:[k," ",i||"Tonight's Stay"]})]}),d.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",onClick:T=>T.stopPropagation(),className:"absolute top-3 right-3 z-[1000] bg-blue-600/90 hover:bg-blue-500/90 backdrop-blur-sm px-3 py-2 rounded-lg border border-blue-500/50 flex items-center gap-2 transition-colors",children:[d.jsx(zn,{size:16,className:"text-white"}),d.jsx("span",{className:"text-sm font-medium text-white",children:"Open in Maps"})]}),o&&d.jsxs("button",{onClick:C,className:`absolute bottom-3 left-3 z-[1000] backdrop-blur-sm px-3 py-2 rounded-lg border flex items-center gap-2 transition-colors ${f?"bg-emerald-600/90 border-emerald-500/50":"bg-zinc-800/90 hover:bg-zinc-700/90 border-zinc-600/50"}`,title:f?"Copied!":"Copy address",children:[f?d.jsx(Vr,{size:16,className:"text-white"}):d.jsx(Kr,{size:16,className:"text-white"}),d.jsx("span",{className:"text-sm font-medium text-white",children:f?"Copied!":"Copy Address"})]}),d.jsx("button",{onClick:M,className:"absolute bottom-3 right-3 z-[1000] bg-zinc-800/90 hover:bg-zinc-700/90 backdrop-blur-sm p-2 rounded-lg border border-zinc-600/50 transition-colors",title:"Expand map",children:d.jsx(Kp,{size:16,className:"text-white"})}),d.jsxs(Js,{center:g,zoom:x,scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[d.jsx(Ys,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),d.jsx($r,{position:g,icon:ux,children:d.jsx(Gr,{className:"custom-popup",children:d.jsxs("div",{className:"text-sm",children:[d.jsxs("div",{className:"font-semibold",children:[k," ",i]}),o&&d.jsx("div",{className:"text-xs text-gray-600 mt-1",children:o}),d.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs text-blue-600 hover:text-blue-700 font-medium",children:[d.jsx(zn,{size:10}),"Open in Google Maps"]})]})})})]}),d.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-zinc-950/40 via-transparent to-transparent z-[500]"})]}),d.jsx(rm,{isOpen:l,onClose:()=>c(!1),type:"shelter",data:{coordinates:t,name:i,address:o,type:s}})]})}),xx=2e3,wx=e=>!e||Object.keys(e).length===0,Sx=e=>e.checkOut&&e.dayOfStay===e.totalStayDays,kx=z.memo(function({shelter:t,isExpanded:i,onToggle:o}){const[s,l]=z.useState(!1);if(wx(t))return null;const c=z.useCallback(async S=>{if(S.stopPropagation(),!t.address)return;const[,x]=await navigator.clipboard.writeText(t.address).then(()=>[void 0,null],k=>[null,k instanceof Error?k:new Error(String(k))]);if(x){console.error("Failed to copy address:",x);return}l(!0),setTimeout(()=>l(!1),xx)},[t.address]),f=Sx(t),p=!!t.coordinates,g=t.isMultiDayStay&&t.dayOfStay&&t.totalStayDays;return d.jsxs("div",{className:"border border-purple-900/50 rounded-lg overflow-hidden bg-purple-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2.5 md:py-3 hover:bg-purple-900/20 transition flex items-center justify-between bg-purple-900/30",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(u_,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"}),d.jsx("span",{className:"text-sm md:text-base font-medium text-purple-200",children:" Shelter"})]}),i?d.jsx(Ki,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"}):d.jsx($i,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-400"})]}),i&&d.jsxs("div",{className:"p-3 md:p-4 bg-purple-950/10 slide-down",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4",children:[d.jsxs("div",{className:"w-full md:w-[60%] min-w-0 flex flex-col gap-3 md:gap-4",children:[d.jsx("div",{children:t.name&&d.jsxs("div",{className:"mb-2 md:mb-3",children:[d.jsx("div",{className:"text-base md:text-lg font-semibold text-purple-100",children:t.name}),t.address&&d.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 text-xs md:text-sm text-purple-300 mt-1",children:[d.jsx(jt,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400"}),d.jsx("span",{className:"truncate",children:t.address}),d.jsx("button",{onClick:c,className:ve("p-1 rounded transition-colors flex-shrink-0",s?"text-emerald-400":"text-purple-400 hover:text-purple-200 hover:bg-purple-800/50"),title:s?"Copied!":"Copy address",children:s?d.jsx(Vr,{className:"h-3 w-3 md:h-3.5 md:w-3.5"}):d.jsx(Kr,{className:"h-3 w-3 md:h-3.5 md:w-3.5"})})]})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[t.type&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-purple-900/40 border border-purple-700/50 text-xs md:text-sm text-purple-200",children:[d.jsx(g_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400"}),d.jsx("span",{children:t.type})]}),t.checkIn&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-emerald-900/40 border border-emerald-700/50 text-xs md:text-sm text-emerald-200",children:[d.jsx(Fi,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-emerald-400"}),d.jsxs("span",{children:["Check-in: ",t.checkIn]})]}),f&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-amber-900/40 border border-amber-700/50 text-xs md:text-sm text-amber-200",children:[d.jsx(Fi,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-amber-400"}),d.jsxs("span",{children:["Check-out: ",t.checkOut]})]}),g&&d.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-3 py-1 md:py-1.5 rounded-full bg-indigo-900/40 border border-indigo-700/50 text-xs md:text-sm text-indigo-200",children:[d.jsx(Wp,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-indigo-400"}),d.jsxs("span",{children:["Night ",t.dayOfStay," of ",t.totalStayDays]})]})]})]}),p&&d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0 h-[140px]",children:d.jsx(om,{coordinates:t.coordinates,name:t.name,address:t.address,type:t.type})})]}),t.notes&&d.jsxs("div",{className:"flex items-start gap-1.5 md:gap-2 mt-2 md:mt-3 pt-2 md:pt-3 border-t border-purple-900/30 text-xs md:text-sm text-purple-300",children:[d.jsx(w_,{className:"h-3.5 w-3.5 md:h-4 md:w-4 text-purple-400 flex-shrink-0 mt-0.5"}),d.jsx("span",{className:"italic",children:t.notes})]})]})]})}),bx=z.memo(function({meals:t,isExpanded:i,onToggle:o}){if(!t||t.length===0)return null;const s=t.length;return d.jsxs("div",{className:"border border-amber-900/50 rounded-lg overflow-hidden bg-amber-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-3 md:px-4 py-2 md:py-2.5 hover:bg-amber-900/20 transition flex items-center justify-between bg-amber-900/30",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(k_,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"}),d.jsxs("span",{className:"text-sm md:text-base font-medium text-amber-200",children:[" Meals ",d.jsxs("span",{className:"text-amber-500",children:["(",s,")"]})]})]}),i?d.jsx(Ki,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"}):d.jsx($i,{className:"h-4 w-4 md:h-5 md:w-5 text-amber-400"})]}),i&&d.jsx("div",{className:"divide-y divide-amber-900/30 bg-amber-950/10 slide-down",children:t.map((l,c)=>d.jsx("div",{className:"px-3 md:px-4 py-2 md:py-3",children:d.jsxs("div",{className:"flex items-start justify-between gap-2 md:gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"text-sm md:text-base font-medium text-amber-100",children:l.type}),l.location&&d.jsxs("div",{className:"text-xs md:text-sm text-amber-400 mt-0.5 truncate",children:[" ",l.location]}),l.details&&d.jsx("div",{className:"text-xs md:text-sm text-amber-300 mt-0.5",children:l.details})]}),l.time&&d.jsxs("div",{className:"text-xs md:text-sm text-amber-400 whitespace-nowrap flex-shrink-0",children:[" ",l.time]})]})},c))})]})}),Px={Sports:"#3b82f6",Food:"#f97316",Sightseeing:"#a855f7",Shopping:"#ec4899",Logistics:"#71717a",Relaxation:"#06b6d4",Family:"#f43f5e",Rest:"#6366f1",Entertainment:"#8b5cf6",Cultural:"#ef4444",Personal:"#64748b",Transport:"#0ea5e9",Outdoor:"#22c55e",Nightlife:"#d946ef"},sm="#14b8a6",Fo=.01,Cx=(e,t=sm)=>new It.DivIcon({html:`
      <div style="
        background-color: ${t};
        border: 2px solid white;
        border-radius: 50%;
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
        color: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${e}
      </div>
    `,className:"custom-numbered-marker",iconSize:[28,28],iconAnchor:[14,14],popupAnchor:[0,-14]}),Nx=(e,t,i)=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i||`${e},${t}`)}&center=${e},${t}`,Tx=e=>e.filter(t=>{var i,o;return((i=t.coordinates)==null?void 0:i.lat)&&((o=t.coordinates)==null?void 0:o.lng)}),Ex=e=>{if(!e||e.length<2)return null;const t=Tx(e);if(t.length<2)return null;const i=t[0],o=t[t.length-1],s=t.slice(1,-1);let l="https://www.google.com/maps/dir/?api=1";if(l+=`&origin=${i.coordinates.lat},${i.coordinates.lng}`,l+=`&destination=${o.coordinates.lat},${o.coordinates.lng}`,s.length>0){const c=s.map(f=>`${f.coordinates.lat},${f.coordinates.lng}`).join("|");l+=`&waypoints=${c}`}return l+="&travelmode=driving",l},Lx=e=>{const t=e.map(o=>o.coordinates.lat),i=e.map(o=>o.coordinates.lng);return[[Math.min(...t)-Fo,Math.min(...i)-Fo],[Math.max(...t)+Fo,Math.max(...i)+Fo]]},zx=e=>Px[e]||sm;function Mx({activities:e,height:t=180}){const[i,o]=z.useState(!1),s=z.useMemo(()=>(e||[]).map((S,x)=>({...S,displayIndex:x+1})).filter(S=>{var x,k;return((x=S.coordinates)==null?void 0:x.lat)&&((k=S.coordinates)==null?void 0:k.lng)}),[e]);if(s.length===0)return null;const l=z.useMemo(()=>Lx(s),[s]),f=s.length===1?[s[0].coordinates.lat,s[0].coordinates.lng]:null,p=Ex(s),g=s.length;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative w-full overflow-hidden rounded-lg border border-teal-900/50",style:{height:`${t}px`},children:[d.jsxs("div",{className:"absolute top-2 left-2 z-[1000] bg-zinc-900/90 backdrop-blur-sm px-2 py-1 rounded-lg border border-teal-700/50 flex items-center gap-1.5",children:[d.jsx(jt,{size:14,className:"text-teal-400"}),d.jsxs("span",{className:"text-xs font-medium text-teal-200",children:[" Activity Locations (",g,")"]})]}),p&&d.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",onClick:S=>S.stopPropagation(),className:"absolute top-2 right-2 z-[1000] bg-teal-600/90 hover:bg-teal-500/90 backdrop-blur-sm px-2 py-1.5 rounded-lg border border-teal-500/50 flex items-center gap-1.5 transition-colors",children:[d.jsx(zn,{size:12,className:"text-white"}),d.jsx("span",{className:"text-xs font-medium text-white",children:"Route in Maps"})]}),d.jsx("button",{onClick:S=>{S.stopPropagation(),o(!0)},className:"absolute bottom-2 right-2 z-[1000] bg-zinc-800/90 hover:bg-zinc-700/90 backdrop-blur-sm p-1.5 rounded-lg border border-zinc-600/50 transition-colors",title:"Expand map",children:d.jsx(Kp,{size:14,className:"text-white"})}),d.jsx("div",{style:{height:"100%",width:"100%"},children:d.jsxs(Js,{...f?{center:f,zoom:14}:{bounds:l},scrollWheelZoom:!1,dragging:!0,zoomControl:!1,attributionControl:!1,style:{height:"100%",width:"100%"},className:"z-0",children:[d.jsx(Ys,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>'}),s.map(S=>{const x=[S.coordinates.lat,S.coordinates.lng],k=zx(S.category),C=Cx(S.displayIndex,k),M=Nx(S.coordinates.lat,S.coordinates.lng,S.location||S.name);return d.jsx($r,{position:x,icon:C,children:d.jsx(Gr,{className:"custom-popup",children:d.jsxs("div",{className:"text-sm min-w-[180px]",children:[d.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[S.icon," ",S.name]}),S.location&&d.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[" ",S.location]}),S.timeStart&&d.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[" ",S.timeStart,S.timeEnd?` - ${S.timeEnd}`:""]}),d.jsxs("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:text-teal-700 font-medium",children:[d.jsx(zn,{size:10}),"Open in Google Maps"]})]})})},S.id||S.displayIndex)})]})}),d.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-zinc-950/30 via-transparent to-transparent z-[500]"})]}),d.jsx(rm,{isOpen:i,onClose:()=>o(!1),type:"activities",data:{activities:e}})]})}function Ax({isOpen:e,onClose:t,onConfirm:i,activityName:o}){return e?d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[4000] p-3 md:p-4",children:d.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-sm",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-zinc-700",children:[d.jsxs("h2",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(es,{size:18,className:"text-red-400"}),"Delete Activity"]}),d.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-700 rounded-lg transition-colors","aria-label":"Close dialog",children:d.jsx(Ts,{size:18,className:"text-zinc-400"})})]}),d.jsxs("div",{className:"p-3 md:p-4",children:[d.jsx("p",{className:"text-sm md:text-base text-zinc-300 mb-2",children:"Are you sure you want to delete this activity?"}),d.jsx("p",{className:"text-sm md:text-base text-white font-medium bg-zinc-800 px-3 py-2 rounded-lg border border-zinc-700 truncate",children:o}),d.jsx("p",{className:"text-xs md:text-sm text-zinc-500 mt-3",children:"This action cannot be undone."})]}),d.jsxs("div",{className:"flex gap-2 md:gap-3 p-3 md:p-4 border-t border-zinc-700",children:[d.jsx("button",{onClick:t,className:"flex-1 py-2 md:py-2.5 text-sm md:text-base bg-zinc-700 hover:bg-zinc-600 text-white font-medium rounded-lg transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:i,className:"flex-1 py-2 md:py-2.5 text-sm md:text-base bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[d.jsx(Zi,{size:16}),"Delete"]})]})]})}):null}const Ph={high:"border-l-amber-500 bg-amber-950/20",medium:"border-l-teal-500 bg-teal-950/10",low:"border-l-zinc-600 bg-zinc-900/20"},jx={Sports:"bg-blue-900/40 text-blue-300 border-blue-700/50",Food:"bg-orange-900/40 text-orange-300 border-orange-700/50",Sightseeing:"bg-purple-900/40 text-purple-300 border-purple-700/50",Shopping:"bg-pink-900/40 text-pink-300 border-pink-700/50",Logistics:"bg-zinc-800/60 text-zinc-300 border-zinc-600/50",Relaxation:"bg-cyan-900/40 text-cyan-300 border-cyan-700/50",Family:"bg-rose-900/40 text-rose-300 border-rose-700/50",Rest:"bg-indigo-900/40 text-indigo-300 border-indigo-700/50",Entertainment:"bg-violet-900/40 text-violet-300 border-violet-700/50",Cultural:"bg-red-900/40 text-red-300 border-red-700/50",Personal:"bg-slate-900/40 text-slate-300 border-slate-600/50",Transport:"bg-sky-900/40 text-sky-300 border-sky-700/50",Outdoor:"bg-green-900/40 text-green-300 border-green-700/50",Nightlife:"bg-fuchsia-900/40 text-fuchsia-300 border-fuchsia-700/50"},Ox="bg-zinc-800 text-zinc-300 border-zinc-600/50",Ix=2e3,Dx=e=>{var i,o;const t=encodeURIComponent(e.location||e.name);return(i=e.coordinates)!=null&&i.lat&&((o=e.coordinates)!=null&&o.lng)?`https://www.google.com/maps/search/?api=1&query=${t}&center=${e.coordinates.lat},${e.coordinates.lng}`:`https://www.google.com/maps/search/?api=1&query=${t}`},Rx=e=>{const t=e===1?100:e===2?200:300,i=e>=3;return{containerHeight:t,needsScrolling:i}},Fx=e=>Ph[e]||Ph.medium,Ch=e=>jx[e]||Ox,Bx=(e,t)=>t.includes(e.id),Zx=z.memo(function({items:t,isExpanded:i,onToggle:o,manualActivityIds:s=[],onRemoveActivity:l,onEditActivity:c}){var M;const[f,p]=z.useState({isOpen:!1,activity:null}),[g,S]=z.useState(null);if(!t||t.length===0)return null;const x=z.useCallback(async(T,V)=>{if(T.stopPropagation(),!V.location)return;const[,v]=await navigator.clipboard.writeText(V.location).then(()=>[void 0,null],y=>[null,y instanceof Error?y:new Error(String(y))]);if(v){console.error("Failed to copy location:",v);return}S(V.id),setTimeout(()=>S(null),Ix)},[]),k=z.useCallback((T,V)=>{T.stopPropagation(),p({isOpen:!0,activity:V})},[]),C=z.useCallback(()=>{f.activity&&l&&l(f.activity.id),p({isOpen:!1,activity:null})},[f.activity,l]);return d.jsxs("div",{className:"border border-teal-900/50 rounded-lg overflow-hidden bg-teal-950/20",children:[d.jsxs("button",{onClick:o,className:"w-full px-4 py-3.5 md:py-3 hover:bg-teal-900/20 transition flex items-center justify-between bg-teal-900/30 min-h-[48px]",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(jt,{className:"h-5 w-5 text-teal-400"}),d.jsxs("span",{className:"text-sm md:text-base font-medium text-teal-200",children:[" Activities ",d.jsxs("span",{className:"text-teal-500",children:["(",t.length,")"]})]})]}),d.jsx("div",{className:"p-1",children:i?d.jsx(Ki,{className:"h-5 w-5 text-teal-400"}):d.jsx($i,{className:"h-5 w-5 text-teal-400"})})]}),i&&(()=>{const{containerHeight:T,needsScrolling:V}=Rx(t.length);return d.jsx("div",{className:"p-3 md:p-4 bg-teal-950/10 slide-down",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4",children:[d.jsx("div",{className:`w-full md:w-[60%] min-w-0 space-y-2.5 md:space-y-2 md:pr-2 ${V?"overflow-y-auto":""}`,style:V?{maxHeight:"350px"}:{},children:t.map((v,y)=>{const w=Bx(v,s),j=Fx(v.priority),I=Dx(v),O=y+1;return d.jsxs("div",{className:ve("rounded-lg relative","md:px-4 md:py-3 md:border-l-3","border border-teal-800/50 md:border-0 md:border-l-3",j,w&&"ring-1 ring-blue-700/50"),children:[d.jsxs("div",{className:"md:hidden",children:[d.jsxs("div",{className:"flex items-center gap-2.5 p-3 pb-2.5 border-b border-teal-800/30",children:[d.jsx("span",{className:"text-sm font-bold bg-teal-600 text-white w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0",children:O}),v.icon&&d.jsx("span",{className:"text-xl",children:v.icon}),d.jsx("span",{className:"flex-1 font-semibold text-teal-100 text-sm truncate",children:v.name}),(v.timeStart||v.time)&&d.jsx("span",{className:"text-xs text-teal-300 bg-teal-900/60 px-2.5 py-1 rounded-full flex-shrink-0",children:v.timeStart||v.time})]}),d.jsxs("div",{className:"p-3 pt-2.5 space-y-2.5",children:[v.location&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(jt,{className:"h-4 w-4 text-teal-400 flex-shrink-0"}),d.jsx("span",{className:"text-xs text-teal-300 flex-1 truncate",children:v.location}),d.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"p-2 -m-1 text-teal-500 flex items-center justify-center flex-shrink-0 min-w-[44px] min-h-[44px]",onClick:A=>A.stopPropagation(),children:d.jsx(zn,{size:18})})]}),d.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[v.category&&d.jsx("span",{className:ve("text-[11px] px-2.5 py-1 rounded-full border",Ch(v.category)),children:v.category}),v.estimatedCost&&d.jsxs("span",{className:"text-[11px] px-2.5 py-1 rounded-full bg-amber-900/40 text-amber-300 border border-amber-700/50",children:[" ",v.estimatedCost.toLocaleString()," ",v.currency]}),w&&d.jsx("span",{className:"text-[11px] px-2.5 py-1 rounded-full bg-blue-900/40 text-blue-300 border border-blue-700/50",children:" Manual"})]})]}),d.jsxs("div",{className:"flex items-center justify-end gap-1 px-2 pb-2",children:[d.jsx("button",{onClick:A=>x(A,v),className:ve("p-2.5 rounded-lg transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",g===v.id?"text-emerald-400 bg-emerald-900/30":"text-teal-400 bg-teal-900/30 active:bg-teal-800/50"),children:g===v.id?d.jsx(Vr,{size:20}):d.jsx(Kr,{size:20})}),c&&d.jsx("button",{onClick:A=>{A.stopPropagation(),c(v)},className:"p-2.5 rounded-lg bg-amber-900/40 text-amber-300 active:bg-amber-800/50 min-w-[44px] min-h-[44px] flex items-center justify-center",children:d.jsx(vh,{size:20})}),l&&d.jsx("button",{onClick:A=>k(A,v),className:"p-2.5 rounded-lg bg-red-900/40 text-red-300 active:bg-red-800/50 min-w-[44px] min-h-[44px] flex items-center justify-center",children:d.jsx(Zi,{size:20})})]})]}),d.jsxs("div",{className:"hidden md:block",children:[d.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 z-10",children:[c&&d.jsx("button",{onClick:A=>{A.stopPropagation(),c(v)},className:"p-1.5 rounded-md bg-amber-900/50 hover:bg-amber-700/50 text-amber-300 transition-colors",title:"Edit activity",children:d.jsx(vh,{size:14})}),l&&d.jsx("button",{onClick:A=>k(A,v),className:"p-1.5 rounded-md bg-red-900/50 hover:bg-red-700/50 text-red-300 transition-colors",title:"Delete activity",children:d.jsx(Zi,{size:14})})]}),d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.jsx("span",{className:"text-sm font-bold bg-teal-700/60 text-teal-100 w-7 h-7 rounded-full flex items-center justify-center flex-shrink-0",children:O}),v.icon&&d.jsx("span",{className:"text-lg",children:v.icon}),d.jsx("span",{className:"text-base font-medium text-teal-100 truncate",children:v.name})]}),(v.timeStart||v.time)&&d.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-teal-900/40 border border-teal-700/50 text-sm text-teal-200 flex-shrink-0",children:[d.jsx(Fi,{className:"h-3.5 w-3.5 text-teal-400"}),d.jsxs("span",{children:[v.timeStart||v.time,v.timeEnd&&`  ${v.timeEnd}`]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[v.category&&d.jsx("span",{className:ve("text-sm px-2.5 py-1 rounded-full border",Ch(v.category)),children:v.category}),w&&d.jsx("span",{className:"text-sm px-2.5 py-1 rounded-full bg-blue-900/40 text-blue-300 border border-blue-700/50",children:" Manual"}),v.estimatedCost&&d.jsxs("span",{className:"flex items-center gap-1 text-sm px-2.5 py-1 rounded-full bg-amber-900/40 text-amber-300 border border-amber-700/50",children:[d.jsx(Vp,{className:"h-3.5 w-3.5"}),v.estimatedCost.toLocaleString()," ",v.currency]})]}),v.location&&d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx(jt,{className:"h-4 w-4 text-teal-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm text-teal-300 truncate",children:v.location}),d.jsx("button",{onClick:A=>x(A,v),className:ve("p-1 rounded transition-colors flex-shrink-0",g===v.id?"text-emerald-400":"text-teal-500 hover:text-teal-300 hover:bg-teal-800/50"),title:g===v.id?"Copied!":"Copy location",children:g===v.id?d.jsx(Vr,{size:14}):d.jsx(Kr,{size:14})}),d.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-teal-500 hover:text-teal-300 transition-colors flex-shrink-0",onClick:A=>A.stopPropagation(),children:d.jsx(zn,{size:14})})]})]})]},v.id||y)})}),d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",style:{height:`${T}px`},children:d.jsx(Mx,{activities:t,height:T})})]})})})(),d.jsx(Ax,{isOpen:f.isOpen,onClose:()=>p({isOpen:!1,activity:null}),onConfirm:C,activityName:((M=f.activity)==null?void 0:M.name)||""})]})});function Ux(e){return e.toLocaleString()}function Hx(e){return e.join("/")}function Wx(e,t){return e>0&&t&&t.length>0}function Vx(e){return e&&e.length>0}function Kx(e,t){return e&&t>0}function $x({day:e}){if(!e.metadata)return null;const{hasTravel:t,locationFlags:i,estimatedCost:o,costCurrencies:s,unbootedCount:l,hasUnbooked:c}=e.metadata;return d.jsxs("div",{className:"flex items-center gap-4 flex-wrap mt-2",children:[t&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-blue-800/50 border border-blue-600/60",children:[d.jsx(Bi,{className:"h-5 w-5 text-blue-300"}),d.jsx("span",{className:"text-base font-medium text-blue-200",children:"Travel Day"})]}),Vx(i)&&d.jsx("div",{className:"flex items-center gap-3",children:i.map((f,p)=>d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-purple-800/40 border border-purple-600/50",children:[d.jsx(jt,{className:"h-5 w-5 text-purple-300"}),d.jsx("span",{className:"text-base font-medium text-purple-200",children:f})]},p))}),Wx(o,s)&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-amber-800/50 border border-amber-600/60",children:[d.jsx(Vp,{className:"h-5 w-5 text-amber-300"}),d.jsxs("span",{className:"text-base font-medium text-amber-200",children:[Ux(o),d.jsx("span",{className:"ml-1 text-amber-300",children:Hx(s)})]})]}),Kx(c,l)&&d.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-full bg-red-800/50 border border-red-600/60",children:[d.jsx(Cs,{className:"h-5 w-5 text-red-300"}),d.jsxs("span",{className:"text-base font-medium text-red-200",children:[l," to book"]})]})]})}const am=[{value:"Food",icon:""},{value:"Shopping",icon:""},{value:"Sightseeing",icon:""},{value:"Entertainment",icon:""},{value:"Cultural",icon:""},{value:"Personal",icon:""},{value:"Transport",icon:""},{value:"Outdoor",icon:""},{value:"Nightlife",icon:""},{value:"Relaxation",icon:""}],Gx=["high","medium","low"],Jx=["USD","PHP","JPY"],il={name:"",timeStart:"",timeEnd:"",location:"",category:"Sightseeing",icon:"",priority:"medium",notes:"",estimatedCost:"",currency:"JPY"};function Yx(e){const t=am.find(i=>i.value===e);return(t==null?void 0:t.icon)||null}function qx(e,t){return e&&t?`${e} - ${t}`:e||""}function Qx(){return`manual-${Date.now()}`}function Xx(e,t){return{id:t||Qx(),name:e.name,timeStart:e.timeStart,timeEnd:e.timeEnd,location:e.location,category:e.category,icon:e.icon,priority:e.priority,notes:e.notes,estimatedCost:e.estimatedCost?parseFloat(e.estimatedCost):null,currency:e.currency,time:qx(e.timeStart,e.timeEnd)}}function e1(e){return{name:e.name||"",timeStart:e.timeStart||"",timeEnd:e.timeEnd||"",location:e.location||"",category:e.category||"Sightseeing",icon:e.icon||"",priority:e.priority||"medium",notes:e.notes||"",estimatedCost:e.estimatedCost?String(e.estimatedCost):"",currency:e.currency||"JPY"}}function t1(e){return e.charAt(0).toUpperCase()+e.slice(1)}function n1({isOpen:e,onClose:t,onAdd:i,onUpdate:o,date:s,editingActivity:l=null}){const[c,f]=z.useState(il),p=!!l;z.useEffect(()=>{f(l?e1(l):il)},[l,e]);const g=x=>{const{name:k,value:C}=x.target;f(M=>{const T={...M,[k]:C};if(k==="category"){const V=Yx(C);V&&(T.icon=V)}return T})},S=x=>{x.preventDefault();const k=Xx(c,p?l.id:null);p&&o?o(k,s):i(k,s),f(il),t()};return e?d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[3000] p-2 md:p-4",children:d.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl w-full max-w-md max-h-[95vh] md:max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-zinc-700 sticky top-0 bg-zinc-900 z-10",children:[d.jsx("h2",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:p?d.jsxs(d.Fragment,{children:[d.jsx(_h,{size:18,className:"text-amber-400"}),"Edit Activity"]}):d.jsxs(d.Fragment,{children:[d.jsx(ql,{size:18,className:"text-blue-400"}),"Add Activity"]})}),d.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-700 rounded-lg transition-colors",children:d.jsx(Ts,{size:20,className:"text-zinc-400"})})]}),d.jsxs("form",{onSubmit:S,className:"p-3 md:p-4 space-y-3 md:space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Activity Name *"}),d.jsx("input",{type:"text",name:"name",value:c.name,onChange:g,required:!0,placeholder:"e.g., Visit Senso-ji Temple",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Start Time"}),d.jsx("input",{type:"text",name:"timeStart",value:c.timeStart,onChange:g,placeholder:"9:00 AM",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"End Time"}),d.jsx("input",{type:"text",name:"timeEnd",value:c.timeEnd,onChange:g,placeholder:"11:00 AM",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Location"}),d.jsx("input",{type:"text",name:"location",value:c.location,onChange:g,placeholder:"e.g., Asakusa, Tokyo",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Category"}),d.jsx("select",{name:"category",value:c.category,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:am.map(x=>d.jsxs("option",{value:x.value,children:[x.icon," ",x.value]},x.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Priority"}),d.jsx("select",{name:"priority",value:c.priority,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:Gx.map(x=>d.jsx("option",{value:x,children:t1(x)},x))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Icon (emoji)"}),d.jsx("input",{type:"text",name:"icon",value:c.icon,onChange:g,placeholder:"",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Estimated Cost"}),d.jsx("input",{type:"number",name:"estimatedCost",value:c.estimatedCost,onChange:g,placeholder:"0",min:"0",step:"0.01",className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Currency"}),d.jsx("select",{name:"currency",value:c.currency,onChange:g,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white focus:outline-none focus:border-blue-500",children:Jx.map(x=>d.jsx("option",{value:x,children:x},x))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs md:text-sm font-medium text-zinc-300 mb-1",children:"Notes / Tips"}),d.jsx("textarea",{name:"notes",value:c.notes,onChange:g,placeholder:"Any additional details...",rows:3,className:"w-full px-3 py-2 text-sm md:text-base bg-zinc-800 border border-zinc-600 rounded-lg text-white placeholder-zinc-500 focus:outline-none focus:border-blue-500 resize-none"})]}),d.jsx("button",{type:"submit",className:`w-full py-2 md:py-2.5 text-sm md:text-base ${p?"bg-amber-600 hover:bg-amber-500":"bg-blue-600 hover:bg-blue-500"} text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2`,children:p?d.jsxs(d.Fragment,{children:[d.jsx(_h,{size:16}),"Save Changes"]}):d.jsxs(d.Fragment,{children:[d.jsx(ql,{size:16}),"Add Activity"]})})]})]})}):null}const i1=[],fn={travel:"travel",shelter:"shelter",meals:"meals",activities:"activities"},Bo={US:{flag:"",label:"US",bg:"bg-blue-900/40",border:"border-blue-700/50",text:"text-blue-300"},PH:{flag:"",label:"PH",bg:"bg-yellow-900/40",border:"border-yellow-700/50",text:"text-yellow-300"},JP:{flag:"",label:"JP",bg:"bg-red-900/40",border:"border-red-700/50",text:"text-red-300"}},r1=2e3;function lm(e,t){return t==="US"||e!=null&&e.includes("ET")||e!=null&&e.includes("PT")||e!=null&&e.includes("MT")?Bo.US:t==="JP"||e!=null&&e.includes("JST")?Bo.JP:t==="PH"||e!=null&&e.includes("PHT")?Bo.PH:Bo.US}function o1(e,t){return`${e}:${t}`}function s1(e,t,i){return[...(e||[]).filter(s=>!i.includes(s.id)),...t]}function a1(e){return e.map(t=>t.id)}function l1(e){switch(e){case"BOOKED":return"";case"TO_BOOK":return"";default:return""}}function u1(e){var o,s,l,c;const t=[],i=lm(e.timezone,e.tz);if(t.push(` ${e.dateDisplay} ${i.flag}`),t.push(` ${e.summary}`),e.isInFlight&&t.push(" In Flight (crossing date line)"),t.push(""),e.metadata){const f=e.metadata;f.hasTravel&&t.push(" Travel Day"),((o=f.locationFlags)==null?void 0:o.length)>0&&t.push(` Locations: ${f.locationFlags.join(", ")}`),f.estimatedCost>0&&t.push(` Est. Cost: ${f.estimatedCost.toLocaleString()} ${(s=f.costCurrencies)==null?void 0:s.join("/")}`),f.hasUnbooked&&t.push(` ${f.unbootedCount} item(s) to book`),(f.hasTravel||f.estimatedCost>0||f.hasUnbooked)&&t.push("")}return((l=e.travel)==null?void 0:l.length)>0&&(t.push(" TRAVEL:"),e.travel.forEach(f=>{const p=l1(f.status);if(t.push(`  ${p} ${f.route||f.location||"Transit"}`),f.timeStart){const g=f.timeEnd?`${f.timeStart}  ${f.timeEnd}`:f.timeStart;t.push(`      ${g}`)}f.details&&t.push(`     ${f.details}`),f.flightNumber&&t.push(`     Flight: ${f.flightNumber} (${f.airline||""})`)}),t.push("")),e.shelter&&(t.push(" ACCOMMODATION:"),t.push(`  ${e.shelter.name||"TBD"}`),e.shelter.address&&t.push(`   ${e.shelter.address}`),e.shelter.notes&&t.push(`   ${e.shelter.notes}`),t.push("")),((c=e.activities)==null?void 0:c.length)>0&&(t.push(" ACTIVITIES:"),e.activities.forEach(f=>{if(t.push(`   ${f.details||f.name||"Activity"}`),f.timeStart){const p=f.timeEnd?`${f.timeStart} - ${f.timeEnd}`:f.timeStart;t.push(`     ${p}`)}}),t.push("")),t.join(`
`)}const c1=z.memo(function({day:t,isExpanded:i,onToggle:o,expandedSections:s,onToggleSection:l,showBackupPlans:c,manualActivities:f,deletedActivityIds:p,onAddActivity:g,onRemoveActivity:S,onUpdateActivity:x,todayDateKey:k}){var ie,Y;const[C,M]=z.useState(!1),[T,V]=z.useState(!1),[v,y]=z.useState(null),w=z.useMemo(()=>s1(t.activities,f,p),[t.activities,f,p]),j=z.useMemo(()=>f.length>0?a1(f):i1,[f]),I=z.useMemo(()=>lm(t.timezone,t.tz),[t.timezone,t.tz]),O=t.dateKey===k,A=z.useCallback(J=>{const Se=o1(t.dateKey,J);return s.has(Se)},[t.dateKey,s]),F=z.useCallback(async J=>{J.stopPropagation();const Se=u1(t),[,E]=await navigator.clipboard.writeText(Se).then(()=>[void 0,null],$=>[null,$ instanceof Error?$:new Error(String($))]);if(E){console.error("Failed to copy:",E);return}M(!0),setTimeout(()=>M(!1),r1)},[t]),X=z.useCallback(J=>{g==null||g(J,t.dateKey)},[g,t.dateKey]),W=z.useCallback(J=>{x==null||x(J,t.dateKey)},[x,t.dateKey]),ae=z.useCallback(J=>{S==null||S(J,t.dateKey)},[S,t.dateKey]),le=z.useCallback(J=>{y(J),V(!0)},[]),Be=z.useCallback(()=>{V(!1),y(null)},[]);return d.jsxs("div",{id:`day-${t.dateKey}`,className:ve("rounded-xl md:rounded-2xl border",O&&"ring-2 ring-blue-500 ring-offset-2 md:ring-offset-4 ring-offset-zinc-950",(ie=t.metadata)!=null&&ie.hasUnbooked?"border-red-600/80 bg-zinc-900 shadow-lg shadow-red-900/30":"border-zinc-700 bg-zinc-900"),children:[d.jsxs("div",{onClick:o,className:"flex flex-col md:flex-row cursor-pointer hover:bg-zinc-800/30 transition md:min-h-[400px]",children:[d.jsxs("div",{className:"w-full md:w-[60%] p-4 md:p-8 flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-0",children:[d.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[i?d.jsx(Ki,{className:"h-6 w-6 md:h-9 md:w-9 text-zinc-300"}):d.jsx($i,{className:"h-6 w-6 md:h-9 md:w-9 text-zinc-300"}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-wrap",children:[d.jsx("span",{className:"font-bold text-lg md:text-2xl text-white",children:t.dateDisplay}),O&&d.jsx("span",{className:"px-2 py-1 md:px-4 md:py-2 text-xs md:text-base font-bold bg-blue-500 text-white rounded-full",children:"TODAY"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx("button",{onClick:F,className:ve("p-2 md:p-3 rounded-lg border transition-all",C?"bg-emerald-800/60 border-emerald-500/60 text-emerald-300":"bg-zinc-800 border-zinc-600 text-zinc-300 hover:bg-zinc-700 hover:text-white"),title:C?"Copied!":"Copy day itinerary",children:C?d.jsx(Vr,{className:"h-4 w-4 md:h-5 md:w-5"}):d.jsx(Kr,{className:"h-4 w-4 md:h-5 md:w-5"})}),d.jsxs("div",{className:ve("flex items-center gap-1.5 md:gap-2 px-2 py-1 md:px-4 md:py-2 rounded-lg border text-xs md:text-base font-semibold",I.bg,I.border,I.text),children:[d.jsx("span",{className:"text-sm md:text-lg",children:I.flag}),d.jsx("span",{className:"hidden sm:inline",children:t.timezone})]})]})]}),d.jsxs("div",{className:"text-sm md:text-lg text-zinc-300 my-3 md:my-0",children:[t.summary,t.isInFlight&&d.jsx("span",{className:"ml-2 text-sky-400 font-medium",children:" In Flight"})]}),d.jsx($x,{day:t})]}),((Y=t.shelter)==null?void 0:Y.coordinates)&&d.jsx("div",{className:"hidden md:block w-[40%] flex-shrink-0",children:d.jsx(om,{coordinates:t.shelter.coordinates,name:t.shelter.name,address:t.shelter.address,type:t.shelter.type})})]}),i&&d.jsxs("div",{className:"border-t border-zinc-700 p-3 md:p-5 space-y-3 md:space-y-5 slide-down",children:[d.jsx(Xy,{items:t.travel,isExpanded:A(fn.travel),onToggle:()=>l(fn.travel),showBackupPlans:c}),t.shelter&&d.jsx(kx,{shelter:t.shelter,isExpanded:A(fn.shelter),onToggle:()=>l(fn.shelter)}),d.jsx(bx,{items:t.meals,isExpanded:A(fn.meals),onToggle:()=>l(fn.meals)}),d.jsx(Zx,{items:w,isExpanded:A(fn.activities),onToggle:()=>l(fn.activities),manualActivityIds:j,onRemoveActivity:ae,onEditActivity:le}),d.jsxs("button",{onClick:()=>V(!0),className:"w-full py-2 px-3 md:px-4 border-2 border-dashed border-zinc-700 hover:border-blue-500 rounded-xl text-sm md:text-base text-zinc-400 hover:text-blue-400 transition-colors flex items-center justify-center gap-2",children:[d.jsx(ql,{size:16,className:"md:w-[18px] md:h-[18px]"}),"Add Activity"]})]}),d.jsx(n1,{isOpen:T,onClose:Be,onAdd:X,onUpdate:W,date:t.dateKey,editingActivity:v})]})}),_n=1,Li=2,zi=3,d1=".json";function h1(e){return!e||typeof e!="object"?[null,new Error("Invalid JSON structure")]:!e.trips||!Array.isArray(e.trips)?[null,new Error('JSON must contain a "trips" array')]:[!0,null]}function f1(e){return(e==null?void 0:e.endsWith(d1))??!1}function p1(e){var t;return((t=e==null?void 0:e.trips)==null?void 0:t.length)??0}function m1(e,t){const i="border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all";return e?ve(i,"border-blue-500 bg-blue-500/10"):t?ve(i,"border-emerald-500 bg-emerald-500/10"):ve(i,"border-zinc-700 hover:border-zinc-500 hover:bg-zinc-800/50")}function g1(e){switch(e){case _n:return d.jsx(Ql,{className:"h-8 w-8 text-white"});case Li:return d.jsx(Yu,{className:"h-8 w-8 text-white animate-spin"});case zi:return d.jsx(Ns,{className:"h-8 w-8 text-white"});default:return d.jsx(Ql,{className:"h-8 w-8 text-white"})}}function v1(e){switch(e){case _n:return"Upload Itinerary ";case Li:return"Setting Up...";case zi:return"All Set! ";default:return"Upload Itinerary "}}function _1(e){switch(e){case _n:return"Import your travel itinerary JSON file";case Li:return"Importing your trip data";case zi:return"Your itinerary is ready to go";default:return"Import your travel itinerary JSON file"}}function y1({isDialogOpen:e,onConfirmReset:t,onCancelReset:i,isResetInProgress:o}){return e?d.jsx("div",{className:"fixed inset-0 z-[6000] flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm",children:d.jsx("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl max-w-sm w-full overflow-hidden",children:d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:"p-3 bg-red-500/20 rounded-full",children:d.jsx(Zi,{className:"h-8 w-8 text-red-400"})})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Reset All Data?"}),d.jsx("p",{className:"text-zinc-400 text-sm",children:"This will permanently delete all your itinerary data from this browser. You'll need to upload your JSON file again."})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:i,disabled:o,className:"flex-1 py-2.5 px-4 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 font-medium rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),d.jsx("button",{onClick:t,disabled:o,className:"flex-1 py-2.5 px-4 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:o?d.jsxs(d.Fragment,{children:[d.jsx(Yu,{className:"h-4 w-4 animate-spin"}),"Resetting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Zi,{className:"h-4 w-4"}),"Reset"]})})]})]})})}):null}function x1({onComplete:e,onImportJson:t,onReset:i}){const[o,s]=z.useState(_n),[l,c]=z.useState(null),[f,p]=z.useState(null),[g,S]=z.useState(null),[x,k]=z.useState(null),[C,M]=z.useState(!1),[T,V]=z.useState(!1),[v,y]=z.useState(!1),w=z.useRef(null),j=async Y=>{if(c(null),!Y)return;if(!f1(Y.name)){c("Please upload a JSON file");return}const[J,Se]=await Y.text().then(B=>[B,null],B=>[null,B instanceof Error?B:new Error(String(B))]);if(Se){c("Failed to read file");return}const[E,$]=(()=>{try{return[JSON.parse(J),null]}catch(B){return[null,B instanceof Error?B:new Error("Invalid JSON")]}})();if($){c("Invalid JSON format. Please check your file.");return}const[,N]=h1(E);if(N){c(N.message);return}S(E),k(Y.name)},I=Y=>{var Se;const J=(Se=Y.target.files)==null?void 0:Se[0];J&&j(J)},O=Y=>{Y.preventDefault(),Y.stopPropagation(),M(!0)},A=Y=>{Y.preventDefault(),Y.stopPropagation()},F=Y=>{Y.preventDefault(),Y.stopPropagation(),!Y.currentTarget.contains(Y.relatedTarget)&&M(!1)},X=Y=>{var Se;Y.preventDefault(),Y.stopPropagation(),M(!1);const J=(Se=Y.dataTransfer.files)==null?void 0:Se[0];J&&j(J)},W=async()=>{if(!g){c("Please upload a JSON file first");return}s(Li),c(null);const[Y,J]=await t(g);if(J){c(J.message),s(_n);return}p(Y),s(zi)},ae=async()=>{if(!i)return;y(!0);const[,Y]=await i();if(Y){c("Failed to reset: "+Y.message),y(!1);return}s(_n),S(null),k(null),p(null),c(null),V(!1),y(!1)},le=g!==null,Be=p1(g),ie=m1(C,le);return d.jsxs("div",{className:"fixed inset-0 z-[5000] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:[d.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[d.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 p-6 text-center overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-white/10 rounded-full blur-xl animate-pulse"}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse delay-300"}),d.jsx(Bi,{className:"absolute top-4 right-8 h-6 w-6 text-white/20 animate-bounce"}),d.jsx(jt,{className:"absolute bottom-4 left-8 h-5 w-5 text-white/20 animate-bounce delay-150"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:g1(o)})}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:v1(o)}),d.jsx("p",{className:"text-white/80 text-sm",children:_1(o)})]})]}),d.jsxs("div",{className:"p-6",children:[o===_n&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-zinc-300 text-sm leading-relaxed",children:"Upload your travel itinerary JSON file to get started. Your data stays private and is stored only in your browser."}),d.jsxs("div",{onClick:()=>{var Y;return(Y=w.current)==null?void 0:Y.click()},onDragEnter:O,onDragOver:A,onDragLeave:F,onDrop:X,className:ie,children:[d.jsx("input",{ref:w,type:"file",accept:".json",onChange:I,className:"hidden"}),le?d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-emerald-500/20 rounded-full",children:d.jsx(f_,{className:"h-6 w-6 text-emerald-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-emerald-400 font-medium",children:x}),d.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:[Be," trips found  Click to change"]})]})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-zinc-800 rounded-full",children:d.jsx(p_,{className:"h-6 w-6 text-zinc-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-zinc-300 font-medium",children:"Drop your JSON file here"}),d.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"or click to browse"})]})]})]}),d.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg shrink-0",children:d.jsx(gh,{className:"h-4 w-4 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-zinc-200",children:"Private & Local"}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Data never leaves your device"})]})]}),d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg shrink-0",children:d.jsx(Wp,{className:"h-4 w-4 text-emerald-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-zinc-200",children:"Add Activities"}),d.jsx("div",{className:"text-xs text-zinc-400",children:"Customize your plans anytime"})]})]})]}),l&&d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:[d.jsx(Cs,{className:"h-4 w-4 text-red-400 shrink-0"}),d.jsx("span",{className:"text-sm text-red-300",children:l})]}),d.jsxs("button",{onClick:W,disabled:!le,className:ve("w-full py-3 px-4 font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2",le?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white shadow-lg shadow-blue-500/25":"bg-zinc-800 text-zinc-500 cursor-not-allowed"),children:[d.jsx(Ql,{className:"h-4 w-4"}),"Import Itinerary"]})]}),o===Li&&d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-zinc-700 border-t-blue-500 rounded-full animate-spin"}),d.jsx(gh,{className:"absolute inset-0 m-auto h-6 w-6 text-zinc-400"})]})}),d.jsxs("div",{className:"text-center space-y-1",children:[d.jsx("p",{className:"text-zinc-300 text-sm",children:"Importing your trip data..."}),d.jsx("p",{className:"text-zinc-500 text-xs",children:"Setting up local database"})]}),d.jsx("div",{className:"flex justify-center gap-1",children:[0,1,2].map(Y=>d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:`${Y*150}ms`}},Y))})]}),o===zi&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-emerald-500/20 rounded-full mb-3",children:d.jsx(Ns,{className:"h-8 w-8 text-emerald-400"})}),d.jsx("p",{className:"text-zinc-300 text-sm",children:"Your itinerary has been set up successfully!"})]}),f&&d.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-4 grid grid-cols-3 gap-3 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-blue-400",children:f.trips||0}),d.jsx("div",{className:"text-xs text-zinc-500",children:"Trips"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400",children:f.segments||0}),d.jsx("div",{className:"text-xs text-zinc-500",children:"Segments"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:f.days||0}),d.jsx("div",{className:"text-xs text-zinc-500",children:"Days"})]})]}),d.jsxs("button",{onClick:e,className:"w-full py-3 px-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/25",children:[d.jsx(Bi,{className:"h-4 w-4"}),"Start Exploring"]})]})]}),d.jsxs("div",{className:"px-6 pb-4 space-y-3",children:[d.jsx("div",{className:"flex justify-center gap-2",children:[_n,Li,zi].map(Y=>d.jsx("div",{className:ve("w-2 h-2 rounded-full transition-all duration-300",o>=Y?"bg-blue-500 w-4":"bg-zinc-700")},Y))}),i&&d.jsxs("button",{onClick:()=>V(!0),className:"w-full py-2 px-3 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors flex items-center justify-center gap-1.5",children:[d.jsx(Zi,{className:"h-3 w-3"}),"Reset All Data"]})]})]}),d.jsx(y1,{isDialogOpen:T,onConfirmReset:ae,onCancelReset:()=>V(!1),isResetInProgress:v})]})}function Nh(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}function w1(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{weekday:"short"})}const S1=z.memo(function({days:t,todayDateKey:i,expandedDayKeys:o,onDateClick:s}){const l=z.useCallback(c=>{s(c),setTimeout(()=>{const f=document.getElementById(`day-${c}`);f&&f.scrollIntoView({behavior:"smooth",block:"start"})},50)},[s]);return d.jsxs("div",{className:"fixed right-4 top-4 bottom-4 z-40 hidden lg:flex flex-col overflow-hidden",children:[d.jsx("div",{className:"text-xs text-zinc-500 text-center mb-2 font-medium",children:"Dates"}),d.jsx("div",{className:"flex flex-col gap-1 flex-1 overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-transparent",children:t.map((c,f)=>{const p=c.dateKey===i,g=o.has(c.dateKey);return d.jsxs("button",{onClick:()=>l(c.dateKey),className:ve("group relative flex items-center gap-2 px-3 py-2 rounded-lg text-right transition-all duration-200","hover:bg-zinc-800/90 hover:shadow-lg hover:shadow-black/20","focus:outline-none focus:ring-2 focus:ring-blue-500/50",p?"bg-blue-600/20 border border-blue-500/50 text-blue-300":g?"bg-zinc-800/80 border border-zinc-600 text-zinc-200":"bg-zinc-900/80 border border-zinc-800 text-zinc-400 hover:text-zinc-100"),title:`Day ${f+1}: ${c.dateDisplay||Nh(c.dateKey)}`,children:[d.jsx("span",{className:ve("text-[10px] font-bold min-w-[20px] h-5 flex items-center justify-center rounded",p?"bg-blue-500/30 text-blue-200":g?"bg-zinc-700 text-zinc-300":"bg-zinc-800 text-zinc-500 group-hover:bg-zinc-700 group-hover:text-zinc-300"),children:f+1}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:ve("text-xs font-medium transition-all duration-200","group-hover:font-semibold"),children:Nh(c.dateKey)}),d.jsx("span",{className:ve("text-[10px] transition-all duration-200",p?"text-blue-400/70":"text-zinc-500"),children:w1(c.dateKey)})]}),p&&d.jsx("span",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]},c.dateKey)})}),d.jsx("div",{className:"text-[10px] text-zinc-600 text-center mt-2",children:"Click to jump"})]})}),k1={USD:1,PHP:.018,JPY:.0067},b1="manual-",Th=[];function Zo(e,t){const i=k1[t]||1;return e*i}function P1(e){return(e==null?void 0:e.startsWith(b1))??!1}function C1(e){return`shelter-${e.name}-${e.estimatedCost}`}function N1(e,t){return e.id||`activity-${t}-${e.name}`}function Eh(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function T1(e){if(e.length===0)return"";const t=e[0],i=e[e.length-1];return`${Eh(t.dateKey)}  ${Eh(i.dateKey)}`}function E1(e,t){if(!t.trim())return e;const i=t.toLowerCase();return e.filter(o=>o.dateDisplay.toLowerCase().includes(i)||o.summary.toLowerCase().includes(i)||o.timezone.toLowerCase().includes(i))}function L1(e){return e>100?"bg-red-500":e>80?"bg-amber-500":"bg-emerald-500"}function z1(e){return e>=0?"text-emerald-400":"text-red-400"}function M1(e){return e>100?"text-red-400":e>80?"text-amber-400":"text-zinc-300"}function A1(){const[e,t]=z.useState(new Set),[i,o]=z.useState(new Set),[s,l]=z.useState(!1),[c,f]=z.useState(""),{isLoading:p,isReady:g,needsSetup:S,error:x,itineraryData:k,manualActivities:C,deletedActivities:M,addActivity:T,updateActivity:V,removeActivity:v,deleteOriginalActivity:y,importJsonData:w,completeSetup:j,resetDatabase:I}=ky(),{parsedItineraryDays:O,tripBudgetConfig:A,tripDisplayName:F}=z.useMemo(()=>{if(!g||!k)return{parsedItineraryDays:ey,tripBudgetConfig:A_,tripDisplayName:j_};const N=Z_(k);return{parsedItineraryDays:ty(k),tripBudgetConfig:N.budget,tripDisplayName:N.tripName}},[g,k]),X=C||{},W=z.useMemo(()=>new Date().toISOString().split("T")[0],[]);z.useEffect(()=>{if(!g)return;O.some(B=>B.dateKey===W)&&(t(new Set([W])),setTimeout(()=>{const B=document.getElementById(`day-${W}`);B&&B.scrollIntoView({behavior:"smooth",block:"start"})},100))},[g,O,W]);const ae=z.useCallback(async(N,B)=>{const[,H]=await T(B,N);H&&console.error("Failed to add activity:",H)},[T]),le=z.useCallback(async(N,B)=>{const[,H]=await V(B,N.id,N);H&&console.error("Failed to update activity:",H)},[V]),Be=z.useCallback(async(N,B)=>{if(P1(N)){const[,H]=await v(B,N);H&&console.error("Failed to remove activity:",H)}else{const[,H]=await y(B,N);H&&console.error("Failed to remove activity:",H)}},[v,y]),ie=z.useMemo(()=>{const N={};let B=0,H=0;const fe=new Set;O.forEach(pe=>{var at,bt,Dt,ei,un;if((at=pe.travel)==null||at.forEach(Te=>{if(Te.estimatedCost&&Te.currency&&Te.id&&!fe.has(Te.id)){fe.add(Te.id);const Pt=Te.currency;N[Pt]=(N[Pt]||0)+Te.estimatedCost,H+=Zo(Te.estimatedCost,Pt)}}),(bt=pe.shelter)!=null&&bt.estimatedCost&&((Dt=pe.shelter)!=null&&Dt.currency)){const Te=!pe.shelter.isMultiDayStay||pe.shelter.dayOfStay===1,Pt=C1(pe.shelter);if(Te&&!fe.has(Pt)){fe.add(Pt);const Rt=pe.shelter.currency;N[Rt]=(N[Rt]||0)+pe.shelter.estimatedCost,H+=Zo(pe.shelter.estimatedCost,Rt)}}(ei=pe.activities)==null||ei.forEach(Te=>{var Pt;if(Te.estimatedCost&&Te.currency){const Rt=N1(Te,pe.dateKey);if((Pt=M[pe.dateKey])!=null&&Pt.includes(Rt))return;if(!fe.has(Rt)){fe.add(Rt);const ti=Te.currency;N[ti]=(N[ti]||0)+Te.estimatedCost,H+=Zo(Te.estimatedCost,ti)}}}),(un=pe.metadata)!=null&&un.unbootedCount&&(B+=pe.metadata.unbootedCount)}),Object.entries(X).forEach(([pe,at])=>{at.forEach(bt=>{if(bt.estimatedCost&&bt.currency){const Dt=bt.currency;N[Dt]=(N[Dt]||0)+bt.estimatedCost,H+=Zo(bt.estimatedCost,Dt)}})});const oe=A.total||3500,ue=oe-H,q=H/oe*100;return{costByCurrency:N,totalUnbooked:B,totalUSD:H,budget:oe,remaining:ue,percentUsed:q}},[X,M,O,A]),Y=z.useMemo(()=>T1(O),[O]),J=z.useMemo(()=>E1(O,c),[c,O]),Se=z.useCallback(N=>{t(B=>{const H=new Set(B);return H.has(N)?H.delete(N):H.add(N),H})},[]),E=z.useCallback((N,B)=>{const H=`${N}:${B}`;o(fe=>{const oe=new Set(fe);return oe.has(H)?oe.delete(H):oe.add(H),oe})},[]),$=z.useCallback(N=>{t(new Set([N]));const B=["travel","shelter","meals","activities"],H=new Set(B.map(fe=>`${N}:${fe}`));o(H)},[]);return p?d.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(Yu,{className:"h-8 w-8 text-blue-500 animate-spin"}),d.jsx("p",{className:"text-zinc-400",children:"Loading your itinerary..."}),d.jsx("button",{onClick:async()=>{if(confirm("Reset all data and start fresh?")){const[,N]=await Es();if(N){console.error("Failed to clear data:",N);return}window.location.reload()}},className:"mt-4 px-4 py-2 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors",children:"Reset Data"})]})}):S?d.jsx(x1,{onComplete:j,onImportJson:w,onReset:I}):x?d.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[d.jsx(Cs,{className:"h-8 w-8 text-red-500"}),d.jsx("p",{className:"text-red-400",children:"Failed to load itinerary data"}),d.jsx("p",{className:"text-zinc-500 text-sm",children:x}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-sm",children:"Retry"})]})}):d.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 p-4 md:p-6",children:[d.jsx(S1,{days:J,todayDateKey:W,expandedDayKeys:e,onDateClick:$}),d.jsxs("div",{className:"max-w-6xl mx-auto lg:mr-32 mb-6 md:mb-8",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl md:text-4xl font-bold text-white mb-1 md:mb-2",children:[" ",F]}),d.jsx("p",{className:"text-sm md:text-base text-zinc-400 mb-4 md:mb-6",children:Y})]}),d.jsx("button",{onClick:async()=>{if(confirm("Reset all data? You will need to upload your JSON file again.")){const[,N]=await Es();if(N){console.error("Failed to clear data:",N);return}window.location.reload()}},className:"px-3 py-1.5 text-xs text-zinc-500 hover:text-red-400 hover:bg-zinc-800/50 rounded-lg transition-colors border border-zinc-800 hover:border-red-500/30",children:"Reset"})]}),d.jsxs("div",{className:"bg-zinc-900/80 border border-zinc-700 rounded-xl md:rounded-2xl p-4 md:p-5 mb-4 md:mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(b_,{className:"h-4 w-4 md:h-5 md:w-5 text-emerald-400"}),d.jsx("span",{className:"text-sm md:text-base font-semibold text-zinc-200",children:"Trip Budget"})]}),d.jsxs("span",{className:"text-lg md:text-2xl font-bold text-white",children:["$",ie.budget.toLocaleString()," USD"]})]}),d.jsx("div",{className:"relative h-4 bg-zinc-800 rounded-full overflow-hidden mb-3",children:d.jsx("div",{className:ve("absolute left-0 top-0 h-full rounded-full transition-all",L1(ie.percentUsed)),style:{width:`${Math.min(ie.percentUsed,100)}%`}})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Spent"}),d.jsxs("div",{className:"text-base md:text-lg font-bold text-amber-400",children:["$",Math.round(ie.totalUSD).toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Remaining"}),d.jsxs("div",{className:ve("text-base md:text-lg font-bold",z1(ie.remaining)),children:["$",Math.round(ie.remaining).toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Used"}),d.jsxs("div",{className:ve("text-base md:text-lg font-bold",M1(ie.percentUsed)),children:[Math.round(ie.percentUsed),"%"]})]})]}),Object.keys(ie.costByCurrency).length>0&&d.jsxs("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-zinc-800",children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"By Currency"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(ie.costByCurrency).map(([N,B])=>d.jsxs("span",{className:"px-2 py-1 bg-zinc-800 rounded-lg text-xs md:text-sm",children:[d.jsxs("span",{className:"text-zinc-400",children:[N,":"]})," ",d.jsx("span",{className:"text-zinc-200 font-medium",children:B.toLocaleString()})]},N))})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-4 md:mb-6",children:[d.jsxs("div",{className:ve("border rounded-xl p-3 md:p-4",ie.totalUnbooked>0?"bg-red-950/40 border-red-800/60":"bg-zinc-900/60 border-zinc-800"),children:[d.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-xs md:text-sm mb-1",children:[d.jsx(Cs,{className:"h-3 w-3 md:h-4 md:w-4"}),d.jsx("span",{children:"Items to Book"})]}),d.jsx("div",{className:ve("text-lg md:text-xl font-bold",ie.totalUnbooked>0?"text-red-400":"text-emerald-400"),children:ie.totalUnbooked>0?`${ie.totalUnbooked} items`:"All booked "})]}),d.jsxs("div",{className:"bg-zinc-900/60 border border-zinc-800 rounded-xl p-3 md:p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-xs md:text-sm mb-1",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Trip Duration"})]}),d.jsxs("div",{className:"text-lg md:text-xl font-bold text-sky-400",children:[O.length," days"]})]})]}),d.jsxs("div",{className:"flex flex-col gap-3 md:gap-4 mb-4 md:mb-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx(y_,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 md:h-5 md:w-5 text-zinc-500"}),d.jsx("input",{type:"text",placeholder:"Search by date, location...",value:c,onChange:N=>f(N.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 text-sm md:text-base rounded-lg bg-zinc-900 border border-zinc-800 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>l(!s),className:ve("flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-2 rounded-lg text-sm md:text-base font-medium transition",s?"bg-red-600 hover:bg-red-700 text-white":"bg-zinc-800 hover:bg-zinc-700 text-zinc-100"),children:[s?d.jsx(h_,{className:"h-4 w-4"}):d.jsx(d_,{className:"h-4 w-4"}),d.jsx("span",{className:"hidden sm:inline",children:s?"Hide Backup Plans":"Show Backup Plans"}),d.jsx("span",{className:"sm:hidden",children:s?"Hide":"Backups"})]})}),d.jsxs("div",{className:"text-xs md:text-sm text-zinc-400",children:["Showing ",J.length," of ",O.length," days"]})]})]}),d.jsxs("div",{className:"max-w-6xl mx-auto lg:mr-32 space-y-4 md:space-y-6",children:[J.map(N=>d.jsx(c1,{day:N,isExpanded:e.has(N.dateKey),onToggle:()=>Se(N.dateKey),expandedSections:i,onToggleSection:B=>E(N.dateKey,B),showBackupPlans:s,manualActivities:X[N.dateKey]||Th,deletedActivityIds:M[N.dateKey]||Th,onAddActivity:ae,onRemoveActivity:Be,onUpdateActivity:le,todayDateKey:W},N.dateKey)),J.length===0&&d.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[d.jsx("p",{className:"text-lg",children:"No days match your search."}),d.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search query."})]})]})]})}function j1(){return d.jsx(A1,{})}rl.createRoot(document.getElementById("root")).render(d.jsx(ts.StrictMode,{children:d.jsx(j1,{})}));
